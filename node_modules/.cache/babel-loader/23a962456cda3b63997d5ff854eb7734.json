{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\infection-chain\\\\components\\\\subject\\\\medical-test\\\\ProcessModal.js\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Form, Select, Button } from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\nimport { useAuth } from 'app/hooks';\nimport { KeyboardDatePicker } from 'app/components/shared';\nconst ProcessModal = props => {\n  var _getAuthInfo$Username, _getAuthInfo;\n  const {\n    open,\n    onClose,\n    onSubmit\n  } = props;\n  const {\n    watch,\n    register,\n    handleSubmit,\n    setValue\n  } = useForm();\n  const {\n    isAdmin,\n    getAuthInfo\n  } = useAuth();\n  const {\n    unitInfo,\n    prefixList,\n    getPrefixesLoading,\n    createAssignLoading\n  } = useSelector(state => state.medicalTest);\n  useEffect(() => {\n    register({\n      name: 'unitId'\n    });\n    register({\n      name: 'dateAssigned'\n    });\n    if (!isAdmin) {\n      setValue('unitId', unitInfo === null || unitInfo === void 0 ? void 0 : unitInfo.id);\n    }\n  }, [register, unitInfo, isAdmin, setValue]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"Ch\\u1EC9 \\u0111\\u1ECBnh l\\u1EA5y m\\u1EABu\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, (isAdmin || ((_getAuthInfo$Username = (_getAuthInfo = getAuthInfo()) === null || _getAuthInfo === void 0 ? void 0 : _getAuthInfo.Username) !== null && _getAuthInfo$Username !== void 0 ? _getAuthInfo$Username : '').includes('.kcl')) && /*#__PURE__*/React.createElement(Form.Field, {\n    search: true,\n    deburr: true,\n    required: true,\n    label: \"C\\u01A1 s\\u1EDF l\\u1EA5y m\\u1EABu\",\n    control: Select,\n    loading: getPrefixesLoading,\n    options: prefixList.map(z => ({\n      key: z.id,\n      text: z.name,\n      value: z.id\n    })),\n    onChange: (e, _ref) => {\n      let {\n        value\n      } = _ref;\n      setValue('unitId', value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    label: \"Ng\\xE0y ch\\u1EC9 \\u0111\\u1ECBnh l\\u1EA5y m\\u1EABu\",\n    control: KeyboardDatePicker,\n    onChange: d => setValue('dateAssigned', d),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    content: \"X\\xE1c nh\\u1EADn\",\n    loading: createAssignLoading,\n    disabled: !watch('unitId') || !watch('dateAssigned') || createAssignLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }))));\n};\nProcessModal.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func\n};\nProcessModal.defaultProps = {\n  open: false,\n  onClose: () => {},\n  onSubmit: () => {}\n};\nexport default ProcessModal;","map":{"version":3,"names":["React","useEffect","PropTypes","Modal","Form","Select","Button","useForm","useSelector","useAuth","KeyboardDatePicker","ProcessModal","props","_getAuthInfo$Username","_getAuthInfo","open","onClose","onSubmit","watch","register","handleSubmit","setValue","isAdmin","getAuthInfo","unitInfo","prefixList","getPrefixesLoading","createAssignLoading","state","medicalTest","name","id","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","Group","widths","Username","includes","Field","search","deburr","required","label","control","loading","options","map","z","key","text","value","onChange","e","_ref","d","primary","content","disabled","propTypes","bool","func","defaultProps"],"sources":["H:/BAKCO/pj/cds/src/infection-chain/components/subject/medical-test/ProcessModal.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Form, Select, Button } from 'semantic-ui-react';\n\nimport { useForm } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\nimport { useAuth } from 'app/hooks';\nimport { KeyboardDatePicker } from 'app/components/shared';\n\nconst ProcessModal = (props) => {\n  const { open, onClose, onSubmit } = props;\n  const { watch, register, handleSubmit, setValue } = useForm();\n\n  const { isAdmin, getAuthInfo } = useAuth();\n  const { unitInfo, prefixList, getPrefixesLoading, createAssignLoading } =\n    useSelector((state) => state.medicalTest);\n  useEffect(() => {\n    register({ name: 'unitId' });\n    register({ name: 'dateAssigned' });\n    if (!isAdmin) {\n      setValue('unitId', unitInfo?.id);\n    }\n  }, [register, unitInfo, isAdmin, setValue]);\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Chỉ định lấy mẫu</Modal.Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit(onSubmit)}>\n          <Form.Group widths=\"equal\">\n            {(isAdmin || (getAuthInfo()?.Username ?? '').includes('.kcl')) && (\n              <Form.Field\n                search\n                deburr\n                required\n                label=\"Cơ sở lấy mẫu\"\n                control={Select}\n                loading={getPrefixesLoading}\n                options={prefixList.map((z) => ({\n                  key: z.id,\n                  text: z.name,\n                  value: z.id,\n                }))}\n                onChange={(e, { value }) => {\n                  setValue('unitId', value);\n                }}\n              />\n            )}\n            <Form.Field\n              required\n              label=\"Ngày chỉ định lấy mẫu\"\n              control={KeyboardDatePicker}\n              onChange={(d) => setValue('dateAssigned', d)}\n            />\n          </Form.Group>\n          <Button\n            primary\n            content=\"Xác nhận\"\n            loading={createAssignLoading}\n            disabled={\n              !watch('unitId') || !watch('dateAssigned') || createAssignLoading\n            }\n          />\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nProcessModal.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  onSubmit: PropTypes.func,\n};\n\nProcessModal.defaultProps = {\n  open: false,\n  onClose: () => {},\n  onSubmit: () => {},\n};\n\nexport default ProcessModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}