{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\quarantine-facilities\\\\components\\\\quarantine-in-facility\\\\UpdateRoomModal.js\";\nimport React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateRoom } from 'quarantine-facilities/actions/quarantine-facility';\nconst UpdateRoomModal = props => {\n  const {\n    open,\n    onClose,\n    onSubmit,\n    data\n  } = props;\n  const {\n    watch,\n    control,\n    reset,\n    getValues\n  } = useForm({\n    defaultValues: data\n  });\n  useEffect(() => reset(data), [reset, data]);\n  const disabled = useMemo(() => Boolean(!watch('name') || !watch('occupancy')), [watch]);\n  const dispatch = useDispatch();\n  const {\n    selectedFacility,\n    updateRoomLoading\n  } = useSelector(s => s.quarantineFacility);\n  const handleUpdateRoom = async () => {\n    if (selectedFacility) {\n      const {\n        id,\n        name,\n        occupancy\n      } = getValues();\n      await dispatch(updateRoom(selectedFacility.id, {\n        id,\n        name,\n        occupancy: parseInt(occupancy, 10)\n      }));\n      onClose();\n      onSubmit();\n    }\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"C\\u1EADp nh\\u1EADt ph\\xF2ng\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleUpdateRoom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"name\",\n    render: _ref => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        label: \"T\\xEAn\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"occupancy\",\n    render: _ref2 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        type: \"number\",\n        label: \"S\\u1ED1 gi\\u01B0\\u1EDDng\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Button, {\n    primary: true,\n    content: \"X\\xE1c nh\\u1EADn\",\n    disabled: disabled || updateRoomLoading,\n    loading: updateRoomLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }))));\n};\nUpdateRoomModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  data: PropTypes.shape({}).isRequired\n};\nexport default UpdateRoomModal;","map":{"version":3,"names":["React","useEffect","useMemo","PropTypes","Form","Modal","useForm","Controller","useDispatch","useSelector","updateRoom","UpdateRoomModal","props","open","onClose","onSubmit","data","watch","control","reset","getValues","defaultValues","disabled","Boolean","dispatch","selectedFacility","updateRoomLoading","s","quarantineFacility","handleUpdateRoom","id","name","occupancy","parseInt","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","Group","widths","defaultValue","render","_ref","onChange","onBlur","value","Input","fluid","label","_ref2","type","Button","primary","content","loading","propTypes","bool","isRequired","func","shape"],"sources":["H:/BAKCO/pj/data reconciliation/src/quarantine-facilities/components/quarantine-in-facility/UpdateRoomModal.js"],"sourcesContent":["import React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateRoom } from 'quarantine-facilities/actions/quarantine-facility';\n\nconst UpdateRoomModal = (props) => {\n  const {\n    open, onClose, onSubmit, data,\n  } = props;\n  const {\n    watch, control, reset, getValues,\n  } = useForm({ defaultValues: data });\n  useEffect(() => reset(data), [reset, data]);\n  const disabled = useMemo(\n    () => Boolean(!watch('name') || !watch('occupancy')),\n    [watch],\n  );\n\n  const dispatch = useDispatch();\n  const { selectedFacility, updateRoomLoading } = useSelector(\n    (s) => s.quarantineFacility,\n  );\n  const handleUpdateRoom = async () => {\n    if (selectedFacility) {\n      const { id, name, occupancy } = getValues();\n      await dispatch(\n        updateRoom(selectedFacility.id, {\n          id,\n          name,\n          occupancy: parseInt(occupancy, 10),\n        }),\n      );\n      onClose();\n      onSubmit();\n    }\n  };\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Cập nhật phòng</Modal.Header>\n      <Modal.Content>\n        <Form onSubmit={handleUpdateRoom}>\n          <Form.Group widths=\"equal\">\n            <Controller control={control} defaultValue=\"\" name=\"id\" />\n            <Controller\n              control={control}\n              defaultValue=\"\"\n              name=\"name\"\n              render={({ onChange, onBlur, value }) => (\n                <Form.Input\n                  fluid\n                  label=\"Tên\"\n                  value={value}\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n            <Controller\n              control={control}\n              defaultValue=\"\"\n              name=\"occupancy\"\n              render={({ onChange, onBlur, value }) => (\n                <Form.Input\n                  fluid\n                  type=\"number\"\n                  label=\"Số giường\"\n                  value={value}\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n          </Form.Group>\n          <Form.Button\n            primary\n            content=\"Xác nhận\"\n            disabled={disabled || updateRoomLoading}\n            loading={updateRoomLoading}\n          />\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nUpdateRoomModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  data: PropTypes.shape({}).isRequired,\n};\n\nexport default UpdateRoomModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}