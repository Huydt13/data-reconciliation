{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\chain\\\\pages\\\\ChainDetailPage.js\";\n/* eslint-disable no-nested-ternary */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Button, Tab } from 'semantic-ui-react';\nimport ChainSubjectsTable from 'chain/components/ChainSubjectsTable';\nimport ChainContactsTable from 'chain/components/ChainContactsTable';\nimport { FiArrowLeft, FiGitMerge } from 'react-icons/fi';\nimport SubjectInfectionChainModal from 'infection-chain/components/subject/information/SubjectInfectionChainModal';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCriterias } from 'contact/actions/contact';\nimport { getDiseaseTypes, getInfectionTypes } from 'general/actions/general';\nimport moment from 'moment';\nimport ListInfoRow from 'app/components/shared/ListInfoRow';\nconst WrapperButton = styled.div`\n  padding-bottom: 15px;\n`;\nconst ChainDetailPage = () => {\n  const {\n    id: chainId\n  } = useParams();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    chainDetail\n  } = useSelector(s => s.chain);\n  const {\n    diseaseTypeData: {\n      data: diseaseTypeList\n    }\n  } = useSelector(s => s.general);\n  useEffect(() => {\n    dispatch(getCriterias());\n    dispatch(getDiseaseTypes({\n      pageIndex: 0,\n      pageSize: 1000\n    }));\n    dispatch(getInfectionTypes({\n      pageIndex: 0,\n      pageSize: 1000\n    }));\n  }, [dispatch]);\n  const [graphModal, setGraphModal] = useState(false);\n  const panes = [{\n    menuItem: 'Danh sách đối tượng',\n    render: () => /*#__PURE__*/React.createElement(Tab.Pane, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ChainSubjectsTable, {\n      chainId: chainId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }))\n  }, {\n    menuItem: 'Thông tin tiếp xúc',\n    render: () => /*#__PURE__*/React.createElement(Tab.Pane, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ChainContactsTable, {\n      chainId: chainId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }))\n  }];\n  const listInfoRowData = useMemo(() => {\n    var _diseaseTypeList$find;\n    return [{\n      icon: 'tag',\n      label: 'Tên chuỗi',\n      content: chainDetail.name\n    }, {\n      icon: 'check',\n      label: 'Loại chuỗi',\n      content: typeof chainDetail.chainType === 'number' ? chainDetail.chainType === 0 ? 'Chuỗi xác định' : 'Chuỗi nghi ngờ' : '...'\n    }, {\n      icon: 'calendar outline',\n      label: 'Thời gian',\n      content: chainDetail.fromTime ? `${moment(chainDetail.fromTime).format('DD-MM-YYYY')} ${chainDetail.toTime ? moment(chainDetail.toTime).format('~ DD-MM-YYYY') : ''}` : '...'\n    }, {\n      icon: 'bug',\n      label: 'Loại bệnh',\n      content: (_diseaseTypeList$find = diseaseTypeList.find(d => d.id === chainDetail.diseaseTypeId)) === null || _diseaseTypeList$find === void 0 ? void 0 : _diseaseTypeList$find.name\n    }];\n  }, [diseaseTypeList, chainDetail]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(WrapperButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    animated: true,\n    primary: true,\n    onClick: () => history.goBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button.Content, {\n    visible: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, \"Tr\\u1EDF l\\u1EA1i\"), /*#__PURE__*/React.createElement(Button.Content, {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FiArrowLeft, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    animated: true,\n    color: \"teal\",\n    onClick: () => setGraphModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button.Content, {\n    visible: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"S\\u01A1 \\u0111\\u1ED3 chu\\u1ED7i l\\xE2y truy\\u1EC1n\"), /*#__PURE__*/React.createElement(Button.Content, {\n    hidden: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FiGitMerge, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(ListInfoRow, {\n    data: listInfoRowData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Tab, {\n    renderActiveOnly: true,\n    panes: panes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(SubjectInfectionChainModal, {\n    open: graphModal,\n    chainId: chainId,\n    onClose: () => setGraphModal(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }));\n};\nexport default ChainDetailPage;","map":{"version":3,"names":["React","useEffect","useMemo","useState","useHistory","useParams","Button","Tab","ChainSubjectsTable","ChainContactsTable","FiArrowLeft","FiGitMerge","SubjectInfectionChainModal","styled","useDispatch","useSelector","getCriterias","getDiseaseTypes","getInfectionTypes","moment","ListInfoRow","WrapperButton","div","ChainDetailPage","id","chainId","history","dispatch","chainDetail","s","chain","diseaseTypeData","data","diseaseTypeList","general","pageIndex","pageSize","graphModal","setGraphModal","panes","menuItem","render","createElement","Pane","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","listInfoRowData","_diseaseTypeList$find","icon","label","content","name","chainType","fromTime","format","toTime","find","d","diseaseTypeId","animated","primary","onClick","goBack","Content","visible","hidden","color","renderActiveOnly","open","onClose"],"sources":["H:/BAKCO/pj/cds/src/chain/pages/ChainDetailPage.js"],"sourcesContent":["/* eslint-disable no-nested-ternary */\nimport React, { useEffect, useMemo, useState } from 'react';\n\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Button, Tab } from 'semantic-ui-react';\n\nimport ChainSubjectsTable from 'chain/components/ChainSubjectsTable';\nimport ChainContactsTable from 'chain/components/ChainContactsTable';\nimport { FiArrowLeft, FiGitMerge } from 'react-icons/fi';\nimport SubjectInfectionChainModal from 'infection-chain/components/subject/information/SubjectInfectionChainModal';\nimport styled from 'styled-components';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCriterias } from 'contact/actions/contact';\nimport { getDiseaseTypes, getInfectionTypes } from 'general/actions/general';\nimport moment from 'moment';\nimport ListInfoRow from 'app/components/shared/ListInfoRow';\n\nconst WrapperButton = styled.div`\n  padding-bottom: 15px;\n`;\nconst ChainDetailPage = () => {\n  const { id: chainId } = useParams();\n\n  const history = useHistory();\n\n  const dispatch = useDispatch();\n\n  const { chainDetail } = useSelector((s) => s.chain);\n  const {\n    diseaseTypeData: { data: diseaseTypeList },\n  } = useSelector((s) => s.general);\n\n  useEffect(() => {\n    dispatch(getCriterias());\n    dispatch(getDiseaseTypes({ pageIndex: 0, pageSize: 1000 }));\n    dispatch(getInfectionTypes({ pageIndex: 0, pageSize: 1000 }));\n  }, [dispatch]);\n  const [graphModal, setGraphModal] = useState(false);\n  const panes = [\n    {\n      menuItem: 'Danh sách đối tượng',\n      render: () => (\n        <Tab.Pane>\n          <ChainSubjectsTable chainId={chainId} />\n        </Tab.Pane>\n      ),\n    },\n    {\n      menuItem: 'Thông tin tiếp xúc',\n      render: () => (\n        <Tab.Pane>\n          <ChainContactsTable chainId={chainId} />\n        </Tab.Pane>\n      ),\n    },\n  ];\n\n  const listInfoRowData = useMemo(\n    () => [\n      { icon: 'tag', label: 'Tên chuỗi', content: chainDetail.name },\n      {\n        icon: 'check',\n        label: 'Loại chuỗi',\n        content:\n          typeof chainDetail.chainType === 'number'\n            ? chainDetail.chainType === 0\n              ? 'Chuỗi xác định'\n              : 'Chuỗi nghi ngờ'\n            : '...',\n      },\n      {\n        icon: 'calendar outline',\n        label: 'Thời gian',\n        content: chainDetail.fromTime\n          ? `${moment(chainDetail.fromTime).format('DD-MM-YYYY')} ${\n              chainDetail.toTime\n                ? moment(chainDetail.toTime).format('~ DD-MM-YYYY')\n                : ''\n            }`\n          : '...',\n      },\n      {\n        icon: 'bug',\n        label: 'Loại bệnh',\n        content: diseaseTypeList.find((d) => d.id === chainDetail.diseaseTypeId)\n          ?.name,\n      },\n    ],\n    [diseaseTypeList, chainDetail],\n  );\n\n  return (\n    <div>\n      <WrapperButton>\n        <Button animated primary onClick={() => history.goBack()}>\n          <Button.Content visible>Trở lại</Button.Content>\n          <Button.Content hidden>\n            <FiArrowLeft />\n          </Button.Content>\n        </Button>\n        <Button animated color=\"teal\" onClick={() => setGraphModal(true)}>\n          <Button.Content visible>Sơ đồ chuỗi lây truyền</Button.Content>\n          <Button.Content hidden>\n            <FiGitMerge />\n          </Button.Content>\n        </Button>\n      </WrapperButton>\n\n      <ListInfoRow data={listInfoRowData} />\n\n      <Tab renderActiveOnly panes={panes} />\n\n      <SubjectInfectionChainModal\n        open={graphModal}\n        chainId={chainId}\n        onClose={() => setGraphModal(false)}\n      />\n    </div>\n  );\n};\n\nexport default ChainDetailPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}