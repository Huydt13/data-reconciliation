{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\infection-chain\\\\components\\\\subject\\\\quarantine\\\\MoveQuarantineModal.js\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Form, Select, Button } from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getZones } from 'quarantine/actions/quarantine';\nimport { KeyboardDatePicker } from 'app/components/shared';\nconst MoveQuarantineModal = props => {\n  var _subject$information$, _subject$information;\n  const {\n    open,\n    disabledIds,\n    onClose,\n    subject,\n    onSubmit\n  } = props;\n  const {\n    watch,\n    register,\n    setValue,\n    handleSubmit,\n    clearErrors,\n    setError,\n    errors\n  } = useForm({\n    defaultValues: {}\n  });\n  useEffect(() => {\n    register({\n      name: 'newZoneId'\n    });\n    register({\n      name: 'dateStartedToWait'\n    });\n    register({\n      name: 'startTime'\n    });\n    register({\n      name: 'endTime'\n    });\n  }, [register]);\n  const dispatch = useDispatch();\n  const {\n    zoneList\n  } = useSelector(state => state.quarantine);\n  useEffect(() => {\n    if (zoneList.length === 0) {\n      dispatch(getZones());\n    }\n  }, [dispatch, zoneList]);\n  const zoneOptions = zoneList.map(z => ({\n    key: z.id,\n    text: z.name,\n    value: z.id\n  }));\n  return /*#__PURE__*/React.createElement(Modal, {\n    size: \"mini\",\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, (_subject$information$ = subject === null || subject === void 0 ? void 0 : (_subject$information = subject.information) === null || _subject$information === void 0 ? void 0 : _subject$information.fullName) !== null && _subject$information$ !== void 0 ? _subject$information$ : subject === null || subject === void 0 ? void 0 : subject.fullName), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    clearable: true,\n    label: \"Khu c\\xE1ch ly m\\u1EDBi\",\n    control: Select,\n    options: zoneOptions.filter(z => !disabledIds.includes(z.key)),\n    value: watch('newZoneId') || '',\n    onChange: (e, _ref) => {\n      let {\n        value\n      } = _ref;\n      setValue('newZoneId', value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"Ng\\xE0y nh\\u1EADn v\\xE0o ph\\xF2ng\",\n    control: KeyboardDatePicker,\n    value: watch('dateStartedToWait') || '',\n    onChange: date => {\n      clearErrors('dateStartedToWait');\n      setValue('dateStartedToWait', date);\n    },\n    onError: e => setError('dateStartedToWait', e),\n    error: Boolean(errors.dateStartedToWait),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u c\\xE1ch ly\",\n    control: KeyboardDatePicker,\n    value: watch('startTime') || '',\n    onChange: date => {\n      clearErrors('startTime');\n      setValue('startTime', date);\n    },\n    onError: e => setError('startTime', e),\n    error: Boolean(errors.startTime),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"Ng\\xE0y k\\u1EBFt th\\xFAc c\\xE1ch ly\",\n    control: KeyboardDatePicker,\n    value: watch('endTime') || '',\n    onChange: date => {\n      clearErrors('endTime');\n      setValue('endTime', date);\n    },\n    onError: e => setError('endTime', e),\n    error: Boolean(errors.endTime),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    content: \"X\\xE1c nh\\u1EADn\",\n    disabled: !watch('newZoneId'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }))));\n};\nMoveQuarantineModal.propTypes = {\n  open: PropTypes.bool,\n  disabledIds: PropTypes.arrayOf(PropTypes.string),\n  onClose: PropTypes.func,\n  subject: PropTypes.oneOfType([PropTypes.shape({\n    information: PropTypes.shape({\n      fullName: PropTypes.string\n    })\n  }), PropTypes.shape({\n    fullName: PropTypes.string\n  })]),\n  onSubmit: PropTypes.func\n};\nMoveQuarantineModal.defaultProps = {\n  open: false,\n  disabledIds: [],\n  onClose: () => {},\n  subject: {},\n  onSubmit: () => {}\n};\nexport default MoveQuarantineModal;","map":{"version":3,"names":["React","useEffect","PropTypes","Modal","Form","Select","Button","useForm","useDispatch","useSelector","getZones","KeyboardDatePicker","MoveQuarantineModal","props","_subject$information$","_subject$information","open","disabledIds","onClose","subject","onSubmit","watch","register","setValue","handleSubmit","clearErrors","setError","errors","defaultValues","name","dispatch","zoneList","state","quarantine","length","zoneOptions","map","z","key","id","text","value","createElement","size","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","information","fullName","Content","Field","required","clearable","label","control","options","filter","includes","onChange","e","_ref","date","onError","error","Boolean","dateStartedToWait","startTime","endTime","primary","content","disabled","propTypes","bool","arrayOf","string","func","oneOfType","shape","defaultProps"],"sources":["H:/BAKCO/pj/data reconciliation/src/infection-chain/components/subject/quarantine/MoveQuarantineModal.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Modal,\n  Form,\n  Select,\n  Button,\n} from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getZones } from 'quarantine/actions/quarantine';\nimport { KeyboardDatePicker } from 'app/components/shared';\n\nconst MoveQuarantineModal = (props) => {\n  const {\n    open,\n    disabledIds,\n    onClose,\n    subject,\n    onSubmit,\n  } = props;\n\n  const {\n    watch,\n    register,\n    setValue,\n    handleSubmit,\n    clearErrors,\n    setError,\n    errors,\n  } = useForm({ defaultValues: {} });\n\n  useEffect(() => {\n    register({ name: 'newZoneId' });\n    register({ name: 'dateStartedToWait' });\n    register({ name: 'startTime' });\n    register({ name: 'endTime' });\n  }, [register]);\n\n  const dispatch = useDispatch();\n  const { zoneList } = useSelector((state) => state.quarantine);\n  useEffect(() => {\n    if (zoneList.length === 0) {\n      dispatch(getZones());\n    }\n  }, [dispatch, zoneList]);\n\n  const zoneOptions = zoneList.map((z) => ({\n    key: z.id,\n    text: z.name,\n    value: z.id,\n  }));\n\n  return (\n    <Modal\n      size=\"mini\"\n      open={open}\n      onClose={onClose}\n    >\n      <Modal.Header>{subject?.information?.fullName ?? subject?.fullName}</Modal.Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit(onSubmit)}>\n          <Form.Field\n            required\n            clearable\n            label=\"Khu cách ly mới\"\n            control={Select}\n            options={zoneOptions.filter((z) => !disabledIds.includes(z.key))}\n            value={watch('newZoneId') || ''}\n            onChange={(e, { value }) => {\n              setValue('newZoneId', value);\n            }}\n          />\n          <Form.Field\n            label=\"Ngày nhận vào phòng\"\n            control={KeyboardDatePicker}\n            value={watch('dateStartedToWait') || ''}\n            onChange={(date) => {\n              clearErrors('dateStartedToWait');\n              setValue('dateStartedToWait', date);\n            }}\n            onError={(e) => setError('dateStartedToWait', e)}\n            error={Boolean(errors.dateStartedToWait)}\n          />\n          <Form.Field\n            label=\"Ngày bắt đầu cách ly\"\n            control={KeyboardDatePicker}\n            value={watch('startTime') || ''}\n            onChange={(date) => {\n              clearErrors('startTime');\n              setValue('startTime', date);\n            }}\n            onError={(e) => setError('startTime', e)}\n            error={Boolean(errors.startTime)}\n          />\n          <Form.Field\n            label=\"Ngày kết thúc cách ly\"\n            control={KeyboardDatePicker}\n            value={watch('endTime') || ''}\n            onChange={(date) => {\n              clearErrors('endTime');\n              setValue('endTime', date);\n            }}\n            onError={(e) => setError('endTime', e)}\n            error={Boolean(errors.endTime)}\n          />\n          <Button primary content=\"Xác nhận\" disabled={!watch('newZoneId')} />\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nMoveQuarantineModal.propTypes = {\n  open: PropTypes.bool,\n  disabledIds: PropTypes.arrayOf(PropTypes.string),\n  onClose: PropTypes.func,\n  subject: PropTypes.oneOfType([\n    PropTypes.shape({\n      information: PropTypes.shape({\n        fullName: PropTypes.string,\n      }),\n    }),\n    PropTypes.shape({\n      fullName: PropTypes.string,\n    }),\n  ]),\n  onSubmit: PropTypes.func,\n};\n\nMoveQuarantineModal.defaultProps = {\n  open: false,\n  disabledIds: [],\n  onClose: () => {},\n  subject: {},\n  onSubmit: () => {},\n};\n\nexport default MoveQuarantineModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}