{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\chain\\\\components\\\\ChainContactsTable.js\";\nimport React, { useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { FiDownload } from 'react-icons/fi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { exportContactsByChain, getContactsByChain } from 'chain/actions/chain';\nimport { DataTable } from 'app/components/shared';\nimport { getFullLocationName, calculateColumnsTotal } from 'app/utils/helpers';\nconst columns = [{\n  Header: '#',\n  accessor: 'index'\n}, {\n  Header: 'Các mốc dịch',\n  columns: [{\n    Header: 'Địa điểm',\n    formatter: getFullLocationName\n  }, {\n    Header: 'Thời gian',\n    formatter: r => `${moment(r.fromTime).format('HH:mm | DD-MM')} ~ ${moment(r.toTime).format('HH:mm | DD-MM')}`\n  }]\n}, {\n  Header: 'Điều tra và xét nghiệm',\n  columns: [{\n    Header: 'Tiếp xúc gần',\n    Footer: info => calculateColumnsTotal(info, 'numberOfCloseContacts'),\n    accessor: 'numberOfCloseContacts'\n  }, {\n    Header: 'Tiếp xúc khác',\n    Footer: info => calculateColumnsTotal(info, 'numberOfOtherContacts'),\n    accessor: 'numberOfOtherContacts'\n  }, {\n    Header: 'Tiếp cận được',\n    Footer: info => calculateColumnsTotal(info, 'numberOfApproachedSubjects'),\n    accessor: 'numberOfApproachedSubjects'\n  }, {\n    Header: 'Đã lấy mẫu',\n    Footer: info => calculateColumnsTotal(info, 'numberOfExaminedSubjects'),\n    accessor: 'numberOfExaminedSubjects'\n  }]\n}, {\n  Header: 'Kết quả tiếp xúc',\n  columns: [{\n    Header: 'Dương tính',\n    Footer: info => calculateColumnsTotal(info, 'numberOfExaminedPositiveSubjects'),\n    accessor: 'numberOfExaminedPositiveSubjects'\n  }, {\n    Header: 'Âm tính',\n    Footer: info => calculateColumnsTotal(info, 'numberOfExaminedNegativeSubjects'),\n    accessor: 'numberOfExaminedNegativeSubjects'\n  }, {\n    Header: 'Chờ kết quả',\n    Footer: info => calculateColumnsTotal(info, 'numberOfExaminedWaitingSubjects'),\n    accessor: 'numberOfExaminedWaitingSubjects'\n  }]\n}];\nconst ChainContactsTable = _ref => {\n  let {\n    chainId\n  } = _ref;\n  const {\n    contactsByChainData: {\n      data\n    },\n    getContactsByChainLoading,\n    exportContactsByChainLoading\n  } = useSelector(s => s.chain);\n  const dispatch = useDispatch();\n  const getData = useCallback(() => {\n    dispatch(getContactsByChain({\n      chainId\n    }));\n  }, [dispatch, chainId]);\n  useEffect(getData, [getData]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    celled: true,\n    footer: true,\n    noPaging: true,\n    pageCount: 1,\n    title: \"Th\\xF4ng tin ti\\u1EBFp x\\xFAc\",\n    loading: getContactsByChainLoading || exportContactsByChainLoading,\n    columns: columns,\n    data: data.map((d, i) => ({\n      ...d,\n      index: i + 1\n    })),\n    actions: [{\n      icon: /*#__PURE__*/React.createElement(FiDownload, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 19\n        }\n      }),\n      title: 'Export To Excel',\n      color: 'green',\n      onClick: () => dispatch(exportContactsByChain(chainId)),\n      globalAction: true\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }));\n};\nChainContactsTable.propTypes = {\n  chainId: PropTypes.string\n};\nChainContactsTable.defaultProps = {\n  chainId: ''\n};\nexport default ChainContactsTable;","map":{"version":3,"names":["React","useCallback","useEffect","PropTypes","moment","FiDownload","useDispatch","useSelector","exportContactsByChain","getContactsByChain","DataTable","getFullLocationName","calculateColumnsTotal","columns","Header","accessor","formatter","r","fromTime","format","toTime","Footer","info","ChainContactsTable","_ref","chainId","contactsByChainData","data","getContactsByChainLoading","exportContactsByChainLoading","s","chain","dispatch","getData","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","celled","footer","noPaging","pageCount","title","loading","map","d","i","index","actions","icon","color","onClick","globalAction","propTypes","string","defaultProps"],"sources":["H:/BAKCO/pj/data reconciliation/src/chain/components/ChainContactsTable.js"],"sourcesContent":["import React, { useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport { FiDownload } from 'react-icons/fi';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { exportContactsByChain, getContactsByChain } from 'chain/actions/chain';\n\nimport { DataTable } from 'app/components/shared';\nimport { getFullLocationName, calculateColumnsTotal } from 'app/utils/helpers';\n\nconst columns = [\n  {\n    Header: '#',\n    accessor: 'index',\n  },\n  {\n    Header: 'Các mốc dịch',\n    columns: [\n      {\n        Header: 'Địa điểm',\n        formatter: getFullLocationName,\n      },\n      {\n        Header: 'Thời gian',\n        formatter: (r) =>\n          `${moment(r.fromTime).format('HH:mm | DD-MM')} ~ ${moment(\n            r.toTime,\n          ).format('HH:mm | DD-MM')}`,\n      },\n    ],\n  },\n  {\n    Header: 'Điều tra và xét nghiệm',\n    columns: [\n      {\n        Header: 'Tiếp xúc gần',\n        Footer: (info) => calculateColumnsTotal(info, 'numberOfCloseContacts'),\n        accessor: 'numberOfCloseContacts',\n      },\n      {\n        Header: 'Tiếp xúc khác',\n        Footer: (info) => calculateColumnsTotal(info, 'numberOfOtherContacts'),\n\n        accessor: 'numberOfOtherContacts',\n      },\n      {\n        Header: 'Tiếp cận được',\n        Footer: (info) =>\n          calculateColumnsTotal(info, 'numberOfApproachedSubjects'),\n\n        accessor: 'numberOfApproachedSubjects',\n      },\n      {\n        Header: 'Đã lấy mẫu',\n        Footer: (info) =>\n          calculateColumnsTotal(info, 'numberOfExaminedSubjects'),\n\n        accessor: 'numberOfExaminedSubjects',\n      },\n    ],\n  },\n  {\n    Header: 'Kết quả tiếp xúc',\n    columns: [\n      {\n        Header: 'Dương tính',\n        Footer: (info) =>\n          calculateColumnsTotal(info, 'numberOfExaminedPositiveSubjects'),\n\n        accessor: 'numberOfExaminedPositiveSubjects',\n      },\n      {\n        Header: 'Âm tính',\n        Footer: (info) =>\n          calculateColumnsTotal(info, 'numberOfExaminedNegativeSubjects'),\n\n        accessor: 'numberOfExaminedNegativeSubjects',\n      },\n      {\n        Header: 'Chờ kết quả',\n        Footer: (info) =>\n          calculateColumnsTotal(info, 'numberOfExaminedWaitingSubjects'),\n\n        accessor: 'numberOfExaminedWaitingSubjects',\n      },\n    ],\n  },\n];\n\nconst ChainContactsTable = ({ chainId }) => {\n  const {\n    contactsByChainData: { data },\n    getContactsByChainLoading,\n    exportContactsByChainLoading,\n  } = useSelector((s) => s.chain);\n\n  const dispatch = useDispatch();\n  const getData = useCallback(() => {\n    dispatch(getContactsByChain({ chainId }));\n  }, [dispatch, chainId]);\n  useEffect(getData, [getData]);\n  return (\n    <div>\n      <DataTable\n        celled\n        footer\n        noPaging\n        pageCount={1}\n        title=\"Thông tin tiếp xúc\"\n        loading={getContactsByChainLoading || exportContactsByChainLoading}\n        columns={columns}\n        data={data.map((d, i) => ({ ...d, index: i + 1 }))}\n        actions={[\n          {\n            icon: <FiDownload />,\n            title: 'Export To Excel',\n            color: 'green',\n            onClick: () => dispatch(exportContactsByChain(chainId)),\n            globalAction: true,\n          },\n        ]}\n      />\n    </div>\n  );\n};\n\nChainContactsTable.propTypes = {\n  chainId: PropTypes.string,\n};\n\nChainContactsTable.defaultProps = {\n  chainId: '',\n};\n\nexport default ChainContactsTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}