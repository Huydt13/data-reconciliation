{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\medical-test\\\\components\\\\subjects\\\\CreateSubjectToMedicalTestModal.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Select, Form, Header } from 'semantic-ui-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showConfirmModal } from 'app/actions/global';\nimport SubjectForm from 'infection-chain/components/subject/information/SubjectForm';\nimport { useAuth } from 'app/hooks';\nconst CreateSubjectToMedicalTestModal = props => {\n  const {\n    open,\n    onClose,\n    onSubmit\n  } = props;\n  const dispatch = useDispatch();\n  const {\n    createSubjectLoading,\n    processSubjectLoading\n  } = useSelector(state => state.subject);\n  const {\n    unitInfo,\n    prefixList,\n    createAssignLoading,\n    getPrefixesLoading,\n    createMedicalTestLoading,\n    mergeProfileLoading,\n    createProfileFromExaminationLoading\n  } = useSelector(state => state.medicalTest);\n  const loading = createSubjectLoading || processSubjectLoading || createMedicalTestLoading || getPrefixesLoading || mergeProfileLoading || createProfileFromExaminationLoading || createAssignLoading;\n  const {\n    isAdmin\n  } = useAuth();\n  const [unitId, setUnitId] = useState('');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: () => dispatch(showConfirmModal('Dữ liệu chưa được lưu, bạn có muốn đóng?', onClose)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    content: \"Ch\\u1EC9 \\u0111\\u1ECBnh \\u0111\\u1ED1i t\\u01B0\\u1EE3ng x\\xE9t nghi\\u1EC7m - m\\u1EABu \\u0111\\u01A1n\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), isAdmin && /*#__PURE__*/React.createElement(Modal.Content, {\n    style: {\n      padding: '1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h4\",\n    content: \"Ch\\u1EC9 \\u0111\\u1ECBnh c\\u01A1 s\\u1EDF l\\u1EA5y m\\u1EABu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `ui form ${loading ? 'loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    label: \"T\\xEAn c\\u01A1 s\\u1EDF\",\n    control: Select,\n    value: unitId,\n    options: prefixList.map(pr => ({\n      key: pr.id,\n      text: pr.name,\n      value: pr.id\n    })),\n    onChange: (e, _ref) => {\n      let {\n        value\n      } = _ref;\n      setUnitId(value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(SubjectForm, {\n    paddingButton: true,\n    loading: loading,\n    disableSubmit: isAdmin && !unitId,\n    onSubmit: d => {\n      onSubmit({\n        data: d,\n        unitId: unitId || unitInfo.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })));\n};\nCreateSubjectToMedicalTestModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func\n};\nCreateSubjectToMedicalTestModal.defaultProps = {\n  onSubmit: () => {}\n};\nexport default CreateSubjectToMedicalTestModal;","map":{"version":3,"names":["React","useState","PropTypes","Modal","Select","Form","Header","useDispatch","useSelector","showConfirmModal","SubjectForm","useAuth","CreateSubjectToMedicalTestModal","props","open","onClose","onSubmit","dispatch","createSubjectLoading","processSubjectLoading","state","subject","unitInfo","prefixList","createAssignLoading","getPrefixesLoading","createMedicalTestLoading","mergeProfileLoading","createProfileFromExaminationLoading","medicalTest","loading","isAdmin","unitId","setUnitId","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","content","Content","style","padding","as","className","Field","required","label","control","value","options","map","pr","key","id","text","name","onChange","e","_ref","paddingButton","disableSubmit","d","data","propTypes","bool","isRequired","func","defaultProps"],"sources":["H:/BAKCO/pj/cds/src/medical-test/components/subjects/CreateSubjectToMedicalTestModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Modal, Select, Form, Header } from 'semantic-ui-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showConfirmModal } from 'app/actions/global';\nimport SubjectForm from 'infection-chain/components/subject/information/SubjectForm';\nimport { useAuth } from 'app/hooks';\n\nconst CreateSubjectToMedicalTestModal = (props) => {\n  const { open, onClose, onSubmit } = props;\n\n  const dispatch = useDispatch();\n  const { createSubjectLoading, processSubjectLoading } = useSelector(\n    (state) => state.subject,\n  );\n  const {\n    unitInfo,\n    prefixList,\n    createAssignLoading,\n    getPrefixesLoading,\n    createMedicalTestLoading,\n    mergeProfileLoading,\n    createProfileFromExaminationLoading,\n  } = useSelector((state) => state.medicalTest);\n  const loading =\n    createSubjectLoading ||\n    processSubjectLoading ||\n    createMedicalTestLoading ||\n    getPrefixesLoading ||\n    mergeProfileLoading ||\n    createProfileFromExaminationLoading ||\n    createAssignLoading;\n\n  const { isAdmin } = useAuth();\n  const [unitId, setUnitId] = useState('');\n\n  return (\n    <>\n      <Modal\n        open={open}\n        onClose={() =>\n          dispatch(\n            showConfirmModal(\n              'Dữ liệu chưa được lưu, bạn có muốn đóng?',\n              onClose,\n            ),\n          )\n        }\n      >\n        <Modal.Header content=\"Chỉ định đối tượng xét nghiệm - mẫu đơn\" />\n        {isAdmin && (\n          <Modal.Content style={{ padding: '1rem' }}>\n            <Header as=\"h4\" content=\"Chỉ định cơ sở lấy mẫu\" />\n            <div className={`ui form ${loading ? 'loading' : ''}`}>\n              <Form.Field\n                required\n                label=\"Tên cơ sở\"\n                control={Select}\n                value={unitId}\n                options={prefixList.map((pr) => ({\n                  key: pr.id,\n                  text: pr.name,\n                  value: pr.id,\n                }))}\n                onChange={(e, { value }) => {\n                  setUnitId(value);\n                }}\n              />\n            </div>\n          </Modal.Content>\n        )}\n        <SubjectForm\n          paddingButton\n          loading={loading}\n          disableSubmit={isAdmin && !unitId}\n          onSubmit={(d) => {\n            onSubmit({ data: d, unitId: unitId || unitInfo.id });\n          }}\n        />\n      </Modal>\n    </>\n  );\n};\n\nCreateSubjectToMedicalTestModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func,\n};\n\nCreateSubjectToMedicalTestModal.defaultProps = {\n  onSubmit: () => {},\n};\n\nexport default CreateSubjectToMedicalTestModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}