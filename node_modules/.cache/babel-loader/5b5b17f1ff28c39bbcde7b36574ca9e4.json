{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\profile\\\\components\\\\ExportProfileHasExaminationModal.js\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Modal, Form, Button } from 'semantic-ui-react';\nimport { KeyboardDatePicker } from 'app/components/shared';\nimport { useForm } from 'react-hook-form';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { exportExcel } from 'app/actions/global';\nimport apiLinks from 'app/utils/api-links';\nconst profileTypeOptions = [{\n  value: 0,\n  text: 'Tất cả'\n}, {\n  value: 1,\n  text: 'Hồ sơ đơn'\n}, {\n  value: 2,\n  text: 'Hồ sơ gộp'\n}];\nconst ExportProfileModal = props => {\n  const {\n    open,\n    onClose\n  } = props;\n  const {\n    watch,\n    register,\n    setValue,\n    handleSubmit\n  } = useForm();\n  const dispatch = useDispatch();\n  const {\n    exportLoading\n  } = useSelector(s => s.global);\n  const onSubmit = async d => {\n    var _d$fromDate, _d$toDate;\n    await dispatch(exportExcel({\n      method: 'GET',\n      url: apiLinks.excel.exportProfileHasExamination,\n      params: {\n        fromDate: (_d$fromDate = d === null || d === void 0 ? void 0 : d.fromDate) !== null && _d$fromDate !== void 0 ? _d$fromDate : moment().format('YYYY-DD-MM'),\n        toDate: (_d$toDate = d === null || d === void 0 ? void 0 : d.toDate) !== null && _d$toDate !== void 0 ? _d$toDate : moment().format('YYYY-DD-MM'),\n        onlyGroupProfiles: (d === null || d === void 0 ? void 0 : d.onlyGroupProfiles) ? d.onlyGroupProfiles === 1 ? false : d.onlyGroupProfiles === 2 ? true : null : null\n      },\n      fileName: 'Xuất hồ sơ có lịch sử xét nghiệm'\n    }));\n  };\n  useEffect(() => {\n    register('fromDate');\n    register('toDate');\n    register('onlyGroupProfiles');\n  }, [register]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, \"Xu\\u1EA5t h\\u1ED3 s\\u01A1 c\\xF3 l\\u1ECBch s\\u1EED x\\xE9t nghi\\u1EC7m\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    loading: exportLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    fluid: true,\n    required: true,\n    label: \"T\\u1EEB ng\\xE0y\",\n    control: KeyboardDatePicker,\n    disabledDays: [{\n      after: new Date()\n    }],\n    value: watch('fromDate') || new Date(),\n    onChange: value => setValue('fromDate', value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    fluid: true,\n    required: true,\n    label: \"\\u0110\\u1EBFn ng\\xE0y\",\n    control: KeyboardDatePicker,\n    disabledDays: [{\n      after: new Date(),\n      before: new Date(watch('fromDate'))\n    }],\n    value: watch('toDate') || new Date(),\n    onChange: value => setValue('toDate', value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Select, {\n    label: \"Lo\\u1EA1i h\\u1ED3 s\\u01A1\",\n    value: watch('onlyGroupProfiles') || 0,\n    options: profileTypeOptions,\n    onChange: (_, _ref) => {\n      let {\n        value\n      } = _ref;\n      return setValue('onlyGroupProfiles', value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    labelPosition: \"right\",\n    icon: \"download\",\n    color: \"twitter\",\n    content: \"Xu\\u1EA5t b\\xE1o c\\xE1o\",\n    disabled: exportLoading,\n    onClick: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 11\n    }\n  }))));\n};\nExportProfileModal.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func\n};\nExportProfileModal.defaultProps = {\n  open: false,\n  onClose: () => {}\n};\nexport default ExportProfileModal;","map":{"version":3,"names":["React","useEffect","PropTypes","moment","Modal","Form","Button","KeyboardDatePicker","useForm","useSelector","useDispatch","exportExcel","apiLinks","profileTypeOptions","value","text","ExportProfileModal","props","open","onClose","watch","register","setValue","handleSubmit","dispatch","exportLoading","s","global","onSubmit","d","_d$fromDate","_d$toDate","method","url","excel","exportProfileHasExamination","params","fromDate","format","toDate","onlyGroupProfiles","fileName","createElement","__self","__source","_jsxFileName","lineNumber","columnNumber","Header","Content","loading","Group","widths","Field","fluid","required","label","control","disabledDays","after","Date","onChange","before","Select","options","_","_ref","labelPosition","icon","color","content","disabled","onClick","propTypes","bool","func","defaultProps"],"sources":["H:/BAKCO/pj/data reconciliation/src/profile/components/ExportProfileHasExaminationModal.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\n\nimport { Modal, Form, Button } from 'semantic-ui-react';\nimport { KeyboardDatePicker } from 'app/components/shared';\n\nimport { useForm } from 'react-hook-form';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { exportExcel } from 'app/actions/global';\nimport apiLinks from 'app/utils/api-links';\n\nconst profileTypeOptions = [\n  { value: 0, text: 'Tất cả' },\n  { value: 1, text: 'Hồ sơ đơn' },\n  { value: 2, text: 'Hồ sơ gộp' },\n];\n\nconst ExportProfileModal = (props) => {\n  const { open, onClose } = props;\n\n  const {\n    watch,\n    register,\n    setValue,\n    handleSubmit,\n  } = useForm();\n  const dispatch = useDispatch();\n  const { exportLoading } = useSelector((s) => s.global);\n\n  const onSubmit = async (d) => {\n    await dispatch(\n      exportExcel({\n        method: 'GET',\n        url: apiLinks.excel.exportProfileHasExamination,\n        params: {\n          fromDate: d?.fromDate ?? moment().format('YYYY-DD-MM'),\n          toDate: d?.toDate ?? moment().format('YYYY-DD-MM'),\n          onlyGroupProfiles:\n          d?.onlyGroupProfiles\n            ?\n              d.onlyGroupProfiles === 1\n              ? false\n              : d.onlyGroupProfiles === 2\n                ? true\n                : null\n            : null,\n        },\n        fileName: 'Xuất hồ sơ có lịch sử xét nghiệm',\n      }),\n    );\n  };\n\n  useEffect(() => {\n    register('fromDate');\n    register('toDate');\n    register('onlyGroupProfiles');\n  }, [register]);\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>\n        Xuất hồ sơ có lịch sử xét nghiệm\n      </Modal.Header>\n      <Modal.Content>\n        <Form loading={exportLoading}>\n          <Form.Group widths=\"equal\">\n            <Form.Field\n              fluid\n              required\n              label=\"Từ ngày\"\n              control={KeyboardDatePicker}\n              disabledDays={[{ after: new Date() }]}\n              value={watch('fromDate') || new Date()}\n              onChange={(value) => setValue('fromDate', value)}\n            />\n            <Form.Field\n              fluid\n              required\n              label=\"Đến ngày\"\n              control={KeyboardDatePicker}\n              disabledDays={[\n              {\n                after: new Date(),\n                before: new Date(watch('fromDate')),\n              },\n            ]}\n              value={watch('toDate') || new Date()}\n              onChange={(value) => setValue('toDate', value)}\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Select\n              label=\"Loại hồ sơ\"\n              value={watch('onlyGroupProfiles') || 0}\n              options={profileTypeOptions}\n              onChange={(_, { value }) => setValue('onlyGroupProfiles', value)}\n            />\n          </Form.Group>\n          <Button\n            labelPosition=\"right\"\n            icon=\"download\"\n            color=\"twitter\"\n            content=\"Xuất báo cáo\"\n            disabled={exportLoading}\n            onClick={handleSubmit(onSubmit)}\n          />\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nExportProfileModal.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n};\n\nExportProfileModal.defaultProps = {\n  open: false,\n  onClose: () => {},\n};\n\nexport default ExportProfileModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}