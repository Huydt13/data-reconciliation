{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\treatment\\\\components\\\\shared\\\\CompleteVisitModal.js\";\n/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal, Button } from 'semantic-ui-react';\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { completeVisit } from 'treatment/actions/visit';\nimport { KeyboardDateTimePicker } from 'app/components/shared';\nconst CompleteVisitModal = _ref => {\n  let {\n    open,\n    onClose,\n    data,\n    getData\n  } = _ref;\n  const dispatch = useDispatch();\n  const methods = useForm();\n  const loading = useSelector(s => s.treatment.visit.completeVisitLoading);\n  const onSubmit = async d => {\n    await dispatch(completeVisit({\n      ...d,\n      profileId: data.profile.id,\n      facilityId: data.facility.id\n    }));\n    onClose();\n    getData();\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, \"K\\u1EBFt th\\xFAc Th\\u0103m kh\\xE1m\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormProvider, Object.assign({}, methods, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: methods.control,\n    defaultValue: new Date(),\n    name: \"endTime\",\n    rules: {\n      required: true\n    },\n    render: _ref2 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        required: true,\n        isHavingTime: true,\n        control: KeyboardDateTimePicker,\n        disabledDays: [{\n          after: new Date()\n        }],\n        label: \"Th\\u1EDDi gian k\\u1EBFt th\\xFAc\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    control: methods.control,\n    defaultValue: \"\",\n    name: \"closeNote\",\n    render: _ref3 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref3;\n      return /*#__PURE__*/React.createElement(Form.TextArea, {\n        label: \"Ghi ch\\xFA\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    positive: true,\n    labelPosition: \"right\",\n    icon: \"checkmark\",\n    content: \"X\\xE1c nh\\u1EADn\",\n    loading: loading,\n    disabled: loading,\n    onClick: methods.handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })));\n};\nCompleteVisitModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  getData: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    profile: PropTypes.shape({\n      id: PropTypes.number,\n      addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({}))\n    }),\n    facility: PropTypes.shape({\n      id: PropTypes.string\n    }),\n    facilityId: PropTypes.string\n  })\n};\nCompleteVisitModal.defaultProps = {\n  data: {\n    profile: {\n      addressesInVietnam: []\n    }\n  }\n};\nexport default CompleteVisitModal;","map":{"version":3,"names":["React","PropTypes","Form","Modal","Button","useForm","Controller","FormProvider","useDispatch","useSelector","completeVisit","KeyboardDateTimePicker","CompleteVisitModal","_ref","open","onClose","data","getData","dispatch","methods","loading","s","treatment","visit","completeVisitLoading","onSubmit","d","profileId","profile","id","facilityId","facility","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","Object","assign","widths","control","defaultValue","Date","name","rules","required","render","_ref2","onChange","onBlur","value","Field","fluid","isHavingTime","disabledDays","after","label","_ref3","TextArea","Actions","positive","labelPosition","icon","content","disabled","onClick","handleSubmit","propTypes","bool","isRequired","func","shape","number","addressesInVietnam","arrayOf","string","defaultProps"],"sources":["H:/BAKCO/pj/cds/src/treatment/components/shared/CompleteVisitModal.js"],"sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Form, Modal, Button } from 'semantic-ui-react';\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { completeVisit } from 'treatment/actions/visit';\n\nimport { KeyboardDateTimePicker } from 'app/components/shared';\n\nconst CompleteVisitModal = ({ open, onClose, data, getData }) => {\n  const dispatch = useDispatch();\n  const methods = useForm();\n\n  const loading = useSelector((s) => s.treatment.visit.completeVisitLoading);\n\n  const onSubmit = async (d) => {\n    await dispatch(\n      completeVisit({\n        ...d,\n        profileId: data.profile.id,\n        facilityId: data.facility.id,\n      }),\n    );\n    onClose();\n    getData();\n  };\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Kết thúc Thăm khám</Modal.Header>\n      <Modal.Content>\n        <FormProvider {...methods}>\n          <Form widths=\"equal\">\n            <Controller\n              control={methods.control}\n              defaultValue={new Date()}\n              name=\"endTime\"\n              rules={{ required: true }}\n              render={({ onChange, onBlur, value }) => (\n                <Form.Field\n                  fluid\n                  required\n                  isHavingTime\n                  control={KeyboardDateTimePicker}\n                  disabledDays={[{ after: new Date() }]}\n                  label=\"Thời gian kết thúc\"\n                  value={value}\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n            <Controller\n              control={methods.control}\n              defaultValue=\"\"\n              name=\"closeNote\"\n              render={({ onChange, onBlur, value }) => (\n                <Form.TextArea\n                  label=\"Ghi chú\"\n                  value={value}\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n          </Form>\n        </FormProvider>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          positive\n          labelPosition=\"right\"\n          icon=\"checkmark\"\n          content=\"Xác nhận\"\n          loading={loading}\n          disabled={loading}\n          onClick={methods.handleSubmit(onSubmit)}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nCompleteVisitModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  getData: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    profile: PropTypes.shape({\n      id: PropTypes.number,\n      addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\n    }),\n    facility: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n    facilityId: PropTypes.string,\n  }),\n};\n\nCompleteVisitModal.defaultProps = {\n  data: {\n    profile: {\n      addressesInVietnam: [],\n    },\n  },\n};\n\nexport default CompleteVisitModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}