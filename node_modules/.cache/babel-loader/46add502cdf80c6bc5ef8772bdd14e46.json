{"ast":null,"code":"import axios from 'axios';\nimport store from '../store';\nlet cancelToken;\nconst httpClient = {\n  callApi: async _ref => {\n    let {\n      method = 'GET',\n      contentType = 'application/json',\n      url,\n      data,\n      params,\n      onUploadProgress,\n      responseType,\n      cancelToken: isCancel\n    } = _ref;\n    const {\n      token\n    } = store.getState().auth; // token\n    const headerToken = token ? {\n      Authorization: `bearer ${token}`\n    } : null;\n    if (typeof cancelToken !== typeof undefined) {\n      cancelToken.cancel('Operation canceled due to new request.');\n    }\n    cancelToken = axios.CancelToken.source();\n    return axios({\n      method,\n      contentType,\n      url,\n      headers: {\n        ...headerToken\n      },\n      data,\n      params,\n      onUploadProgress,\n      responseType,\n      cancelToken: isCancel && cancelToken.token\n    });\n  }\n};\nexport default httpClient;","map":{"version":3,"names":["axios","store","cancelToken","httpClient","callApi","_ref","method","contentType","url","data","params","onUploadProgress","responseType","isCancel","token","getState","auth","headerToken","Authorization","undefined","cancel","CancelToken","source","headers"],"sources":["H:/BAKCO/pj/data reconciliation/src/app/utils/http-client.js"],"sourcesContent":["import axios from 'axios';\n\nimport store from '../store';\n\nlet cancelToken;\n\nconst httpClient = {\n  callApi: async ({\n    method = 'GET',\n    contentType = 'application/json',\n    url,\n    data,\n    params,\n    onUploadProgress,\n    responseType,\n    cancelToken: isCancel,\n  }) => {\n    const { token } = store.getState().auth; // token\n    const headerToken = token ? { Authorization: `bearer ${token}` } : null;\n    if (typeof cancelToken !== typeof undefined) {\n      cancelToken.cancel('Operation canceled due to new request.');\n    }\n    cancelToken = axios.CancelToken.source();\n\n    return axios({\n      method,\n      contentType,\n      url,\n      headers: { ...headerToken },\n      data,\n      params,\n      onUploadProgress,\n      responseType,\n      cancelToken: isCancel && cancelToken.token,\n    });\n  },\n};\n\nexport default httpClient;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,KAAK,MAAM,UAAU;AAE5B,IAAIC,WAAW;AAEf,MAAMC,UAAU,GAAG;EACjBC,OAAO,EAAE,MAAAC,IAAA,IASH;IAAA,IATU;MACdC,MAAM,GAAG,KAAK;MACdC,WAAW,GAAG,kBAAkB;MAChCC,GAAG;MACHC,IAAI;MACJC,MAAM;MACNC,gBAAgB;MAChBC,YAAY;MACZV,WAAW,EAAEW;IACf,CAAC,GAAAR,IAAA;IACC,MAAM;MAAES;IAAM,CAAC,GAAGb,KAAK,CAACc,QAAQ,EAAE,CAACC,IAAI,CAAC,CAAC;IACzC,MAAMC,WAAW,GAAGH,KAAK,GAAG;MAAEI,aAAa,EAAG,UAASJ,KAAM;IAAE,CAAC,GAAG,IAAI;IACvE,IAAI,OAAOZ,WAAW,KAAK,OAAOiB,SAAS,EAAE;MAC3CjB,WAAW,CAACkB,MAAM,CAAC,wCAAwC,CAAC;IAC9D;IACAlB,WAAW,GAAGF,KAAK,CAACqB,WAAW,CAACC,MAAM,EAAE;IAExC,OAAOtB,KAAK,CAAC;MACXM,MAAM;MACNC,WAAW;MACXC,GAAG;MACHe,OAAO,EAAE;QAAE,GAAGN;MAAY,CAAC;MAC3BR,IAAI;MACJC,MAAM;MACNC,gBAAgB;MAChBC,YAAY;MACZV,WAAW,EAAEW,QAAQ,IAAIX,WAAW,CAACY;IACvC,CAAC,CAAC;EACJ;AACF,CAAC;AAED,eAAeX,UAAU"},"metadata":{},"sourceType":"module"}