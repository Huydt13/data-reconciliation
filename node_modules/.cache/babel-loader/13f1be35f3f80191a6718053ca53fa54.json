{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\medical-test\\\\components\\\\units\\\\UnitConfigModal.js\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { createUnitConfig, updateUnitConfig } from 'medical-test/actions/medical-test';\nconst UnitConfigModal = props => {\n  const dispatch = useDispatch();\n  const {\n    open,\n    onClose,\n    onRefresh,\n    onLoad,\n    loading,\n    unitId,\n    data\n  } = props;\n  const {\n    watch,\n    control,\n    reset,\n    getValues\n  } = useForm({\n    defaultValues: data\n  });\n  useEffect(() => reset(data), [reset, data]);\n  const handleSubmit = async () => {\n    onLoad(true);\n    const d = getValues();\n    try {\n      await dispatch((data === null || data === void 0 ? void 0 : data.id) ? updateUnitConfig({\n        ...d,\n        code: d.code.toUpperCase()\n      }) : createUnitConfig({\n        ...d,\n        code: d.code.toUpperCase(),\n        unitId\n      }));\n    } finally {\n      onLoad(false);\n      onClose();\n      onRefresh();\n    }\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, (data === null || data === void 0 ? void 0 : data.id) ? 'Sửa mã phụ' : 'Tạo mã phụ'), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"code\",\n    render: _ref => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        input: {\n          maxLength: '3'\n        },\n        label: \"T\\xEAn m\\xE3 ph\\u1EE5\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Button, {\n    primary: true,\n    content: \"X\\xE1c nh\\u1EADn\",\n    loading: loading,\n    disabled: !watch('code'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }))));\n};\nUnitConfigModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onRefresh: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  onLoad: PropTypes.func.isRequired,\n  unitId: PropTypes.string.isRequired,\n  data: PropTypes.shape({}).isRequired\n};\nexport default UnitConfigModal;","map":{"version":3,"names":["React","useEffect","PropTypes","Form","Modal","useForm","Controller","useDispatch","createUnitConfig","updateUnitConfig","UnitConfigModal","props","dispatch","open","onClose","onRefresh","onLoad","loading","unitId","data","watch","control","reset","getValues","defaultValues","handleSubmit","d","id","code","toUpperCase","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","onSubmit","Group","widths","defaultValue","name","render","_ref","onChange","onBlur","value","Input","fluid","input","maxLength","label","Button","primary","content","disabled","propTypes","bool","isRequired","func","string","shape"],"sources":["H:/BAKCO/pj/cds/src/medical-test/components/units/UnitConfigModal.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport {\n  createUnitConfig,\n  updateUnitConfig,\n} from 'medical-test/actions/medical-test';\n\nconst UnitConfigModal = (props) => {\n  const dispatch = useDispatch();\n  const {\n    open, onClose, onRefresh, onLoad, loading, unitId, data,\n  } = props;\n  const {\n    watch, control, reset, getValues,\n  } = useForm({ defaultValues: data });\n  useEffect(() => reset(data), [reset, data]);\n\n  const handleSubmit = async () => {\n    onLoad(true);\n    const d = getValues();\n    try {\n      await dispatch(\n        data?.id\n          ? updateUnitConfig({ ...d, code: d.code.toUpperCase() })\n          : createUnitConfig({ ...d, code: d.code.toUpperCase(), unitId }),\n      );\n    } finally {\n      onLoad(false);\n      onClose();\n      onRefresh();\n    }\n  };\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>{data?.id ? 'Sửa mã phụ' : 'Tạo mã phụ'}</Modal.Header>\n      <Modal.Content>\n        <Form onSubmit={handleSubmit}>\n          <Form.Group widths=\"equal\">\n            <Controller\n              control={control}\n              defaultValue=\"\"\n              name=\"code\"\n              render={({ onChange, onBlur, value }) => (\n                <Form.Input\n                  fluid\n                  input={{ maxLength: '3' }}\n                  label=\"Tên mã phụ\"\n                  value={value}\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n            <Controller control={control} defaultValue=\"\" name=\"id\" />\n          </Form.Group>\n          <Form.Button\n            primary\n            content=\"Xác nhận\"\n            loading={loading}\n            disabled={!watch('code')}\n          />\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nUnitConfigModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onRefresh: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  onLoad: PropTypes.func.isRequired,\n  unitId: PropTypes.string.isRequired,\n  data: PropTypes.shape({}).isRequired,\n};\n\nexport default UnitConfigModal;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,IAAI,EAAEC,KAAK,QAAQ,mBAAmB;AAC/C,SAASC,OAAO,EAAEC,UAAU,QAAQ,iBAAiB;AACrD,SAASC,WAAW,QAAQ,aAAa;AACzC,SACEC,gBAAgB,EAChBC,gBAAgB,QACX,mCAAmC;AAE1C,MAAMC,eAAe,GAAIC,KAAK,IAAK;EACjC,MAAMC,QAAQ,GAAGL,WAAW,EAAE;EAC9B,MAAM;IACJM,IAAI;IAAEC,OAAO;IAAEC,SAAS;IAAEC,MAAM;IAAEC,OAAO;IAAEC,MAAM;IAAEC;EACrD,CAAC,GAAGR,KAAK;EACT,MAAM;IACJS,KAAK;IAAEC,OAAO;IAAEC,KAAK;IAAEC;EACzB,CAAC,GAAGlB,OAAO,CAAC;IAAEmB,aAAa,EAAEL;EAAK,CAAC,CAAC;EACpClB,SAAS,CAAC,MAAMqB,KAAK,CAACH,IAAI,CAAC,EAAE,CAACG,KAAK,EAAEH,IAAI,CAAC,CAAC;EAE3C,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BT,MAAM,CAAC,IAAI,CAAC;IACZ,MAAMU,CAAC,GAAGH,SAAS,EAAE;IACrB,IAAI;MACF,MAAMX,QAAQ,CACZ,CAAAO,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,EAAE,IACJlB,gBAAgB,CAAC;QAAE,GAAGiB,CAAC;QAAEE,IAAI,EAAEF,CAAC,CAACE,IAAI,CAACC,WAAW;MAAG,CAAC,CAAC,GACtDrB,gBAAgB,CAAC;QAAE,GAAGkB,CAAC;QAAEE,IAAI,EAAEF,CAAC,CAACE,IAAI,CAACC,WAAW,EAAE;QAAEX;MAAO,CAAC,CAAC,CACnE;IACH,CAAC,SAAS;MACRF,MAAM,CAAC,KAAK,CAAC;MACbF,OAAO,EAAE;MACTC,SAAS,EAAE;IACb;EACF,CAAC;EAED,oBACEf,KAAA,CAAA8B,aAAA,CAAC1B,KAAK;IAACS,IAAI,EAAEA,IAAK;IAACC,OAAO,EAAEA,OAAQ;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClCpC,KAAA,CAAA8B,aAAA,CAAC1B,KAAK,CAACiC,MAAM;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE,CAAAjB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEQ,EAAE,IAAG,YAAY,GAAG,YAAY,CAAgB,eACrE3B,KAAA,CAAA8B,aAAA,CAAC1B,KAAK,CAACkC,OAAO;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACZpC,KAAA,CAAA8B,aAAA,CAAC3B,IAAI;IAACoC,QAAQ,EAAEd,YAAa;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3BpC,KAAA,CAAA8B,aAAA,CAAC3B,IAAI,CAACqC,KAAK;IAACC,MAAM,EAAC,OAAO;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxBpC,KAAA,CAAA8B,aAAA,CAACxB,UAAU;IACTe,OAAO,EAAEA,OAAQ;IACjBqB,YAAY,EAAC,EAAE;IACfC,IAAI,EAAC,MAAM;IACXC,MAAM,EAAEC,IAAA;MAAA,IAAC;QAAEC,QAAQ;QAAEC,MAAM;QAAEC;MAAM,CAAC,GAAAH,IAAA;MAAA,oBAClC7C,KAAA,CAAA8B,aAAA,CAAC3B,IAAI,CAAC8C,KAAK;QACTC,KAAK;QACLC,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAI,CAAE;QAC1BC,KAAK,EAAC,uBAAY;QAClBL,KAAK,EAAEA,KAAM;QACbF,QAAQ,EAAEA,QAAS;QACnBC,MAAM,EAAEA,MAAO;QAAAhB,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACf;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,eACFpC,KAAA,CAAA8B,aAAA,CAACxB,UAAU;IAACe,OAAO,EAAEA,OAAQ;IAACqB,YAAY,EAAC,EAAE;IAACC,IAAI,EAAC,IAAI;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,CAC/C,eACbpC,KAAA,CAAA8B,aAAA,CAAC3B,IAAI,CAACmD,MAAM;IACVC,OAAO;IACPC,OAAO,EAAC,kBAAU;IAClBvC,OAAO,EAAEA,OAAQ;IACjBwC,QAAQ,EAAE,CAACrC,KAAK,CAAC,MAAM,CAAE;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACzB,CACG,CACO,CACV;AAEZ,CAAC;AAED1B,eAAe,CAACgD,SAAS,GAAG;EAC1B7C,IAAI,EAAEX,SAAS,CAACyD,IAAI,CAACC,UAAU;EAC/B9C,OAAO,EAAEZ,SAAS,CAAC2D,IAAI,CAACD,UAAU;EAClC7C,SAAS,EAAEb,SAAS,CAAC2D,IAAI,CAACD,UAAU;EACpC3C,OAAO,EAAEf,SAAS,CAACyD,IAAI,CAACC,UAAU;EAClC5C,MAAM,EAAEd,SAAS,CAAC2D,IAAI,CAACD,UAAU;EACjC1C,MAAM,EAAEhB,SAAS,CAAC4D,MAAM,CAACF,UAAU;EACnCzC,IAAI,EAAEjB,SAAS,CAAC6D,KAAK,CAAC,CAAC,CAAC,CAAC,CAACH;AAC5B,CAAC;AAED,eAAelD,eAAe"},"metadata":{},"sourceType":"module"}