{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\profile\\\\components\\\\infectious-disease\\\\InfectiousDiseaseDetailModal.js\";\nimport React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'semantic-ui-react';\nimport { DataTable } from 'app/components/shared';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getInfectiousDiseaseHistoriesByProfile } from 'profile/actions/profile';\nimport { formatToTime } from 'app/utils/helpers';\nimport { renderInfectiousStatus, renderInfectiousReason } from 'profile/utils/helpers';\nconst columns = [{\n  Header: 'Thời gian',\n  formatter: r => formatToTime(r.date)\n}, {\n  Header: 'Trạng thái',\n  formatter: r => renderInfectiousStatus(r.infectiousDiseaseStatus)\n}, {\n  Header: 'Lý do',\n  formatter: r => renderInfectiousReason(r.infectionReason)\n}];\nconst InfectiousDiseaseDetailModal = _ref => {\n  let {\n    data,\n    onClose\n  } = _ref;\n  const dispatch = useDispatch();\n  const {\n    infectiousDiseaseHistoriesByProfile: {\n      data: infectiousData\n    },\n    getInfectiousDiseaseHistoriesByProfileLoading\n  } = useSelector(state => state.profile);\n  const getData = useCallback(() => {\n    if (data === null || data === void 0 ? void 0 : data.guid) {\n      dispatch(getInfectiousDiseaseHistoriesByProfile({\n        infectiousDiseaseHistoryId: data.guid\n      }));\n    }\n  }, [dispatch, data]);\n  useEffect(getData, [getData]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: Boolean(data === null || data === void 0 ? void 0 : data.guid),\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, \"L\\u1ECBch s\\u1EED b\\u1ECB nhi\\u1EC5m\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    columns: columns,\n    data: infectiousData || [],\n    loading: getInfectiousDiseaseHistoriesByProfileLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  })));\n};\nInfectiousDiseaseDetailModal.defaultProps = {\n  data: undefined,\n  onClose: () => {}\n};\nInfectiousDiseaseDetailModal.propTypes = {\n  data: PropTypes.shape({\n    guid: PropTypes.string.isRequired\n  }),\n  onClose: PropTypes.func\n};\nexport default InfectiousDiseaseDetailModal;","map":{"version":3,"names":["React","useEffect","useCallback","PropTypes","Modal","DataTable","useDispatch","useSelector","getInfectiousDiseaseHistoriesByProfile","formatToTime","renderInfectiousStatus","renderInfectiousReason","columns","Header","formatter","r","date","infectiousDiseaseStatus","infectionReason","InfectiousDiseaseDetailModal","_ref","data","onClose","dispatch","infectiousDiseaseHistoriesByProfile","infectiousData","getInfectiousDiseaseHistoriesByProfileLoading","state","profile","getData","guid","infectiousDiseaseHistoryId","createElement","open","Boolean","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Content","loading","defaultProps","undefined","propTypes","shape","string","isRequired","func"],"sources":["H:/BAKCO/pj/data reconciliation/src/profile/components/infectious-disease/InfectiousDiseaseDetailModal.js"],"sourcesContent":["import React, { useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Modal } from 'semantic-ui-react';\nimport { DataTable } from 'app/components/shared';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getInfectiousDiseaseHistoriesByProfile } from 'profile/actions/profile';\nimport { formatToTime } from 'app/utils/helpers';\nimport { renderInfectiousStatus, renderInfectiousReason } from 'profile/utils/helpers';\n\nconst columns = [\n  {\n    Header: 'Thời gian',\n    formatter: (r) => formatToTime(r.date),\n  },\n  {\n    Header: 'Trạng thái',\n    formatter: (r) => renderInfectiousStatus(r.infectiousDiseaseStatus),\n  },\n  {\n    Header: 'Lý do',\n    formatter: (r) => renderInfectiousReason(r.infectionReason),\n  },\n];\n\nconst InfectiousDiseaseDetailModal = ({ data, onClose }) => {\n  const dispatch = useDispatch();\n  const {\n    infectiousDiseaseHistoriesByProfile: { data: infectiousData },\n    getInfectiousDiseaseHistoriesByProfileLoading,\n  } = useSelector((state) => state.profile);\n\n  const getData = useCallback(() => {\n    if (data?.guid) {\n      dispatch(getInfectiousDiseaseHistoriesByProfile({ infectiousDiseaseHistoryId: data.guid }));\n    }\n  }, [dispatch, data]);\n  useEffect(getData, [getData]);\n\n  return (\n    <Modal open={Boolean(data?.guid)} onClose={onClose}>\n      <Modal.Header>Lịch sử bị nhiễm</Modal.Header>\n      <Modal.Content>\n        <DataTable\n          columns={columns}\n          data={infectiousData || []}\n          loading={getInfectiousDiseaseHistoriesByProfileLoading}\n        />\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nInfectiousDiseaseDetailModal.defaultProps = {\n  data: undefined,\n  onClose: () => { },\n};\n\nInfectiousDiseaseDetailModal.propTypes = {\n  data: PropTypes.shape({\n    guid: PropTypes.string.isRequired,\n  }),\n  onClose: PropTypes.func,\n};\n\nexport default InfectiousDiseaseDetailModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}