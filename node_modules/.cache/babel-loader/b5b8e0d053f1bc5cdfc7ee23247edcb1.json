{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\medical-test\\\\components\\\\transports\\\\SendTransportModal.js\";\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { toast } from 'react-toastify';\nimport { Button, Form, Modal } from 'semantic-ui-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { sendTransport } from 'medical-test/actions/transport';\nimport { formatToTime } from 'app/utils/helpers';\nimport { InfoRow } from 'app/components/shared';\nimport KeyboardDateTimePicker from 'app/components/shared/KeyboardDateTimePicker';\nconst SendTransportModal = _ref => {\n  var _data$dateCreated;\n  let {\n    open,\n    onClose,\n    data,\n    getData\n  } = _ref;\n  const dispatch = useDispatch();\n  const loading = useSelector(s => s.transport.sendTransportLoading);\n  const [sendingTime, setSendingTime] = useState(moment());\n  const onSend = async () => {\n    if (moment(sendingTime).isBefore(moment(data.dateCreated))) {\n      toast.warn(`Thời gian chuyển mẫu phải sau ${formatToTime(data.dateCreated)}`);\n    } else if (moment(sendingTime).isAfter(moment())) {\n      toast.warn(`Thời gian chuyển mẫu phải trước ${formatToTime(moment())}`);\n    } else {\n      await dispatch(sendTransport({\n        id: data.id,\n        sendingTime\n      }));\n      onClose();\n      getData();\n    }\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    size: \"small\",\n    open: open,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"X\\xE1c nh\\u1EADn chuy\\u1EC3n m\\u1EABu\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InfoRow, {\n    label: \"Th\\u1EDDi gian t\\u1EA1o phi\\xEAn\",\n    content: formatToTime((_data$dateCreated = data === null || data === void 0 ? void 0 : data.dateCreated) !== null && _data$dateCreated !== void 0 ? _data$dateCreated : moment()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    isHavingTime: true,\n    label: \"Th\\u1EDDi gian chuy\\u1EC3n m\\u1EABu\",\n    control: KeyboardDateTimePicker,\n    value: sendingTime,\n    onChange: date => setSendingTime(moment(date).toJSON()),\n    disabledDays: [{\n      before: moment(data === null || data === void 0 ? void 0 : data.dateCreated).toDate(),\n      after: moment().toDate()\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    content: \"\\u0110\\xF3ng\",\n    labelPosition: \"right\",\n    icon: \"x\",\n    onClick: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    positive: true,\n    labelPosition: \"right\",\n    icon: \"arrow up\",\n    content: \"Chuy\\u1EC3n m\\u1EABu\",\n    loading: loading,\n    disabled: loading,\n    onClick: onSend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })));\n};\nSendTransportModal.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  getData: PropTypes.func,\n  data: PropTypes.shape({\n    id: PropTypes.string,\n    dateCreated: PropTypes.string\n  })\n};\nSendTransportModal.defaultProps = {\n  open: false,\n  onClose: () => {},\n  getData: () => {},\n  data: {}\n};\nexport default SendTransportModal;","map":{"version":3,"names":["React","useState","PropTypes","moment","toast","Button","Form","Modal","useDispatch","useSelector","sendTransport","formatToTime","InfoRow","KeyboardDateTimePicker","SendTransportModal","_ref","_data$dateCreated","open","onClose","data","getData","dispatch","loading","s","transport","sendTransportLoading","sendingTime","setSendingTime","onSend","isBefore","dateCreated","warn","isAfter","id","createElement","size","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","className","label","content","Field","required","isHavingTime","control","value","onChange","date","toJSON","disabledDays","before","toDate","after","Actions","labelPosition","icon","onClick","positive","disabled","propTypes","bool","func","shape","string","defaultProps"],"sources":["H:/BAKCO/pj/data reconciliation/src/medical-test/components/transports/SendTransportModal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { toast } from 'react-toastify';\n\nimport { Button, Form, Modal } from 'semantic-ui-react';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { sendTransport } from 'medical-test/actions/transport';\n\nimport { formatToTime } from 'app/utils/helpers';\n\nimport { InfoRow } from 'app/components/shared';\nimport KeyboardDateTimePicker from 'app/components/shared/KeyboardDateTimePicker';\n\nconst SendTransportModal = ({ open, onClose, data, getData }) => {\n  const dispatch = useDispatch();\n\n  const loading = useSelector((s) => s.transport.sendTransportLoading);\n\n  const [sendingTime, setSendingTime] = useState(moment());\n\n  const onSend = async () => {\n    if (moment(sendingTime).isBefore(moment(data.dateCreated))) {\n      toast.warn(\n        `Thời gian chuyển mẫu phải sau ${formatToTime(data.dateCreated)}`,\n      );\n    } else if (moment(sendingTime).isAfter(moment())) {\n      toast.warn(`Thời gian chuyển mẫu phải trước ${formatToTime(moment())}`);\n    } else {\n      await dispatch(sendTransport({ id: data.id, sendingTime }));\n      onClose();\n      getData();\n    }\n  };\n\n  return (\n    <Modal size=\"small\" open={open}>\n      <Modal.Header>Xác nhận chuyển mẫu</Modal.Header>\n      <Modal.Content>\n        <div className=\"ui form\">\n          <InfoRow\n            label=\"Thời gian tạo phiên\"\n            content={formatToTime(data?.dateCreated ?? moment())}\n          />\n          <Form.Field\n            required\n            isHavingTime\n            label=\"Thời gian chuyển mẫu\"\n            control={KeyboardDateTimePicker}\n            value={sendingTime}\n            onChange={(date) => setSendingTime(moment(date).toJSON())}\n            disabledDays={[\n              {\n                before: moment(data?.dateCreated).toDate(),\n                after: moment().toDate(),\n              },\n            ]}\n          />\n        </div>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          content=\"Đóng\"\n          labelPosition=\"right\"\n          icon=\"x\"\n          onClick={onClose}\n        />\n        <Button\n          positive\n          labelPosition=\"right\"\n          icon=\"arrow up\"\n          content=\"Chuyển mẫu\"\n          loading={loading}\n          disabled={loading}\n          onClick={onSend}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nSendTransportModal.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func,\n  getData: PropTypes.func,\n  data: PropTypes.shape({\n    id: PropTypes.string,\n    dateCreated: PropTypes.string,\n  }),\n};\n\nSendTransportModal.defaultProps = {\n  open: false,\n  onClose: () => {},\n  getData: () => {},\n  data: {},\n};\n\nexport default SendTransportModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}