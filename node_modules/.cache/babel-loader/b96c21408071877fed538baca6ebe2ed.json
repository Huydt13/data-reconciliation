{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\treatment\\\\components\\\\shared\\\\VisitModal.js\";\n/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal, Button } from 'semantic-ui-react';\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createVisit } from 'treatment/actions/visit';\nimport { AddressDetails, KeyboardDateTimePicker } from 'app/components/shared';\nconst VisitModal = _ref => {\n  var _data$profile$address, _data$profile;\n  let {\n    open,\n    onClose,\n    data,\n    getData\n  } = _ref;\n  const dispatch = useDispatch();\n  const methods = useForm();\n  const accountInfo = useSelector(s => s.treatment.account.accountInfo);\n  const loading = useSelector(s => s.treatment.visit.createVisitLoading);\n  useEffect(() => {\n    methods.reset(data);\n    // eslint-disable-next-line\n  }, [methods.reset, data]);\n  const onSubmit = async d => {\n    await dispatch(createVisit({\n      ...d,\n      profileId: data.profile.id,\n      facilityId: data.facility.id,\n      doctorId: accountInfo.doctor.id\n    }));\n    onClose();\n    getData();\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, \"Th\\u0103m kh\\xE1m\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FormProvider, Object.assign({}, methods, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: methods.control,\n    defaultValue: new Date(),\n    name: \"visitTime\",\n    rules: {\n      required: true\n    },\n    render: _ref2 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        required: true,\n        isHavingTime: true,\n        control: KeyboardDateTimePicker,\n        disabledDays: [{\n          after: new Date()\n        }],\n        label: \"Th\\u1EDDi gian th\\u0103m kh\\xE1m\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"place\",\n    defaultValue: (_data$profile$address = data === null || data === void 0 ? void 0 : (_data$profile = data.profile) === null || _data$profile === void 0 ? void 0 : _data$profile.addressesInVietnam[0]) !== null && _data$profile$address !== void 0 ? _data$profile$address : {},\n    control: methods.control,\n    render: _ref3 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref3;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        control: AddressDetails,\n        label: \"N\\u01A1i th\\u0103m kh\\xE1m\",\n        initialData: value || {\n          floor: '',\n          block: '',\n          streetHouseNumber: '',\n          provinceValue: '',\n          districtValue: '',\n          wardValue: ''\n        },\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    control: methods.control,\n    defaultValue: \"\",\n    name: \"note\",\n    render: _ref4 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref4;\n      return /*#__PURE__*/React.createElement(Form.TextArea, {\n        label: \"Ghi ch\\xFA\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    positive: true,\n    labelPosition: \"right\",\n    icon: \"checkmark\",\n    content: \"X\\xE1c nh\\u1EADn\",\n    loading: loading,\n    disabled: loading,\n    onClick: methods.handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  })));\n};\nVisitModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  getData: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    profile: PropTypes.shape({\n      id: PropTypes.number,\n      addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({}))\n    }),\n    facility: PropTypes.shape({\n      id: PropTypes.string\n    }),\n    facilityId: PropTypes.string\n  })\n};\nVisitModal.defaultProps = {\n  data: {\n    profile: {\n      addressesInVietnam: []\n    }\n  }\n};\nexport default VisitModal;","map":{"version":3,"names":["React","useEffect","PropTypes","Form","Modal","Button","useForm","Controller","FormProvider","useDispatch","useSelector","createVisit","AddressDetails","KeyboardDateTimePicker","VisitModal","_ref","_data$profile$address","_data$profile","open","onClose","data","getData","dispatch","methods","accountInfo","s","treatment","account","loading","visit","createVisitLoading","reset","onSubmit","d","profileId","profile","id","facilityId","facility","doctorId","doctor","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","Object","assign","widths","control","defaultValue","Date","name","rules","required","render","_ref2","onChange","onBlur","value","Field","fluid","isHavingTime","disabledDays","after","label","addressesInVietnam","_ref3","initialData","floor","block","streetHouseNumber","provinceValue","districtValue","wardValue","_ref4","TextArea","Actions","positive","labelPosition","icon","content","disabled","onClick","handleSubmit","propTypes","bool","isRequired","func","shape","number","arrayOf","string","defaultProps"],"sources":["H:/BAKCO/pj/data reconciliation/src/treatment/components/shared/VisitModal.js"],"sourcesContent":["/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Form, Modal, Button } from 'semantic-ui-react';\nimport { useForm, Controller, FormProvider } from 'react-hook-form';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createVisit } from 'treatment/actions/visit';\n\nimport { AddressDetails, KeyboardDateTimePicker } from 'app/components/shared';\n\nconst VisitModal = ({ open, onClose, data, getData }) => {\n  const dispatch = useDispatch();\n  const methods = useForm();\n\n  const accountInfo = useSelector((s) => s.treatment.account.accountInfo);\n\n  const loading = useSelector((s) => s.treatment.visit.createVisitLoading);\n\n  useEffect(() => {\n    methods.reset(data);\n    // eslint-disable-next-line\n  }, [methods.reset, data]);\n\n  const onSubmit = async (d) => {\n    await dispatch(\n      createVisit({\n        ...d,\n        profileId: data.profile.id,\n        facilityId: data.facility.id,\n        doctorId: accountInfo.doctor.id,\n      }),\n    );\n    onClose();\n    getData();\n  };\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Thăm khám</Modal.Header>\n      <Modal.Content>\n        <FormProvider {...methods}>\n          <Form widths=\"equal\">\n            <Controller\n              control={methods.control}\n              defaultValue={new Date()}\n              name=\"visitTime\"\n              rules={{ required: true }}\n              render={({ onChange, onBlur, value }) => (\n                <Form.Field\n                  fluid\n                  required\n                  isHavingTime\n                  control={KeyboardDateTimePicker}\n                  disabledDays={[{ after: new Date() }]}\n                  label=\"Thời gian thăm khám\"\n                  value={value}\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n            <Controller\n              name=\"place\"\n              defaultValue={data?.profile?.addressesInVietnam[0] ?? {}}\n              control={methods.control}\n              render={({ onChange, onBlur, value }) => (\n                <Form.Field\n                  fluid\n                  control={AddressDetails}\n                  label=\"Nơi thăm khám\"\n                  initialData={\n                    value || {\n                      floor: '',\n                      block: '',\n                      streetHouseNumber: '',\n                      provinceValue: '',\n                      districtValue: '',\n                      wardValue: '',\n                    }\n                  }\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n            <Controller\n              control={methods.control}\n              defaultValue=\"\"\n              name=\"note\"\n              render={({ onChange, onBlur, value }) => (\n                <Form.TextArea\n                  label=\"Ghi chú\"\n                  value={value}\n                  onChange={onChange}\n                  onBlur={onBlur}\n                />\n              )}\n            />\n          </Form>\n        </FormProvider>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          positive\n          labelPosition=\"right\"\n          icon=\"checkmark\"\n          content=\"Xác nhận\"\n          loading={loading}\n          disabled={loading}\n          onClick={methods.handleSubmit(onSubmit)}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nVisitModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  getData: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    profile: PropTypes.shape({\n      id: PropTypes.number,\n      addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\n    }),\n    facility: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n    facilityId: PropTypes.string,\n  }),\n};\n\nVisitModal.defaultProps = {\n  data: {\n    profile: {\n      addressesInVietnam: [],\n    },\n  },\n};\n\nexport default VisitModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}