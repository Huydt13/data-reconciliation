{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\infection-chain\\\\components\\\\subject\\\\information\\\\form-sections\\\\PatientInformationSection.js\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Button,\n// Button,\nDimmer, Loader } from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport {\n// useDispatch,\nuseSelector } from 'react-redux';\nimport LocationSection from 'chain/components/LocationSection';\nimport AirplaneSection from 'chain/components/AirplaneSection';\nimport OtherVehicleSection from 'chain/components/OtherVehicleSection';\nimport MinimizeLocationSection from 'chain/components/MinimizeLocationSection';\nimport MinimizeAirplaneSection from 'chain/components/MinimizeAirplaneSection';\nimport MinimizeOtherVehicleSection from 'chain/components/MinimizeOtherVehicleSection';\nimport { LocationType } from 'infection-chain/utils/constants';\nimport MinimizeAlias from 'chain/components/MinimizeAlias';\nimport AliasSection from 'chain/components/AliasSection';\n\n// const StyledLocationVehicleButtonWrapper = styled.div`\n//   margin-bottom: 10px;\n// `;\n\nconst ConfirmButtonWrapper = styled.div`\n  width: 100%;\n  text-align: right;\n`;\nconst PatientInformationSection = _ref => {\n  let {\n    minimize\n    // onRefresh\n  } = _ref;\n  const {\n    subjectDetail,\n    getSubjectDetailLoading\n  } = useSelector(s => s.chain);\n  const {\n    reset,\n    watch,\n    register,\n    setValue,\n    getValues\n  } = useForm({\n    defaultValues: {\n      ...subjectDetail\n    }\n  });\n  useEffect(() => {\n    register('diseaseOutbreakLocation');\n  }, [register]);\n  useEffect(() => {\n    if (subjectDetail.id) {\n      reset({\n        ...subjectDetail,\n        locationType: subjectDetail.diseaseOutbreakLocationType\n      });\n    }\n  }, [reset, subjectDetail]);\n  const locationType = watch('locationType');\n  // const dispatch = useDispatch();\n\n  // const handleUpdate = async () => {\n  //   await dispatch(updateSubject(getValues()));\n  //   onRefresh();\n  // };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, minimize ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, getSubjectDetailLoading ? /*#__PURE__*/React.createElement(Dimmer, {\n    inverted: true,\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MinimizeAlias, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, \"\\u0110\\u1ECBa \\u0111i\\u1EC3m ph\\xE1t b\\u1EC7nh \"), locationType === LocationType.LOCATION && /*#__PURE__*/React.createElement(MinimizeLocationSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), locationType === LocationType.AIRPLANE && /*#__PURE__*/React.createElement(MinimizeAirplaneSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), locationType === LocationType.VEHICLE && /*#__PURE__*/React.createElement(MinimizeOtherVehicleSection, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AliasSection, {\n    data: subjectDetail,\n    onChange: _ref2 => {\n      let {\n        byT_Alias: byt,\n        hcM_Alias: hcm,\n        hcdC_Alias: hcdc\n      } = _ref2;\n      setValue('byT_Alias', byt);\n      setValue('hcM_Alias', hcm);\n      setValue('hcdC_Alias', hcdc);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }), (!locationType || locationType === LocationType.LOCATION) && /*#__PURE__*/React.createElement(LocationSection, {\n    data: watch('diseaseOutbreakLocation'),\n    onChange: d => setValue('diseaseOutbreakLocation', d),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }), locationType === LocationType.AIRPLANE && /*#__PURE__*/React.createElement(AirplaneSection, {\n    data: watch('diseaseOutbreakLocation'),\n    onChange: d => setValue('diseaseOutbreakLocation', d),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }), locationType === LocationType.VEHICLE && /*#__PURE__*/React.createElement(OtherVehicleSection, {\n    data: watch('diseaseOutbreakLocation'),\n    onChange: d => setValue('diseaseOutbreakLocation', d),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ConfirmButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    icon: \"sync\",\n    color: \"violet\",\n    content: \"C\\u1EADp nh\\u1EADt\",\n    onClick: () => console.log(getValues()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }))));\n};\nPatientInformationSection.propTypes = {\n  minimize: PropTypes.bool\n  // onRefresh: PropTypes.func,\n};\n\nPatientInformationSection.defaultProps = {\n  minimize: false\n  // onRefresh: () => {},\n};\n\nexport default PatientInformationSection;","map":{"version":3,"names":["React","useEffect","PropTypes","styled","Button","Dimmer","Loader","useForm","useSelector","LocationSection","AirplaneSection","OtherVehicleSection","MinimizeLocationSection","MinimizeAirplaneSection","MinimizeOtherVehicleSection","LocationType","MinimizeAlias","AliasSection","ConfirmButtonWrapper","div","PatientInformationSection","_ref","minimize","subjectDetail","getSubjectDetailLoading","s","chain","reset","watch","register","setValue","getValues","defaultValues","id","locationType","diseaseOutbreakLocationType","createElement","Fragment","style","position","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","inverted","active","LOCATION","AIRPLANE","VEHICLE","data","onChange","_ref2","byT_Alias","byt","hcM_Alias","hcm","hcdC_Alias","hcdc","d","icon","color","content","onClick","console","log","propTypes","bool","defaultProps"],"sources":["H:/BAKCO/pj/cds/src/infection-chain/components/subject/information/form-sections/PatientInformationSection.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport {\n  Button,\n  // Button,\n  Dimmer,\n  Loader,\n} from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport {\n  // useDispatch,\n  useSelector,\n} from 'react-redux';\n\nimport LocationSection from 'chain/components/LocationSection';\nimport AirplaneSection from 'chain/components/AirplaneSection';\nimport OtherVehicleSection from 'chain/components/OtherVehicleSection';\nimport MinimizeLocationSection from 'chain/components/MinimizeLocationSection';\nimport MinimizeAirplaneSection from 'chain/components/MinimizeAirplaneSection';\nimport MinimizeOtherVehicleSection from 'chain/components/MinimizeOtherVehicleSection';\n\nimport { LocationType } from 'infection-chain/utils/constants';\nimport MinimizeAlias from 'chain/components/MinimizeAlias';\nimport AliasSection from 'chain/components/AliasSection';\n\n// const StyledLocationVehicleButtonWrapper = styled.div`\n//   margin-bottom: 10px;\n// `;\n\nconst ConfirmButtonWrapper = styled.div`\n  width: 100%;\n  text-align: right;\n`;\n\nconst PatientInformationSection = ({\n  minimize,\n  // onRefresh\n}) => {\n  const { subjectDetail, getSubjectDetailLoading } = useSelector(\n    (s) => s.chain,\n  );\n  const { reset, watch, register, setValue, getValues } = useForm({\n    defaultValues: { ...subjectDetail },\n  });\n\n  useEffect(() => {\n    register('diseaseOutbreakLocation');\n  }, [register]);\n\n  useEffect(() => {\n    if (subjectDetail.id) {\n      reset({\n        ...subjectDetail,\n        locationType: subjectDetail.diseaseOutbreakLocationType,\n      });\n    }\n  }, [reset, subjectDetail]);\n\n  const locationType = watch('locationType');\n  // const dispatch = useDispatch();\n\n  // const handleUpdate = async () => {\n  //   await dispatch(updateSubject(getValues()));\n  //   onRefresh();\n  // };\n\n  return (\n    <>\n      {minimize ? (\n        <div style={{ position: 'relative' }}>\n          {getSubjectDetailLoading ? (\n            <Dimmer inverted active>\n              <Loader />\n            </Dimmer>\n          ) : (\n            <>\n              <MinimizeAlias />\n              <span>Địa điểm phát bệnh </span>\n              {locationType === LocationType.LOCATION && (\n                <MinimizeLocationSection />\n              )}\n              {locationType === LocationType.AIRPLANE && (\n                <MinimizeAirplaneSection />\n              )}\n              {locationType === LocationType.VEHICLE && (\n                <MinimizeOtherVehicleSection />\n              )}\n            </>\n          )}\n        </div>\n      ) : (\n        <>\n          {/* <StyledLocationVehicleButtonWrapper>\n            <Button.Group>\n              <Button\n                primary\n                basic={locationType !== LocationType.LOCATION}\n                content=\"Địa điểm\"\n                onClick={() => setValue('locationType', LocationType.LOCATION)}\n              />\n              <Button\n                primary\n                basic={locationType !== LocationType.AIRPLANE}\n                content=\"Máy bay\"\n                onClick={() => setValue('locationType', LocationType.AIRPLANE)}\n              />\n              <Button\n                primary\n                basic={locationType !== LocationType.VEHICLE}\n                content=\"Phương tiện khác\"\n                onClick={() => setValue('locationType', LocationType.VEHICLE)}\n              />\n            </Button.Group>\n          </StyledLocationVehicleButtonWrapper> */}\n          <AliasSection\n            data={subjectDetail}\n            onChange={({\n              byT_Alias: byt,\n              hcM_Alias: hcm,\n              hcdC_Alias: hcdc,\n            }) => {\n              setValue('byT_Alias', byt);\n              setValue('hcM_Alias', hcm);\n              setValue('hcdC_Alias', hcdc);\n            }}\n          />\n          {(!locationType || locationType === LocationType.LOCATION) && (\n            <LocationSection\n              data={watch('diseaseOutbreakLocation')}\n              onChange={(d) => setValue('diseaseOutbreakLocation', d)}\n            />\n          )}\n          {locationType === LocationType.AIRPLANE && (\n            <AirplaneSection\n              data={watch('diseaseOutbreakLocation')}\n              onChange={(d) => setValue('diseaseOutbreakLocation', d)}\n            />\n          )}\n          {locationType === LocationType.VEHICLE && (\n            <OtherVehicleSection\n              data={watch('diseaseOutbreakLocation')}\n              onChange={(d) => setValue('diseaseOutbreakLocation', d)}\n            />\n          )}\n          <ConfirmButtonWrapper>\n            <Button\n              icon=\"sync\"\n              color=\"violet\"\n              content=\"Cập nhật\"\n              onClick={() => console.log(getValues())}\n            />\n          </ConfirmButtonWrapper>\n        </>\n      )}\n    </>\n  );\n};\n\nPatientInformationSection.propTypes = {\n  minimize: PropTypes.bool,\n  // onRefresh: PropTypes.func,\n};\n\nPatientInformationSection.defaultProps = {\n  minimize: false,\n  // onRefresh: () => {},\n};\n\nexport default PatientInformationSection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}