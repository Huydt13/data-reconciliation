{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\medical-test\\\\components\\\\quick-test\\\\ProfileSection.js\";\n/* eslint-disable no-nested-ternary */\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport styled from 'styled-components';\nimport { v4 as uuidv4 } from 'uuid';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Form, Accordion, Header, Icon, Dimmer, Loader } from 'semantic-ui-react';\nimport AddressSection from 'medical-test/components/quick-test/AddressSection';\nimport ImmunizationSection from 'chain/components/ImmunizationSection';\nimport { useSelector } from 'react-redux';\nimport { getProfilesWithouDispatch } from 'profile/actions/profile';\nimport { isEqualObject } from 'app/utils/helpers';\nimport { defaultProfileValue } from 'profile/utils/helpers';\nimport { IMMUNIZATION_STATUSES } from 'profile/utils/constants';\nimport nations from 'app/assets/mock/nations.json';\nconst genderOptions = [{\n  text: 'Nam',\n  value: 1\n}, {\n  text: 'Nữ',\n  value: 0\n}, {\n  text: 'Khác',\n  value: 2\n}];\nconst religionOptions = [{\n  key: 'Không',\n  text: 'Không',\n  value: 'Không'\n}, {\n  key: 'Phật giáo',\n  text: 'Phật giáo',\n  value: 'Phật giáo'\n}, {\n  key: 'Công giáo',\n  text: 'Công giáo',\n  value: 'Công giáo'\n}, {\n  key: 'Cao Đài',\n  text: 'Cao Đài',\n  value: 'Cao Đài'\n}, {\n  key: 'Hòa Hảo',\n  text: 'Hòa Hảo',\n  value: 'Hòa Hảo'\n}, {\n  key: 'Tin Lành',\n  text: 'Tin Lành',\n  value: 'Tin Lành'\n}, {\n  key: 'Hồi giáo',\n  text: 'Hồi giáo',\n  value: 'Hồi giáo'\n}, {\n  key: 'Ấn Độ giáo',\n  text: 'Ấn Độ giáo',\n  value: 'Ấn Độ giáo'\n}];\nconst nationOptions = nations.map(n => ({\n  key: n.countryCode,\n  text: n.name,\n  value: n.countryCode,\n  flag: n.countryCode\n}));\nconst Wrapper = styled.div`\n  position: relative;\n`;\nconst DOBWrapper = styled.span`\n  & > span:last-child {\n    color: red;\n    padding-left: 5px;\n  }\n`;\nconst YLabel = styled.span`\n  cursor: ${_ref => {\n  let {\n    year\n  } = _ref;\n  return year === 0 ? 'pointer' : '';\n}};\n  font-weight: ${_ref2 => {\n  let {\n    year\n  } = _ref2;\n  return year === 1 ? 'bold' : '';\n}};\n`;\nconst DLabel = styled.span`\n  cursor: ${_ref3 => {\n  let {\n    year\n  } = _ref3;\n  return year === 1 ? 'pointer' : '';\n}};\n  font-weight: ${_ref4 => {\n  let {\n    year\n  } = _ref4;\n  return year === 0 ? 'bold' : '';\n}};\n`;\nconst ProfileSection = props => {\n  var _errors$dateOfBirth, _errors$phoneNumber;\n  const {\n    initialSubject,\n    conflictSubject,\n    fillCmnd,\n    fillExistProfile,\n    isWorkAddressRequired\n    // onChange: onChangeProp,\n  } = props;\n  const [readOnly] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [timeOut, setTimeOut] = useState(null);\n\n  // For get exist profile\n  const [fillData, setFillData] = useState(undefined);\n  const [fullName, setFullName] = useState(undefined);\n  const [phoneNumber, setPhoneNumber] = useState(undefined);\n  const {\n    watch,\n    control,\n    reset,\n    getValues,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useFormContext();\n  const {\n    assignQuickTestSession\n  } = useSelector(state => state.medicalTest);\n  const hasNoKey = !(watch('cccd') || watch('cmnd') || watch('passportNumber') || watch('healthInsuranceNumber'));\n  const cccdError = watch('cccd') && watch('cccd').length < 12;\n  const cmndError = watch('cmnd') && watch('cmnd').length < 9;\n  const passportError = watch('passportNumber') && watch('passportNumber').length < 6;\n  const insuranceError = watch('healthInsuranceNumber') && watch('healthInsuranceNumber').length < 15;\n  const ruleOptions = {\n    required: {\n      required: true\n    },\n    dateOfBirth: {\n      required: true,\n      min: moment().subtract(120, 'years').format('YYYY'),\n      max: moment().format('YYYY')\n    },\n    phoneNumber: {\n      required: true,\n      pattern: /((09|03|07|08|05)+([0-9]{8})\\b)/g\n    },\n    cccd: {\n      validate: () => !hasNoKey && !cccdError\n    },\n    cmnd: {\n      validate: () => !hasNoKey && !cmndError\n    },\n    passport: {\n      validate: () => !hasNoKey && !passportError\n    },\n    insurance: {\n      validate: () => !hasNoKey && !insuranceError\n    },\n    addressesInVietnam: {\n      validate: () => {\n        var _getValues$, _getValues$2, _getValues$3, _getValues$4, _getValues$5, _getValues$6;\n        let error = '';\n        if (!((_getValues$ = getValues('addressesInVietnam')[0]) === null || _getValues$ === void 0 ? void 0 : _getValues$.provinceValue)) {\n          error += 'provinceValue/';\n        }\n        if (!((_getValues$2 = getValues('addressesInVietnam')[0]) === null || _getValues$2 === void 0 ? void 0 : _getValues$2.districtValue)) {\n          error += 'districtValue/';\n        }\n        if (!((_getValues$3 = getValues('addressesInVietnam')[0]) === null || _getValues$3 === void 0 ? void 0 : _getValues$3.wardValue)) {\n          error += 'wardValue/';\n        }\n        if (!((_getValues$4 = getValues('addressesInVietnam')[0]) === null || _getValues$4 === void 0 ? void 0 : _getValues$4.streetHouseNumber)) {\n          error += 'streetHouseNumber/';\n        }\n        if (!((_getValues$5 = getValues('addressesInVietnam')[0]) === null || _getValues$5 === void 0 ? void 0 : _getValues$5.quarter)) {\n          error += 'quarter/';\n        }\n        if (!((_getValues$6 = getValues('addressesInVietnam')[0]) === null || _getValues$6 === void 0 ? void 0 : _getValues$6.quarterGroup)) {\n          error += 'quarterGroup';\n        }\n        return error || true;\n      }\n    },\n    workAddresses: {\n      validate: () => {\n        var _getValues$7, _getValues$8, _getValues$9, _getValues$10, _getValues$11;\n        let error = '';\n        if (!((_getValues$7 = getValues('workAddresses')[0]) === null || _getValues$7 === void 0 ? void 0 : _getValues$7.provinceValue)) {\n          error += 'provinceValue/';\n        }\n        if (!((_getValues$8 = getValues('workAddresses')[0]) === null || _getValues$8 === void 0 ? void 0 : _getValues$8.districtValue)) {\n          error += 'districtValue/';\n        }\n        if (!((_getValues$9 = getValues('workAddresses')[0]) === null || _getValues$9 === void 0 ? void 0 : _getValues$9.wardValue)) {\n          error += 'wardValue/';\n        }\n        if (!((_getValues$10 = getValues('workAddresses')[0]) === null || _getValues$10 === void 0 ? void 0 : _getValues$10.name)) {\n          error += 'name/';\n        }\n        if (!((_getValues$11 = getValues('workAddresses')[0]) === null || _getValues$11 === void 0 ? void 0 : _getValues$11.streetHouseNumber)) {\n          error += 'streetHouseNumber';\n        }\n        return isWorkAddressRequired && error || true;\n      }\n    },\n    immunizations: {\n      validate: () => {\n        var _getValues$12, _getValues$13;\n        const error = {};\n        const immunizationStatus = (_getValues$12 = getValues('immunizations')[0]) === null || _getValues$12 === void 0 ? void 0 : _getValues$12.immunizationStatus;\n        const injectionDate = (_getValues$13 = getValues('immunizations')[0]) === null || _getValues$13 === void 0 ? void 0 : _getValues$13.injectionDate;\n        const immunizationLatestFromFillData = fillData && (fillData === null || fillData === void 0 ? void 0 : fillData.immunizations) && fillData.immunizations.length > 0 ? fillData.immunizations.reduce((o, i) => new Date(i.dateCreated) > new Date(o.dateCreated) ? i : o, fillData.immunizations[0]) : undefined;\n        if (typeof immunizationStatus === 'undefined') {\n          error.immunizationStatus = 'Bắt buộc';\n        } else if (immunizationLatestFromFillData) {\n          if (immunizationLatestFromFillData.immunizationStatus > immunizationStatus) {\n            error.immunizationStatus = 'Trạng thái tiêm phải lớn hơn hoặc bằng trạng thái ghi nhận trên hệ thống';\n          }\n          if (immunizationStatus !== IMMUNIZATION_STATUSES.NO_RECORD && immunizationStatus !== IMMUNIZATION_STATUSES.NO_VACCINE) {\n            // if (!getValues('immunizations')[0]?.vaccine) {\n            //   error += 'vaccine';\n            // }\n            if (injectionDate) {\n              if (immunizationLatestFromFillData) {\n                if (moment(injectionDate) < moment(immunizationLatestFromFillData.injectionDate)) {\n                  error.injectionDate = 'Ngày tiêm gần nhất phải lớn hơn hoặc bằng ngày ghi nhận trên hệ thống';\n                }\n              }\n            } else {\n              error.injectionDate = 'Bắt buộc';\n            }\n          }\n        }\n        return Object.keys(error).length === 0 || JSON.stringify(error);\n      }\n    }\n  };\n  const errorOptions = {\n    required: {\n      content: 'Bắt buộc'\n    },\n    dateOfBirth: {\n      content: ((_errors$dateOfBirth = errors.dateOfBirth) === null || _errors$dateOfBirth === void 0 ? void 0 : _errors$dateOfBirth.type) === 'required' ? 'Bắt buộc' : `Năm sinh từ ${moment().subtract(120, 'years').format('YYYY')} - ${moment().format('YYYY')}`\n    },\n    phoneNumber: {\n      content: ((_errors$phoneNumber = errors.phoneNumber) === null || _errors$phoneNumber === void 0 ? void 0 : _errors$phoneNumber.type) === 'required' ? 'Bắt buộc' : 'Chưa đúng định dạng hoặc không có thực'\n    },\n    cccd: cccdError && errors.cccd ? 'Tối thiểu 12 ký tự' : errors.cccd && hasNoKey ? 'Chưa có thông tin xác thực' : false,\n    cmnd: cmndError && errors.cmnd ? 'Tối thiểu 9 ký tự' : errors.cmnd && hasNoKey ? 'Chưa có thông tin xác thực' : false,\n    passport: passportError && errors.passport ? 'Tối thiểu 12 ký tự' : errors.passportNumber && hasNoKey ? 'Chưa có thông tin xác thực' : false,\n    insurance: insuranceError && errors.insurance ? 'Tối thiểu 9 ký tự' : errors.healthInsuranceNumber && hasNoKey ? 'Chưa có thông tin xác thực' : false\n  };\n  const renderDateOfBirthLabel = /*#__PURE__*/React.createElement(DOBWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(YLabel, {\n    year: watch('hasYearOfBirthOnly') ? 1 : 0,\n    onClick: () => setValue('hasYearOfBirthOnly', true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }\n  }, \"N\\u0103m sinh\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }\n  }, \"/\"), /*#__PURE__*/React.createElement(DLabel, {\n    year: watch('hasYearOfBirthOnly') ? 1 : 0,\n    onClick: () => setValue('hasYearOfBirthOnly', false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }\n  }, \"Ng\\xE0y sinh\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }\n  }, \"*\"));\n  const additionalPanels = [{\n    key: 'details',\n    title: 'Thông tin bổ sung',\n    content: {\n      content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form.Group, {\n        widths: \"equal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Controller, {\n        name: \"nationality\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref5 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref5;\n          return /*#__PURE__*/React.createElement(Form.Select, {\n            fluid: true,\n            deburr: true,\n            search: true,\n            label: \"Qu\\u1ED1c t\\u1ECBch\",\n            value: value || '',\n            onChange: (__, _ref6) => {\n              let {\n                value: v\n              } = _ref6;\n              return onChange(v);\n            },\n            onBlur: () => {\n              onBlur();\n            },\n            options: readOnly ? nationOptions.filter(g => g.value === value) : nationOptions,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Controller, {\n        name: \"religion\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref7 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref7;\n          return /*#__PURE__*/React.createElement(Form.Select, {\n            fluid: true,\n            deburr: true,\n            search: true,\n            label: \"T\\xF4n gi\\xE1o\",\n            value: value || '',\n            onChange: (__, _ref8) => {\n              let {\n                value: v\n              } = _ref8;\n              return onChange(v);\n            },\n            onBlur: () => {\n              onBlur();\n            },\n            options: readOnly ? religionOptions.filter(g => g.value === value) : religionOptions,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Controller, {\n        name: \"job\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref9 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref9;\n          return /*#__PURE__*/React.createElement(Form.Input, {\n            fluid: true,\n            label: \"Ngh\\u1EC1 nghi\\u1EC7p\",\n            value: value || '',\n            onChange: onChange,\n            onBlur: () => {\n              onBlur();\n            },\n            readOnly: readOnly,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Controller, {\n        name: \"email\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref10 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref10;\n          return /*#__PURE__*/React.createElement(Form.Input, {\n            fluid: true,\n            type: \"email\",\n            label: \"Email\",\n            value: value || '',\n            onChange: onChange,\n            onBlur: () => {\n              onBlur();\n            },\n            readOnly: readOnly,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(Header, {\n        as: \"h5\",\n        content: \"\\u0110\\u1ECBa ch\\u1EC9 n\\u01A1i l\\xE0m vi\\u1EC7c - h\\u1ECDc t\\u1EADp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(Form.Group, {\n        widths: \"equal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Controller, {\n        name: \"workAddresses\",\n        defaultValue: [],\n        control: control,\n        rules: ruleOptions.workAddresses,\n        render: _ref11 => {\n          var _errors$workAddresses;\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref11;\n          return /*#__PURE__*/React.createElement(Form.Field, {\n            fluid: true,\n            required: isWorkAddressRequired,\n            isWorkAddress: true,\n            control: AddressSection,\n            initialData: value.length !== 0 ? value[0] : {\n              name: '',\n              streetHouseNumber: '',\n              provinceValue: '',\n              districtValue: '',\n              wardValue: ''\n            },\n            onChange: d => {\n              onChange([d]);\n            },\n            onBlur: onBlur,\n            errorText: (_errors$workAddresses = errors.workAddresses) === null || _errors$workAddresses === void 0 ? void 0 : _errors$workAddresses.message,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 15\n        }\n      })))\n    }\n  }];\n  const onChangeWithoutDelay = (callback, time) => {\n    if (timeOut) {\n      clearTimeout(timeOut);\n    }\n    setTimeOut(setTimeout(callback, time));\n  };\n  const resetWithoutFields = function () {\n    let fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    const presentFields = getValues();\n    Object.keys(presentFields).forEach(key => {\n      if (!fields.includes(key)) {\n        setValue(key, defaultProfileValue[key]);\n      }\n    });\n  };\n  const getExistProfile = useCallback((name, phone) => {\n    setLoading(true);\n    getProfilesWithouDispatch({\n      name,\n      phoneNumber: phone,\n      isSensitiveCase: true\n    }).then(res => {\n      const {\n        data\n      } = res;\n      if (data && data.length > 0) {\n        var _data$, _data$2, _data$3, _data$4, _data$5, _data$6, _data$7, _data$8;\n        const profile = {\n          ...data[0],\n          dateOfBirth: ((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.dateOfBirth) ? ((_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.hasYearOfBirthOnly) ? moment(data[0].dateOfBirth).format('YYYY') : moment(data[0].dateOfBirth).format('YYYY-MM-DD') : '',\n          addressesInVietnam: ((_data$3 = data[0]) === null || _data$3 === void 0 ? void 0 : _data$3.addressesInVietnam) ? (_data$4 = data[0]) === null || _data$4 === void 0 ? void 0 : _data$4.addressesInVietnam : [],\n          workAddresses: ((_data$5 = data[0]) === null || _data$5 === void 0 ? void 0 : _data$5.workAddresses) ? (_data$6 = data[0]) === null || _data$6 === void 0 ? void 0 : _data$6.workAddresses : [],\n          immunizations: ((_data$7 = data[0]) === null || _data$7 === void 0 ? void 0 : _data$7.immunizations) ? (_data$8 = data[0]) === null || _data$8 === void 0 ? void 0 : _data$8.immunizations : []\n        };\n        setFillData(profile);\n        reset({\n          ...profile,\n          immunizations: []\n        });\n      } else {\n        setFillData(undefined);\n        resetWithoutFields(['fullName', 'phoneNumber']);\n      }\n      setLoading(false);\n    });\n    // eslint-disable-next-line\n  }, [reset, setFillData]);\n  useEffect(() => {\n    if (fillExistProfile && fullName && phoneNumber && phoneNumber.length > 9 && phoneNumber.length < 12) {\n      getExistProfile(fullName, phoneNumber);\n    }\n  }, [getExistProfile, fillExistProfile, fullName, phoneNumber]);\n  useEffect(() => {\n    if ((conflictSubject === null || conflictSubject === void 0 ? void 0 : conflictSubject.id) || (conflictSubject === null || conflictSubject === void 0 ? void 0 : conflictSubject.fullName)) {\n      if (!fillData || !isEqualObject(conflictSubject, fillData)) {\n        // setFillData(conflictSubject);\n        getExistProfile(conflictSubject === null || conflictSubject === void 0 ? void 0 : conflictSubject.fullName, conflictSubject === null || conflictSubject === void 0 ? void 0 : conflictSubject.phoneNumber);\n      }\n    }\n  }, [fillData, conflictSubject]);\n  useEffect(() => {\n    if (initialSubject) {\n      reset({\n        ...initialSubject,\n        dateOfBirth: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.dateOfBirth) ? (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.hasYearOfBirthOnly) ? moment(initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.dateOfBirth).format('YYYY') : new Date(initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.dateOfBirth) : '',\n        addressesInVietnam: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.addressesInVietnam) ? initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.addressesInVietnam : [],\n        workAddresses: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.workAddresses) ? initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.workAddresses : [],\n        immunizations: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.immunizations) ? initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.immunizations : []\n      });\n    } else {\n      var _assignQuickTestSessi, _assignQuickTestSessi2, _assignQuickTestSessi3, _assignQuickTestSessi4, _assignQuickTestSessi5;\n      reset({\n        ...defaultProfileValue,\n        sKey: `@${uuidv4()}`,\n        addressesInVietnam: [],\n        workAddresses: assignQuickTestSession ? [{\n          name: (_assignQuickTestSessi = assignQuickTestSession === null || assignQuickTestSession === void 0 ? void 0 : assignQuickTestSession.name) !== null && _assignQuickTestSessi !== void 0 ? _assignQuickTestSessi : '',\n          streetHouseNumber: (_assignQuickTestSessi2 = assignQuickTestSession === null || assignQuickTestSession === void 0 ? void 0 : assignQuickTestSession.streetHouseNumber) !== null && _assignQuickTestSessi2 !== void 0 ? _assignQuickTestSessi2 : '',\n          provinceValue: (_assignQuickTestSessi3 = assignQuickTestSession === null || assignQuickTestSession === void 0 ? void 0 : assignQuickTestSession.provinceCode) !== null && _assignQuickTestSessi3 !== void 0 ? _assignQuickTestSessi3 : '',\n          districtValue: (_assignQuickTestSessi4 = assignQuickTestSession === null || assignQuickTestSession === void 0 ? void 0 : assignQuickTestSession.districtCode) !== null && _assignQuickTestSessi4 !== void 0 ? _assignQuickTestSessi4 : '',\n          wardValue: (_assignQuickTestSessi5 = assignQuickTestSession === null || assignQuickTestSession === void 0 ? void 0 : assignQuickTestSession.wardCode) !== null && _assignQuickTestSessi5 !== void 0 ? _assignQuickTestSessi5 : ''\n        }] : [],\n        immunizations: []\n      });\n    }\n    // eslint-disable-next-line\n  }, [reset, initialSubject, assignQuickTestSession]);\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Dimmer, {\n    inverted: true,\n    active: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"id\",\n    defaultValue: \"\",\n    control: control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"sKey\",\n    defaultValue: \"\",\n    control: control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"hasYearOfBirthOnly\",\n    defaultValue: \"true\",\n    control: control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"fullName\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.required,\n    render: _ref12 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref12;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        required: true,\n        label: \"H\\u1ECD v\\xE0 t\\xEAn\",\n        value: value || '',\n        onChange: (__, _ref13) => {\n          let {\n            value: v\n          } = _ref13;\n          onChange(v);\n          onChangeWithoutDelay(setFullName(v.toUpperCase()), 1000);\n        },\n        onBlur: () => {\n          onBlur();\n          onChange(value.toUpperCase());\n        },\n        error: errors.fullName && errorOptions.required,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"phoneNumber\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.phoneNumber,\n    render: _ref14 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref14;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        required: true,\n        type: \"number\",\n        label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n        value: value || '',\n        onChange: (__, _ref15) => {\n          let {\n            value: v\n          } = _ref15;\n          onChange(v);\n          onChangeWithoutDelay(setPhoneNumber(v), 500);\n        },\n        onBlur: onBlur,\n        error: !readOnly && errors.phoneNumber && errorOptions.phoneNumber,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"dateOfBirth\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.dateOfBirth,\n    render: _ref16 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref16;\n      if (watch('hasYearOfBirthOnly')) {\n        return /*#__PURE__*/React.createElement(Form.Input, {\n          fluid: true,\n          required: true,\n          disabled: readOnly,\n          type: \"number\",\n          label: renderDateOfBirthLabel,\n          value: value,\n          onChange: onChange,\n          onBlur: onBlur,\n          error: !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 19\n          }\n        });\n      }\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        required: true,\n        disabled: readOnly,\n        type: \"date\",\n        label: renderDateOfBirthLabel,\n        value: value,\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n        },\n        error: !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"gender\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.required,\n    render: _ref17 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref17;\n      return /*#__PURE__*/React.createElement(Form.Select, {\n        fluid: true,\n        required: true,\n        disabled: readOnly,\n        label: \"Gi\\u1EDBi t\\xEDnh\",\n        value: value,\n        onChange: (__, _ref18) => {\n          let {\n            value: v\n          } = _ref18;\n          return onChange(v);\n        },\n        onBlur: () => {\n          onBlur();\n        },\n        error: errors.gender && errorOptions.required,\n        options: readOnly ? genderOptions.filter(g => g.value === value) : genderOptions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 664,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"cccd\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.cccd,\n    render: _ref19 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref19;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        disabled: readOnly,\n        label: \"C\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n        },\n        error: errorOptions.cccd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"cmnd\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.cmnd,\n    render: _ref20 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref20;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        disabled: readOnly,\n        label: \"Ch\\u1EE9ng minh nh\\xE2n d\\xE2n\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n        },\n        icon: fillCmnd ? /*#__PURE__*/React.createElement(Icon, {\n          name: \"pencil alternate\",\n          link: true,\n          onClick: () => {\n            onChange(uuidv4());\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 21\n          }\n        }) : null,\n        error: errorOptions.cmnd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 690,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 684,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"passportNumber\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.passport,\n    render: _ref21 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref21;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        disabled: readOnly,\n        label: \"H\\u1ED9 chi\\u1EBFu\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n        },\n        error: errorOptions.passport,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"healthInsuranceNumber\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.insurance,\n    render: _ref22 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref22;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        disabled: readOnly,\n        label: \"B\\u1EA3o hi\\u1EC3m y t\\u1EBF\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n        },\n        error: errorOptions.insurance,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 733,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 753,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"initialMovingInformation\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.required,\n    render: _ref23 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref23;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        required: true,\n        disabled: readOnly,\n        label: \"Th\\xF4ng tin di chuy\\u1EC3n\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n        },\n        error: errors.initialMovingInformation && errorOptions.required,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Header, {\n    as: \"h5\",\n    content: \"\\u0110\\u1ECBa ch\\u1EC9 n\\u01A1i c\\u01B0 tr\\xFA\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 776,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"addressesInVietnam\",\n    defaultValue: [],\n    control: control,\n    rules: ruleOptions.addressesInVietnam,\n    render: _ref24 => {\n      var _errors$addressesInVi;\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref24;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        required: true,\n        control: AddressSection,\n        initialData: value.length !== 0 ? value[0] : {\n          name: '',\n          streetHouseNumber: '',\n          provinceValue: '',\n          districtValue: '',\n          wardValue: ''\n        },\n        onChange: d => {\n          onChange([d]);\n        },\n        onBlur: onBlur,\n        readOnly: readOnly,\n        errorText: (_errors$addressesInVi = errors.addressesInVietnam) === null || _errors$addressesInVi === void 0 ? void 0 : _errors$addressesInVi.message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 808,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"immunizations\",\n    defaultValue: [],\n    control: control,\n    rules: ruleOptions.immunizations,\n    render: _ref25 => {\n      var _errors$immunizations;\n      let {\n        onChange,\n        value\n      } = _ref25;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        required: true,\n        control: ImmunizationSection,\n        fillData: (fillData === null || fillData === void 0 ? void 0 : fillData.immunizations) && Array.isArray(fillData.immunizations) && fillData.immunizations.length !== 0 ? fillData.immunizations.reduce((o, i) => new Date(i.dateCreated) > new Date(o.dateCreated) ? i : o, fillData.immunizations[0]) // get latest object\n        : {\n          immunizationStatus: undefined,\n          // vaccine: '',\n          injectionDate: moment().format('YYYY-MM-DDT02:00:00')\n        },\n        initialData: value.length !== 0 ? value[0] : {\n          immunizationStatus: undefined,\n          // vaccine: '',\n          injectionDate: null\n        },\n        onChange: d => {\n          onChange([d]);\n        },\n        errorText: (_errors$immunizations = errors.immunizations) === null || _errors$immunizations === void 0 ? void 0 : _errors$immunizations.message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 809,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Accordion, {\n    as: Form.Field,\n    defaultActiveIndex: isWorkAddressRequired ? 0 : undefined,\n    panels: additionalPanels,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 853,\n      columnNumber: 9\n    }\n  })));\n};\nProfileSection.propTypes = {\n  isWorkAddressRequired: PropTypes.bool,\n  fillCmnd: PropTypes.bool,\n  fillExistProfile: PropTypes.bool,\n  initialSubject: PropTypes.shape({\n    addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\n    workAddresses: PropTypes.arrayOf(PropTypes.shape({})),\n    immunzations: PropTypes.arrayOf(PropTypes.shape({}))\n  }),\n  conflictSubject: PropTypes.shape({\n    addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\n    workAddresses: PropTypes.arrayOf(PropTypes.shape({})),\n    immunzations: PropTypes.arrayOf(PropTypes.shape({}))\n  })\n  // onChange: PropTypes.func,\n};\n\nProfileSection.defaultProps = {\n  isWorkAddressRequired: false,\n  fillCmnd: true,\n  fillExistProfile: false,\n  initialSubject: {\n    id: 0,\n    guid: '',\n    cccd: '',\n    cmnd: '',\n    healthInsuranceNumber: '',\n    passportNumber: '',\n    fullName: '',\n    gender: '',\n    nationality: 'vn',\n    religion: '',\n    email: '',\n    phoneNumber: '',\n    dateOfBirth: '',\n    hasYearOfBirthOnly: true,\n    job: '',\n    addressesInVietnam: [{\n      id: 0,\n      guid: '',\n      name: '',\n      room: '',\n      floor: '',\n      block: '',\n      provinceValue: '79',\n      districtValue: '',\n      wardValue: '',\n      quarter: '',\n      quarterGroup: '',\n      streetHouseNumber: '',\n      locationType: ''\n    }],\n    workAddresses: [{\n      id: 0,\n      guid: '',\n      name: '',\n      room: '',\n      floor: '',\n      block: '',\n      provinceValue: '',\n      districtValue: '',\n      wardValue: '',\n      quarter: '',\n      quarterGroup: '',\n      streetHouseNumber: '',\n      locationType: ''\n    }],\n    immunizations: []\n  },\n  conflictSubject: {\n    id: 0,\n    guid: '',\n    cccd: '',\n    cmnd: '',\n    healthInsuranceNumber: '',\n    passportNumber: '',\n    fullName: '',\n    gender: '',\n    nationality: 'vn',\n    religion: '',\n    email: '',\n    phoneNumber: '',\n    dateOfBirth: '',\n    hasYearOfBirthOnly: true,\n    job: '',\n    initialMovingInformation: '',\n    addressesInVietnam: [{\n      id: 0,\n      guid: '',\n      name: '',\n      room: '',\n      floor: '',\n      block: '',\n      provinceValue: '79',\n      districtValue: '',\n      wardValue: '',\n      quarter: '',\n      quarterGroup: '',\n      streetHouseNumber: '',\n      locationType: ''\n    }],\n    workAddresses: [{\n      id: 0,\n      guid: '',\n      name: '',\n      room: '',\n      floor: '',\n      block: '',\n      provinceValue: '',\n      districtValue: '',\n      wardValue: '',\n      quarter: '',\n      quarterGroup: '',\n      streetHouseNumber: '',\n      locationType: ''\n    }],\n    immunizations: []\n  }\n  // onChange: null,\n};\n\nexport default ProfileSection;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Controller","useFormContext","styled","v4","uuidv4","PropTypes","moment","Form","Accordion","Header","Icon","Dimmer","Loader","AddressSection","ImmunizationSection","useSelector","getProfilesWithouDispatch","isEqualObject","defaultProfileValue","IMMUNIZATION_STATUSES","nations","genderOptions","text","value","religionOptions","key","nationOptions","map","n","countryCode","name","flag","Wrapper","div","DOBWrapper","span","YLabel","_ref","year","_ref2","DLabel","_ref3","_ref4","ProfileSection","props","_errors$dateOfBirth","_errors$phoneNumber","initialSubject","conflictSubject","fillCmnd","fillExistProfile","isWorkAddressRequired","readOnly","loading","setLoading","timeOut","setTimeOut","fillData","setFillData","undefined","fullName","setFullName","phoneNumber","setPhoneNumber","watch","control","reset","getValues","setValue","formState","errors","assignQuickTestSession","state","medicalTest","hasNoKey","cccdError","length","cmndError","passportError","insuranceError","ruleOptions","required","dateOfBirth","min","subtract","format","max","pattern","cccd","validate","cmnd","passport","insurance","addressesInVietnam","_getValues$","_getValues$2","_getValues$3","_getValues$4","_getValues$5","_getValues$6","error","provinceValue","districtValue","wardValue","streetHouseNumber","quarter","quarterGroup","workAddresses","_getValues$7","_getValues$8","_getValues$9","_getValues$10","_getValues$11","immunizations","_getValues$12","_getValues$13","immunizationStatus","injectionDate","immunizationLatestFromFillData","reduce","o","i","Date","dateCreated","NO_RECORD","NO_VACCINE","Object","keys","JSON","stringify","errorOptions","content","type","passportNumber","healthInsuranceNumber","renderDateOfBirthLabel","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","additionalPanels","title","Fragment","Group","widths","defaultValue","render","_ref5","onChange","onBlur","Select","fluid","deburr","search","label","__","_ref6","v","options","filter","g","_ref7","_ref8","_ref9","Input","_ref10","as","rules","_ref11","_errors$workAddresses","Field","isWorkAddress","initialData","d","errorText","message","onChangeWithoutDelay","callback","time","clearTimeout","setTimeout","resetWithoutFields","fields","arguments","presentFields","forEach","includes","getExistProfile","phone","isSensitiveCase","then","res","data","_data$","_data$2","_data$3","_data$4","_data$5","_data$6","_data$7","_data$8","profile","hasYearOfBirthOnly","id","_assignQuickTestSessi","_assignQuickTestSessi2","_assignQuickTestSessi3","_assignQuickTestSessi4","_assignQuickTestSessi5","sKey","provinceCode","districtCode","wardCode","inverted","active","className","_ref12","_ref13","toUpperCase","_ref14","_ref15","_ref16","disabled","_ref17","_ref18","gender","_ref19","_ref20","icon","link","_ref21","_ref22","_ref23","initialMovingInformation","_ref24","_errors$addressesInVi","_ref25","_errors$immunizations","Array","isArray","defaultActiveIndex","panels","propTypes","bool","shape","arrayOf","immunzations","defaultProps","guid","nationality","religion","email","job","room","floor","block","locationType"],"sources":["H:/BAKCO/pj/data reconciliation/src/medical-test/components/quick-test/ProfileSection.js"],"sourcesContent":["/* eslint-disable no-nested-ternary */\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { Controller, useFormContext } from 'react-hook-form';\r\nimport styled from 'styled-components';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport {\r\n  Form,\r\n  Accordion,\r\n  Header,\r\n  Icon,\r\n  Dimmer,\r\n  Loader,\r\n} from 'semantic-ui-react';\r\nimport AddressSection from 'medical-test/components/quick-test/AddressSection';\r\nimport ImmunizationSection from 'chain/components/ImmunizationSection';\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { getProfilesWithouDispatch } from 'profile/actions/profile';\r\nimport { isEqualObject } from 'app/utils/helpers';\r\nimport { defaultProfileValue } from 'profile/utils/helpers';\r\nimport { IMMUNIZATION_STATUSES } from 'profile/utils/constants';\r\n\r\nimport nations from 'app/assets/mock/nations.json';\r\n\r\nconst genderOptions = [\r\n  { text: 'Nam', value: 1 },\r\n  { text: 'Nữ', value: 0 },\r\n  { text: 'Khác', value: 2 },\r\n];\r\n\r\nconst religionOptions = [\r\n  { key: 'Không', text: 'Không', value: 'Không' },\r\n  { key: 'Phật giáo', text: 'Phật giáo', value: 'Phật giáo' },\r\n  { key: 'Công giáo', text: 'Công giáo', value: 'Công giáo' },\r\n  { key: 'Cao Đài', text: 'Cao Đài', value: 'Cao Đài' },\r\n  { key: 'Hòa Hảo', text: 'Hòa Hảo', value: 'Hòa Hảo' },\r\n  { key: 'Tin Lành', text: 'Tin Lành', value: 'Tin Lành' },\r\n  { key: 'Hồi giáo', text: 'Hồi giáo', value: 'Hồi giáo' },\r\n  { key: 'Ấn Độ giáo', text: 'Ấn Độ giáo', value: 'Ấn Độ giáo' },\r\n];\r\n\r\nconst nationOptions = nations.map((n) => ({\r\n  key: n.countryCode,\r\n  text: n.name,\r\n  value: n.countryCode,\r\n  flag: n.countryCode,\r\n}));\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst DOBWrapper = styled.span`\r\n  & > span:last-child {\r\n    color: red;\r\n    padding-left: 5px;\r\n  }\r\n`;\r\nconst YLabel = styled.span`\r\n  cursor: ${({ year }) => (year === 0 ? 'pointer' : '')};\r\n  font-weight: ${({ year }) => (year === 1 ? 'bold' : '')};\r\n`;\r\nconst DLabel = styled.span`\r\n  cursor: ${({ year }) => (year === 1 ? 'pointer' : '')};\r\n  font-weight: ${({ year }) => (year === 0 ? 'bold' : '')};\r\n`;\r\n\r\nconst ProfileSection = (props) => {\r\n  const {\r\n    initialSubject,\r\n    conflictSubject,\r\n    fillCmnd,\r\n    fillExistProfile,\r\n    isWorkAddressRequired,\r\n    // onChange: onChangeProp,\r\n  } = props;\r\n  const [readOnly] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [timeOut, setTimeOut] = useState(null);\r\n\r\n  // For get exist profile\r\n  const [fillData, setFillData] = useState(undefined);\r\n  const [fullName, setFullName] = useState(undefined);\r\n  const [phoneNumber, setPhoneNumber] = useState(undefined);\r\n\r\n  const {\r\n    watch,\r\n    control,\r\n    reset,\r\n    getValues,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useFormContext();\r\n  const { assignQuickTestSession } = useSelector((state) => state.medicalTest);\r\n\r\n  const hasNoKey = !(\r\n    watch('cccd')\r\n    || watch('cmnd')\r\n    || watch('passportNumber')\r\n    || watch('healthInsuranceNumber')\r\n  );\r\n  const cccdError = watch('cccd') && watch('cccd').length < 12;\r\n  const cmndError = watch('cmnd') && watch('cmnd').length < 9;\r\n  const passportError = watch('passportNumber') && watch('passportNumber').length < 6;\r\n  const insuranceError = watch('healthInsuranceNumber')\r\n    && watch('healthInsuranceNumber').length < 15;\r\n\r\n  const ruleOptions = {\r\n    required: { required: true },\r\n    dateOfBirth: {\r\n      required: true,\r\n      min: moment().subtract(120, 'years').format('YYYY'),\r\n      max: moment().format('YYYY'),\r\n    },\r\n    phoneNumber: {\r\n      required: true,\r\n      pattern: /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n    },\r\n    cccd: { validate: () => !hasNoKey && !cccdError },\r\n    cmnd: { validate: () => !hasNoKey && !cmndError },\r\n    passport: { validate: () => !hasNoKey && !passportError },\r\n    insurance: { validate: () => !hasNoKey && !insuranceError },\r\n    addressesInVietnam: {\r\n      validate: () => {\r\n        let error = '';\r\n        if (!getValues('addressesInVietnam')[0]?.provinceValue) {\r\n          error += 'provinceValue/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.districtValue) {\r\n          error += 'districtValue/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.wardValue) {\r\n          error += 'wardValue/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.streetHouseNumber) {\r\n          error += 'streetHouseNumber/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.quarter) {\r\n          error += 'quarter/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.quarterGroup) {\r\n          error += 'quarterGroup';\r\n        }\r\n        return error || true;\r\n      },\r\n    },\r\n    workAddresses: {\r\n      validate: () => {\r\n        let error = '';\r\n        if (!getValues('workAddresses')[0]?.provinceValue) {\r\n          error += 'provinceValue/';\r\n        }\r\n        if (!getValues('workAddresses')[0]?.districtValue) {\r\n          error += 'districtValue/';\r\n        }\r\n        if (!getValues('workAddresses')[0]?.wardValue) {\r\n          error += 'wardValue/';\r\n        }\r\n        if (!getValues('workAddresses')[0]?.name) {\r\n          error += 'name/';\r\n        }\r\n        if (!getValues('workAddresses')[0]?.streetHouseNumber) {\r\n          error += 'streetHouseNumber';\r\n        }\r\n        return (isWorkAddressRequired && error) || true;\r\n      },\r\n    },\r\n    immunizations: {\r\n      validate: () => {\r\n        const error = {};\r\n        const immunizationStatus = getValues('immunizations')[0]?.immunizationStatus;\r\n        const injectionDate = getValues('immunizations')[0]?.injectionDate;\r\n        const immunizationLatestFromFillData = fillData\r\n          && fillData?.immunizations\r\n          && fillData.immunizations.length > 0\r\n            ? fillData.immunizations.reduce(\r\n                (o, i) => new Date(i.dateCreated) > new Date(o.dateCreated) ? i : o,\r\n                fillData.immunizations[0]\r\n              )\r\n            : undefined;\r\n\r\n        if (typeof immunizationStatus === 'undefined') {\r\n          error.immunizationStatus = 'Bắt buộc';\r\n        } else if (immunizationLatestFromFillData) {\r\n          if (\r\n            immunizationLatestFromFillData.immunizationStatus\r\n            > immunizationStatus\r\n          ) {\r\n            error.immunizationStatus = 'Trạng thái tiêm phải lớn hơn hoặc bằng trạng thái ghi nhận trên hệ thống';\r\n          }\r\n\r\n          if (\r\n            immunizationStatus !== IMMUNIZATION_STATUSES.NO_RECORD\r\n            && immunizationStatus !== IMMUNIZATION_STATUSES.NO_VACCINE\r\n          ) {\r\n            // if (!getValues('immunizations')[0]?.vaccine) {\r\n            //   error += 'vaccine';\r\n            // }\r\n            if (injectionDate) {\r\n              if (immunizationLatestFromFillData) {\r\n                if (\r\n                  moment(injectionDate)\r\n                  < moment(immunizationLatestFromFillData.injectionDate)\r\n                ) {\r\n                  error.injectionDate = 'Ngày tiêm gần nhất phải lớn hơn hoặc bằng ngày ghi nhận trên hệ thống';\r\n                }\r\n              }\r\n            } else {\r\n              error.injectionDate = 'Bắt buộc';\r\n            }\r\n          }\r\n        }\r\n        return Object.keys(error).length === 0 || JSON.stringify(error);\r\n      },\r\n    },\r\n  };\r\n\r\n  const errorOptions = {\r\n    required: {\r\n      content: 'Bắt buộc',\r\n    },\r\n    dateOfBirth: {\r\n      content:\r\n        errors.dateOfBirth?.type === 'required'\r\n          ? 'Bắt buộc'\r\n          : `Năm sinh từ ${moment()\r\n              .subtract(120, 'years')\r\n              .format('YYYY')} - ${moment().format('YYYY')}`,\r\n    },\r\n    phoneNumber: {\r\n      content:\r\n        errors.phoneNumber?.type === 'required'\r\n          ? 'Bắt buộc'\r\n          : 'Chưa đúng định dạng hoặc không có thực',\r\n    },\r\n    cccd:\r\n      cccdError && errors.cccd\r\n        ? 'Tối thiểu 12 ký tự'\r\n        : errors.cccd && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n    cmnd:\r\n      cmndError && errors.cmnd\r\n        ? 'Tối thiểu 9 ký tự'\r\n        : errors.cmnd && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n    passport:\r\n      passportError && errors.passport\r\n        ? 'Tối thiểu 12 ký tự'\r\n        : errors.passportNumber && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n    insurance:\r\n      insuranceError && errors.insurance\r\n        ? 'Tối thiểu 9 ký tự'\r\n        : errors.healthInsuranceNumber && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n  };\r\n\r\n  const renderDateOfBirthLabel = (\r\n    <DOBWrapper>\r\n      <YLabel\r\n        year={watch('hasYearOfBirthOnly') ? 1 : 0}\r\n        onClick={() => setValue('hasYearOfBirthOnly', true)}\r\n      >\r\n        Năm sinh\r\n      </YLabel>\r\n      <span>/</span>\r\n      <DLabel\r\n        year={watch('hasYearOfBirthOnly') ? 1 : 0}\r\n        onClick={() => setValue('hasYearOfBirthOnly', false)}\r\n      >\r\n        Ngày sinh\r\n      </DLabel>\r\n      <span>*</span>\r\n    </DOBWrapper>\r\n  );\r\n\r\n  const additionalPanels = [\r\n    {\r\n      key: 'details',\r\n      title: 'Thông tin bổ sung',\r\n      content: {\r\n        content: (\r\n          <>\r\n            <Form.Group widths='equal'>\r\n              <Controller\r\n                name='nationality'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Select\r\n                    fluid\r\n                    deburr\r\n                    search\r\n                    label='Quốc tịch'\r\n                    value={value || ''}\r\n                    onChange={(__, { value: v }) => onChange(v)}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                    }}\r\n                    options={\r\n                      readOnly\r\n                        ? nationOptions.filter((g) => g.value === value)\r\n                        : nationOptions\r\n                    }\r\n                  />\r\n                )}\r\n              />\r\n              <Controller\r\n                name='religion'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Select\r\n                    fluid\r\n                    deburr\r\n                    search\r\n                    label='Tôn giáo'\r\n                    value={value || ''}\r\n                    onChange={(__, { value: v }) => onChange(v)}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                    }}\r\n                    options={\r\n                      readOnly\r\n                        ? religionOptions.filter((g) => g.value === value)\r\n                        : religionOptions\r\n                    }\r\n                  />\r\n                )}\r\n              />\r\n              <Controller\r\n                name='job'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Input\r\n                    fluid\r\n                    label='Nghề nghiệp'\r\n                    value={value || ''}\r\n                    onChange={onChange}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                    }}\r\n                    readOnly={readOnly}\r\n                  />\r\n                )}\r\n              />\r\n              <Controller\r\n                name='email'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Input\r\n                    fluid\r\n                    type='email'\r\n                    label='Email'\r\n                    value={value || ''}\r\n                    onChange={onChange}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                    }}\r\n                    readOnly={readOnly}\r\n                  />\r\n                )}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Header as='h5' content='Địa chỉ nơi làm việc - học tập' />\r\n            <Form.Group widths='equal'>\r\n              <Controller\r\n                name='workAddresses'\r\n                defaultValue={[]}\r\n                control={control}\r\n                rules={ruleOptions.workAddresses}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Field\r\n                    fluid\r\n                    required={isWorkAddressRequired}\r\n                    isWorkAddress\r\n                    control={AddressSection}\r\n                    initialData={\r\n                      value.length !== 0\r\n                        ? value[0]\r\n                        : {\r\n                            name: '',\r\n                            streetHouseNumber: '',\r\n                            provinceValue: '',\r\n                            districtValue: '',\r\n                            wardValue: '',\r\n                          }\r\n                    }\r\n                    onChange={(d) => {\r\n                      onChange([d]);\r\n                    }}\r\n                    onBlur={onBlur}\r\n                    errorText={errors.workAddresses?.message}\r\n                  />\r\n                )}\r\n              />\r\n            </Form.Group>\r\n          </>\r\n        ),\r\n      },\r\n    },\r\n  ];\r\n\r\n  const onChangeWithoutDelay = (callback, time) => {\r\n    if (timeOut) {\r\n      clearTimeout(timeOut);\r\n    }\r\n    setTimeOut(setTimeout(callback, time));\r\n  };\r\n\r\n  const resetWithoutFields = (fields = []) => {\r\n    const presentFields = getValues();\r\n    Object.keys(presentFields).forEach((key) => {\r\n      if (!fields.includes(key)) {\r\n        setValue(key, defaultProfileValue[key]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const getExistProfile = useCallback(\r\n    (name, phone) => {\r\n      setLoading(true);\r\n      getProfilesWithouDispatch({\r\n        name,\r\n        phoneNumber: phone,\r\n        isSensitiveCase: true,\r\n      }).then((res) => {\r\n        const { data } = res;\r\n        if (data && data.length > 0) {\r\n          const profile = {\r\n            ...data[0],\r\n            dateOfBirth: data[0]?.dateOfBirth\r\n              ? data[0]?.hasYearOfBirthOnly\r\n                ? moment(data[0].dateOfBirth).format('YYYY')\r\n                : moment(data[0].dateOfBirth).format('YYYY-MM-DD')\r\n              : '',\r\n            addressesInVietnam: data[0]?.addressesInVietnam\r\n              ? data[0]?.addressesInVietnam\r\n              : [],\r\n            workAddresses: data[0]?.workAddresses ? data[0]?.workAddresses : [],\r\n            immunizations: data[0]?.immunizations ? data[0]?.immunizations : [],\r\n          };\r\n          setFillData(profile);\r\n          reset({\r\n            ...profile,\r\n            immunizations: [],\r\n          });\r\n        } else {\r\n          setFillData(undefined);\r\n          resetWithoutFields(['fullName', 'phoneNumber']);\r\n        }\r\n        setLoading(false);\r\n      });\r\n      // eslint-disable-next-line\r\n    },\r\n    [reset, setFillData]\r\n  );\r\n  useEffect(() => {\r\n    if (\r\n      fillExistProfile\r\n      && fullName\r\n      && phoneNumber\r\n      && phoneNumber.length > 9\r\n      && phoneNumber.length < 12\r\n    ) {\r\n      getExistProfile(fullName, phoneNumber);\r\n    }\r\n  }, [getExistProfile, fillExistProfile, fullName, phoneNumber]);\r\n\r\n  useEffect(() => {\r\n    if (conflictSubject?.id || conflictSubject?.fullName) {\r\n      if (!fillData || !isEqualObject(conflictSubject, fillData)) {\r\n        // setFillData(conflictSubject);\r\n        getExistProfile(\r\n          conflictSubject?.fullName,\r\n          conflictSubject?.phoneNumber\r\n        );\r\n      }\r\n    }\r\n  }, [fillData, conflictSubject]);\r\n\r\n  useEffect(() => {\r\n    if (initialSubject) {\r\n      reset({\r\n        ...initialSubject,\r\n        dateOfBirth: initialSubject?.dateOfBirth\r\n          ? initialSubject?.hasYearOfBirthOnly\r\n            ? moment(initialSubject?.dateOfBirth).format('YYYY')\r\n            : new Date(initialSubject?.dateOfBirth)\r\n          : '',\r\n        addressesInVietnam: initialSubject?.addressesInVietnam\r\n          ? initialSubject?.addressesInVietnam\r\n          : [],\r\n        workAddresses: initialSubject?.workAddresses\r\n          ? initialSubject?.workAddresses\r\n          : [],\r\n        immunizations: initialSubject?.immunizations\r\n          ? initialSubject?.immunizations\r\n          : [],\r\n      });\r\n    } else {\r\n      reset({\r\n        ...defaultProfileValue,\r\n        sKey: `@${uuidv4()}`,\r\n        addressesInVietnam: [],\r\n        workAddresses: assignQuickTestSession\r\n          ? [\r\n              {\r\n                name: assignQuickTestSession?.name ?? '',\r\n                streetHouseNumber:\r\n                  assignQuickTestSession?.streetHouseNumber ?? '',\r\n                provinceValue: assignQuickTestSession?.provinceCode ?? '',\r\n                districtValue: assignQuickTestSession?.districtCode ?? '',\r\n                wardValue: assignQuickTestSession?.wardCode ?? '',\r\n              },\r\n            ]\r\n          : [],\r\n        immunizations: [],\r\n      });\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [reset, initialSubject, assignQuickTestSession]);\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Dimmer inverted active={loading}>\r\n        <Loader />\r\n      </Dimmer>\r\n      <div className='ui form'>\r\n        <Form.Group widths='equal'>\r\n          <Controller name='id' defaultValue='' control={control} />\r\n          <Controller name='sKey' defaultValue='' control={control} />\r\n          <Controller\r\n            name='hasYearOfBirthOnly'\r\n            defaultValue='true'\r\n            control={control}\r\n          />\r\n          <Controller\r\n            name='fullName'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.required}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                required\r\n                label='Họ và tên'\r\n                value={value || ''}\r\n                onChange={(__, { value: v }) => {\r\n                  onChange(v);\r\n                  onChangeWithoutDelay(setFullName(v.toUpperCase()), 1000);\r\n                }}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  onChange(value.toUpperCase());\r\n                }}\r\n                error={errors.fullName && errorOptions.required}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='phoneNumber'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.phoneNumber}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                required\r\n                type='number'\r\n                label='Số điện thoại'\r\n                value={value || ''}\r\n                onChange={(__, { value: v }) => {\r\n                  onChange(v);\r\n                  onChangeWithoutDelay(setPhoneNumber(v), 500);\r\n                }}\r\n                onBlur={onBlur}\r\n                error={\r\n                  !readOnly && errors.phoneNumber && errorOptions.phoneNumber\r\n                }\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='dateOfBirth'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.dateOfBirth}\r\n            render={({ onChange, onBlur, value }) => {\r\n              if (watch('hasYearOfBirthOnly')) {\r\n                return (\r\n                  <Form.Input\r\n                    fluid\r\n                    required\r\n                    disabled={readOnly}\r\n                    type='number'\r\n                    label={renderDateOfBirthLabel}\r\n                    value={value}\r\n                    onChange={onChange}\r\n                    onBlur={onBlur}\r\n                    error={\r\n                      !readOnly\r\n                      && errors.dateOfBirth\r\n                      && errorOptions.dateOfBirth\r\n                    }\r\n                  />\r\n                );\r\n              }\r\n              return (\r\n                <Form.Input\r\n                  fluid\r\n                  required\r\n                  disabled={readOnly}\r\n                  type='date'\r\n                  label={renderDateOfBirthLabel}\r\n                  value={value}\r\n                  onChange={onChange}\r\n                  onBlur={() => {\r\n                    onBlur();\r\n                  }}\r\n                  error={\r\n                    !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth\r\n                  }\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Controller\r\n            name='gender'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.required}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Select\r\n                fluid\r\n                required\r\n                disabled={readOnly}\r\n                label='Giới tính'\r\n                value={value}\r\n                onChange={(__, { value: v }) => onChange(v)}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                }}\r\n                error={errors.gender && errorOptions.required}\r\n                options={\r\n                  readOnly\r\n                    ? genderOptions.filter((g) => g.value === value)\r\n                    : genderOptions\r\n                }\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group widths='equal'>\r\n          <Controller\r\n            name='cccd'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.cccd}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                disabled={readOnly}\r\n                label='Căn cước công dân'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                }}\r\n                error={errorOptions.cccd}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='cmnd'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.cmnd}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                disabled={readOnly}\r\n                label='Chứng minh nhân dân'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                }}\r\n                icon={\r\n                  fillCmnd ? (\r\n                    <Icon\r\n                      name='pencil alternate'\r\n                      link\r\n                      onClick={() => {\r\n                        onChange(uuidv4());\r\n                      }}\r\n                    />\r\n                  ) : null\r\n                }\r\n                error={errorOptions.cmnd}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='passportNumber'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.passport}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                disabled={readOnly}\r\n                label='Hộ chiếu'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                }}\r\n                error={errorOptions.passport}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='healthInsuranceNumber'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.insurance}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                disabled={readOnly}\r\n                label='Bảo hiểm y tế'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                }}\r\n                error={errorOptions.insurance}\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group widths='equal'>\r\n          <Controller\r\n            name='initialMovingInformation'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.required}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                required\r\n                disabled={readOnly}\r\n                label='Thông tin di chuyển'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                }}\r\n                error={errors.initialMovingInformation && errorOptions.required}\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n        <Header as='h5' content='Địa chỉ nơi cư trú' />\r\n        <Form.Group widths='equal'>\r\n          <Controller\r\n            name='addressesInVietnam'\r\n            defaultValue={[]}\r\n            control={control}\r\n            rules={ruleOptions.addressesInVietnam}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Field\r\n                fluid\r\n                required\r\n                control={AddressSection}\r\n                initialData={\r\n                  value.length !== 0\r\n                    ? value[0]\r\n                    : {\r\n                        name: '',\r\n                        streetHouseNumber: '',\r\n                        provinceValue: '',\r\n                        districtValue: '',\r\n                        wardValue: '',\r\n                      }\r\n                }\r\n                onChange={(d) => {\r\n                  onChange([d]);\r\n                }}\r\n                onBlur={onBlur}\r\n                readOnly={readOnly}\r\n                errorText={errors.addressesInVietnam?.message}\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group widths='equal'>\r\n          <Controller\r\n            name='immunizations'\r\n            defaultValue={[]}\r\n            control={control}\r\n            rules={ruleOptions.immunizations}\r\n            render={({ onChange, value }) => (\r\n              <Form.Field\r\n                fluid\r\n                required\r\n                control={ImmunizationSection}\r\n                fillData={\r\n                  fillData?.immunizations\r\n                  && Array.isArray(fillData.immunizations)\r\n                  && fillData.immunizations.length !== 0\r\n                    ? fillData.immunizations.reduce(\r\n                        (o, i) => new Date(i.dateCreated) > new Date(o.dateCreated)\r\n                            ? i\r\n                            : o,\r\n                        fillData.immunizations[0]\r\n                      ) // get latest object\r\n                    : {\r\n                        immunizationStatus: undefined,\r\n                        // vaccine: '',\r\n                        injectionDate: moment().format('YYYY-MM-DDT02:00:00'),\r\n                      }\r\n                }\r\n                initialData={\r\n                  value.length !== 0\r\n                    ? value[0]\r\n                    : {\r\n                        immunizationStatus: undefined,\r\n                        // vaccine: '',\r\n                        injectionDate: null,\r\n                      }\r\n                }\r\n                onChange={(d) => {\r\n                  onChange([d]);\r\n                }}\r\n                errorText={errors.immunizations?.message}\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Accordion\r\n          as={Form.Field}\r\n          defaultActiveIndex={isWorkAddressRequired ? 0 : undefined}\r\n          panels={additionalPanels}\r\n        />\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nProfileSection.propTypes = {\r\n  isWorkAddressRequired: PropTypes.bool,\r\n  fillCmnd: PropTypes.bool,\r\n  fillExistProfile: PropTypes.bool,\r\n  initialSubject: PropTypes.shape({\r\n    addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\r\n    workAddresses: PropTypes.arrayOf(PropTypes.shape({})),\r\n    immunzations: PropTypes.arrayOf(PropTypes.shape({})),\r\n  }),\r\n  conflictSubject: PropTypes.shape({\r\n    addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\r\n    workAddresses: PropTypes.arrayOf(PropTypes.shape({})),\r\n    immunzations: PropTypes.arrayOf(PropTypes.shape({})),\r\n  }),\r\n  // onChange: PropTypes.func,\r\n};\r\n\r\nProfileSection.defaultProps = {\r\n  isWorkAddressRequired: false,\r\n  fillCmnd: true,\r\n  fillExistProfile: false,\r\n  initialSubject: {\r\n    id: 0,\r\n    guid: '',\r\n    cccd: '',\r\n    cmnd: '',\r\n    healthInsuranceNumber: '',\r\n    passportNumber: '',\r\n    fullName: '',\r\n    gender: '',\r\n    nationality: 'vn',\r\n    religion: '',\r\n    email: '',\r\n    phoneNumber: '',\r\n    dateOfBirth: '',\r\n    hasYearOfBirthOnly: true,\r\n    job: '',\r\n    addressesInVietnam: [\r\n      {\r\n        id: 0,\r\n        guid: '',\r\n        name: '',\r\n        room: '',\r\n        floor: '',\r\n        block: '',\r\n        provinceValue: '79',\r\n        districtValue: '',\r\n        wardValue: '',\r\n        quarter: '',\r\n        quarterGroup: '',\r\n        streetHouseNumber: '',\r\n        locationType: '',\r\n      },\r\n    ],\r\n    workAddresses: [\r\n      {\r\n        id: 0,\r\n        guid: '',\r\n        name: '',\r\n        room: '',\r\n        floor: '',\r\n        block: '',\r\n        provinceValue: '',\r\n        districtValue: '',\r\n        wardValue: '',\r\n        quarter: '',\r\n        quarterGroup: '',\r\n        streetHouseNumber: '',\r\n        locationType: '',\r\n      },\r\n    ],\r\n    immunizations: [],\r\n  },\r\n  conflictSubject: {\r\n    id: 0,\r\n    guid: '',\r\n    cccd: '',\r\n    cmnd: '',\r\n    healthInsuranceNumber: '',\r\n    passportNumber: '',\r\n    fullName: '',\r\n    gender: '',\r\n    nationality: 'vn',\r\n    religion: '',\r\n    email: '',\r\n    phoneNumber: '',\r\n    dateOfBirth: '',\r\n    hasYearOfBirthOnly: true,\r\n    job: '',\r\n    initialMovingInformation: '',\r\n    addressesInVietnam: [\r\n      {\r\n        id: 0,\r\n        guid: '',\r\n        name: '',\r\n        room: '',\r\n        floor: '',\r\n        block: '',\r\n        provinceValue: '79',\r\n        districtValue: '',\r\n        wardValue: '',\r\n        quarter: '',\r\n        quarterGroup: '',\r\n        streetHouseNumber: '',\r\n        locationType: '',\r\n      },\r\n    ],\r\n    workAddresses: [\r\n      {\r\n        id: 0,\r\n        guid: '',\r\n        name: '',\r\n        room: '',\r\n        floor: '',\r\n        block: '',\r\n        provinceValue: '',\r\n        districtValue: '',\r\n        wardValue: '',\r\n        quarter: '',\r\n        quarterGroup: '',\r\n        streetHouseNumber: '',\r\n        locationType: '',\r\n      },\r\n    ],\r\n    immunizations: [],\r\n  },\r\n  // onChange: null,\r\n};\r\n\r\nexport default ProfileSection;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}