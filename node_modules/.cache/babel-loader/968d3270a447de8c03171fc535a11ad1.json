{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\patient-management\\\\components\\\\infected-patient\\\\DiseaseHistoryTable.js\";\n/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { FiEdit3 } from 'react-icons/fi';\nimport { DataTable } from 'app/components/shared';\nimport { formatAddressToString, formatToDate } from 'app/utils/helpers';\nimport { renderInfectiousReason, renderInfectiousStatus } from 'profile/utils/helpers';\nimport { useAuth } from 'app/hooks';\nimport UpdateQuarantineAddressModal from './UpdateQuarantineAddress';\nconst columns = [{\n  Header: '#',\n  accessor: 'index'\n}, {\n  Header: 'Thời gian',\n  formatter: _ref => {\n    let {\n      date\n    } = _ref;\n    return formatToDate(date);\n  }\n}, {\n  Header: 'Tên bệnh',\n  formatter: () => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 23\n    }\n  }, \"Covid-19\")\n}, {\n  Header: 'Loại ca bệnh',\n  formatter: _ref2 => {\n    let {\n      chainType\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 36\n      }\n    }, chainType === 1 ? 'Nghi ngờ' : 'Xác định');\n  }\n}, {\n  Header: 'Địa chỉ phát bệnh',\n  formatter: _ref3 => {\n    var _diseaseLocation$stre;\n    let {\n      diseaseLocation\n    } = _ref3;\n    return formatAddressToString({\n      ...diseaseLocation,\n      streetHouseNumber: (_diseaseLocation$stre = diseaseLocation === null || diseaseLocation === void 0 ? void 0 : diseaseLocation.streetHouseNumber) !== null && _diseaseLocation$stre !== void 0 ? _diseaseLocation$stre : ''\n    });\n  },\n  cutlength: 30\n}, {\n  Header: 'Địa chỉ cách ly',\n  formatter: _ref4 => {\n    var _quarantineAddress$st;\n    let {\n      quarantineAddress\n    } = _ref4;\n    return formatAddressToString({\n      ...quarantineAddress,\n      streetHouseNumber: (_quarantineAddress$st = quarantineAddress === null || quarantineAddress === void 0 ? void 0 : quarantineAddress.streetHouseNumber) !== null && _quarantineAddress$st !== void 0 ? _quarantineAddress$st : ''\n    });\n  },\n  cutlength: 30\n}, {\n  Header: 'Trạng thái',\n  formatter: _ref5 => {\n    let {\n      result\n    } = _ref5;\n    return renderInfectiousStatus((result === null || result === void 0 ? void 0 : result.toLowerCase().includes('dương tính')) ? 1 : 0);\n  }\n}, {\n  Header: 'Lý do xác định ca bệnh',\n  formatter: _ref6 => {\n    let {\n      infectionReason\n    } = _ref6;\n    return renderInfectiousReason(infectionReason);\n  }\n}\n// {\n//   Header: 'Kết quả',\n//   formatter: ({ actualEndTime }) => formatToDate(actualEndTime),\n// },\n];\n\nconst DiseaseHistoryTable = _ref7 => {\n  let {\n    initialData: {\n      profileHealthDeclarations,\n      profileInformation\n    },\n    loading,\n    onRefresh\n  } = _ref7;\n  const [ModalUpdateQuarantinedAddress, setModalUpdateQuarantinedAddress] = useState(undefined);\n  const {\n    isAdmin\n  } = useAuth();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    title: \"L\\u1ECBch s\\u1EED ca b\\u1EC7nh\",\n    columns: columns,\n    loading: loading,\n    data: (profileHealthDeclarations || []).map((r, i) => ({\n      ...r,\n      diseaseLocation: profileInformation === null || profileInformation === void 0 ? void 0 : profileInformation.addressInVietnam,\n      index: i + 1\n    })),\n    onPaginationChange: () => {},\n    actions: [{\n      icon: /*#__PURE__*/React.createElement(FiEdit3, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 19\n        }\n      }),\n      title: 'Cập nhật địa chỉ cách ly',\n      color: 'yellow',\n      onClick: d => setModalUpdateQuarantinedAddress(d),\n      hidden: !isAdmin\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(UpdateQuarantineAddressModal, {\n    data: ModalUpdateQuarantinedAddress,\n    onClose: () => setModalUpdateQuarantinedAddress(undefined),\n    onRefresh: () => onRefresh(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }));\n};\nDiseaseHistoryTable.propTypes = {\n  // onRefresh: PropTypes.func,\n  profile: PropTypes.shape({\n    id: PropTypes.number,\n    fullName: PropTypes.string,\n    information: PropTypes.shape({\n      fullName: PropTypes.string,\n      alias: PropTypes.string\n    }),\n    diseaseLocation: PropTypes.shape({}),\n    type: PropTypes.number,\n    code: PropTypes.string,\n    createFromType: PropTypes.number\n  })\n};\nDiseaseHistoryTable.defaultProps = {\n  // onRefresh: () => {},\n  profile: {}\n};\nexport default DiseaseHistoryTable;","map":{"version":3,"names":["React","useState","PropTypes","FiEdit3","DataTable","formatAddressToString","formatToDate","renderInfectiousReason","renderInfectiousStatus","useAuth","UpdateQuarantineAddressModal","columns","Header","accessor","formatter","_ref","date","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","_ref2","chainType","_ref3","_diseaseLocation$stre","diseaseLocation","streetHouseNumber","cutlength","_ref4","_quarantineAddress$st","quarantineAddress","_ref5","result","toLowerCase","includes","_ref6","infectionReason","DiseaseHistoryTable","_ref7","initialData","profileHealthDeclarations","profileInformation","loading","onRefresh","ModalUpdateQuarantinedAddress","setModalUpdateQuarantinedAddress","undefined","isAdmin","title","data","map","r","i","addressInVietnam","index","onPaginationChange","actions","icon","color","onClick","d","hidden","onClose","propTypes","profile","shape","id","number","fullName","string","information","alias","type","code","createFromType","defaultProps"],"sources":["H:/BAKCO/pj/data reconciliation/src/patient-management/components/infected-patient/DiseaseHistoryTable.js"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { FiEdit3 } from 'react-icons/fi';\n\n\nimport { DataTable } from 'app/components/shared';\nimport { formatAddressToString, formatToDate } from 'app/utils/helpers';\n\nimport { renderInfectiousReason, renderInfectiousStatus } from 'profile/utils/helpers';\nimport { useAuth } from 'app/hooks';\nimport UpdateQuarantineAddressModal from './UpdateQuarantineAddress';\n\nconst columns = [\n  { Header: '#', accessor: 'index' },\n  {\n    Header: 'Thời gian',\n    formatter: ({ date }) => formatToDate(date),\n  },\n  {\n    Header: 'Tên bệnh',\n    formatter: () => (<div>Covid-19</div>),\n  },\n  {\n    Header: 'Loại ca bệnh',\n    formatter: ({ chainType }) => (<div>{chainType === 1 ? 'Nghi ngờ' : 'Xác định'}</div>),\n  },\n  {\n    Header: 'Địa chỉ phát bệnh',\n    formatter: ({ diseaseLocation }) => formatAddressToString({\n        ...diseaseLocation,\n        streetHouseNumber: diseaseLocation?.streetHouseNumber ?? '',\n      }),\n    cutlength: 30,\n  },\n  {\n    Header: 'Địa chỉ cách ly',\n    formatter: ({ quarantineAddress }) => formatAddressToString({\n        ...quarantineAddress,\n        streetHouseNumber: quarantineAddress?.streetHouseNumber ?? '',\n      }),\n    cutlength: 30,\n  },\n  {\n    Header: 'Trạng thái',\n    formatter: ({ result }) => renderInfectiousStatus(result?.toLowerCase().includes('dương tính') ? 1 : 0),\n  },\n  {\n    Header: 'Lý do xác định ca bệnh',\n    formatter: ({ infectionReason }) => renderInfectiousReason(infectionReason),\n  },\n  // {\n  //   Header: 'Kết quả',\n  //   formatter: ({ actualEndTime }) => formatToDate(actualEndTime),\n  // },\n];\n\nconst DiseaseHistoryTable = ({ initialData: { profileHealthDeclarations, profileInformation }, loading, onRefresh }) => {\n  const [ModalUpdateQuarantinedAddress, setModalUpdateQuarantinedAddress] = useState(undefined);\n  const { isAdmin } = useAuth();\n  return (\n    <div>\n      <DataTable\n        title=\"Lịch sử ca bệnh\"\n        columns={columns}\n        loading={loading}\n        data={(profileHealthDeclarations || []).map((r, i) => ({ ...r, diseaseLocation: profileInformation?.addressInVietnam, index: i + 1 }))}\n        onPaginationChange={() => {\n        }}\n        actions={[\n          {\n            icon: <FiEdit3 />,\n            title: 'Cập nhật địa chỉ cách ly',\n            color: 'yellow',\n            onClick: (d) => setModalUpdateQuarantinedAddress(d),\n            hidden: !isAdmin,\n          },\n        ]}\n      />\n      <UpdateQuarantineAddressModal\n        data={ModalUpdateQuarantinedAddress}\n        onClose={() => setModalUpdateQuarantinedAddress(undefined)}\n        onRefresh={() => onRefresh()}\n      />\n    </div>\n\n  );\n};\n\nDiseaseHistoryTable.propTypes = {\n  // onRefresh: PropTypes.func,\n  profile: PropTypes.shape({\n    id: PropTypes.number,\n    fullName: PropTypes.string,\n    information: PropTypes.shape({\n      fullName: PropTypes.string,\n      alias: PropTypes.string,\n    }),\n    diseaseLocation: PropTypes.shape({}),\n    type: PropTypes.number,\n    code: PropTypes.string,\n    createFromType: PropTypes.number,\n  }),\n};\n\nDiseaseHistoryTable.defaultProps = {\n  // onRefresh: () => {},\n  profile: {},\n};\n\nexport default DiseaseHistoryTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}