{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\quarantine-facilities\\\\components\\\\quarantine-in-facility\\\\CreateRoomModal.js\";\n/* eslint-disable react/no-array-index-key */\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Button, Form, Input, Modal } from 'semantic-ui-react';\nimport { FiX } from 'react-icons/fi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createRooms } from 'quarantine-facilities/actions/quarantine-facility';\nconst StyledFormGroup = styled(Form.Group)`\n  margin-bottom: 0 !important;\n`;\nconst CreateRoomModal = props => {\n  const {\n    open,\n    onClose,\n    onSubmit\n  } = props;\n  const [rooms, setRooms] = useState([{\n    name: '',\n    occupancy: ''\n  }]);\n  const handleAdd = e => {\n    e.preventDefault();\n    setRooms([...rooms, {\n      name: '',\n      occupancy: ''\n    }]);\n  };\n  const handleRemove = (e, index) => {\n    e.preventDefault();\n    const values = [...rooms];\n    values.splice(index, 1);\n    setRooms(values);\n  };\n  const handleOccupancyChange = (index, value) => {\n    const values = [...rooms];\n    values[index].occupancy = parseInt(value, 10);\n    setRooms(values);\n  };\n  const handleNameChange = (index, value) => {\n    const values = [...rooms];\n    values[index].name = value;\n    setRooms(values);\n  };\n  const dispatch = useDispatch();\n  const {\n    selectedFacility,\n    createRoomsLoading\n  } = useSelector(s => s.quarantineFacility);\n  const handleCreateRooms = async () => {\n    if (selectedFacility) {\n      await dispatch(createRooms(selectedFacility.id, rooms));\n      onClose();\n      onSubmit();\n    }\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"T\\u1EA1o ph\\xF2ng\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleCreateRooms,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, rooms.map((r, i) => {\n    var _rooms$i$name, _rooms$i, _rooms$i$occupancy, _rooms$i2;\n    return /*#__PURE__*/React.createElement(StyledFormGroup, {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      control: Input,\n      width: \"8\",\n      required: true,\n      label: \"T\\xEAn ph\\xF2ng\",\n      value: (_rooms$i$name = (_rooms$i = rooms[i]) === null || _rooms$i === void 0 ? void 0 : _rooms$i.name) !== null && _rooms$i$name !== void 0 ? _rooms$i$name : '',\n      onChange: (e, _ref) => {\n        let {\n          value\n        } = _ref;\n        return handleNameChange(i, value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Form.Field, {\n      width: \"7\",\n      required: true,\n      type: \"number\",\n      name: \"occupancy\",\n      label: \"S\\u1ED1 gi\\u01B0\\u1EDDng\",\n      control: Input,\n      value: (_rooms$i$occupancy = (_rooms$i2 = rooms[i]) === null || _rooms$i2 === void 0 ? void 0 : _rooms$i2.occupancy) !== null && _rooms$i$occupancy !== void 0 ? _rooms$i$occupancy : '',\n      onChange: (e, _ref2) => {\n        let {\n          value\n        } = _ref2;\n        return handleOccupancyChange(i, value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Form.Group, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Form.Button, {\n      label: \"Xo\\xE1\",\n      basic: true,\n      color: \"red\",\n      icon: /*#__PURE__*/React.createElement(FiX, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }\n      }),\n      title: \"Xo\\xE1\",\n      onClick: e => handleRemove(e, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    })));\n  }), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    color: \"green\",\n    content: \"Th\\xEAm ph\\xF2ng\",\n    onClick: e => handleAdd(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    content: \"X\\xE1c nh\\u1EADn\",\n    loading: createRoomsLoading,\n    disabled: rooms.filter(r => !r.name || !r.occupancy).length !== 0 || createRoomsLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  })))));\n};\nCreateRoomModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\nexport default CreateRoomModal;","map":{"version":3,"names":["React","useState","styled","PropTypes","Button","Form","Input","Modal","FiX","useDispatch","useSelector","createRooms","StyledFormGroup","Group","CreateRoomModal","props","open","onClose","onSubmit","rooms","setRooms","name","occupancy","handleAdd","e","preventDefault","handleRemove","index","values","splice","handleOccupancyChange","value","parseInt","handleNameChange","dispatch","selectedFacility","createRoomsLoading","s","quarantineFacility","handleCreateRooms","id","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","map","r","i","_rooms$i$name","_rooms$i","_rooms$i$occupancy","_rooms$i2","key","Field","control","width","required","label","onChange","_ref","type","_ref2","basic","color","icon","title","onClick","Fragment","content","primary","loading","disabled","filter","length","propTypes","bool","isRequired","func"],"sources":["H:/BAKCO/pj/data reconciliation/src/quarantine-facilities/components/quarantine-in-facility/CreateRoomModal.js"],"sourcesContent":["/* eslint-disable react/no-array-index-key */\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Form, Input, Modal,\n} from 'semantic-ui-react';\nimport { FiX } from 'react-icons/fi';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createRooms } from 'quarantine-facilities/actions/quarantine-facility';\n\nconst StyledFormGroup = styled(Form.Group)`\n  margin-bottom: 0 !important;\n`;\nconst CreateRoomModal = (props) => {\n  const { open, onClose, onSubmit } = props;\n  const [rooms, setRooms] = useState([{ name: '', occupancy: '' }]);\n  const handleAdd = (e) => {\n    e.preventDefault();\n    setRooms([...rooms, { name: '', occupancy: '' }]);\n  };\n  const handleRemove = (e, index) => {\n    e.preventDefault();\n    const values = [...rooms];\n    values.splice(index, 1);\n    setRooms(values);\n  };\n  const handleOccupancyChange = (index, value) => {\n    const values = [...rooms];\n    values[index].occupancy = parseInt(value, 10);\n    setRooms(values);\n  };\n  const handleNameChange = (index, value) => {\n    const values = [...rooms];\n    values[index].name = value;\n    setRooms(values);\n  };\n\n  const dispatch = useDispatch();\n  const { selectedFacility, createRoomsLoading } = useSelector(\n    (s) => s.quarantineFacility,\n  );\n  const handleCreateRooms = async () => {\n    if (selectedFacility) {\n      await dispatch(createRooms(selectedFacility.id, rooms));\n      onClose();\n      onSubmit();\n    }\n  };\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Tạo phòng</Modal.Header>\n      <Modal.Content>\n        <Form onSubmit={handleCreateRooms}>\n          {rooms.map((r, i) => (\n            <StyledFormGroup key={i}>\n              <Form.Field\n                control={Input}\n                width=\"8\"\n                required\n                label=\"Tên phòng\"\n                value={rooms[i]?.name ?? ''}\n                onChange={(e, { value }) => handleNameChange(i, value)}\n              />\n              <Form.Field\n                width=\"7\"\n                required\n                type=\"number\"\n                name=\"occupancy\"\n                label=\"Số giường\"\n                control={Input}\n                value={rooms[i]?.occupancy ?? ''}\n                onChange={(e, { value }) => handleOccupancyChange(i, value)}\n              />\n              <Form.Group>\n                <Form.Button\n                  label=\"Xoá\"\n                  basic\n                  color=\"red\"\n                  icon={<FiX />}\n                  title=\"Xoá\"\n                  onClick={(e) => handleRemove(e, i)}\n                />\n              </Form.Group>\n            </StyledFormGroup>\n          ))}\n          <>\n            <Button\n              color=\"green\"\n              content=\"Thêm phòng\"\n              onClick={(e) => handleAdd(e)}\n            />\n            <Button\n              primary\n              content=\"Xác nhận\"\n              loading={createRoomsLoading}\n              disabled={\n                rooms.filter((r) => !r.name || !r.occupancy).length !== 0\n                || createRoomsLoading\n              }\n            />\n          </>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nCreateRoomModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default CreateRoomModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}