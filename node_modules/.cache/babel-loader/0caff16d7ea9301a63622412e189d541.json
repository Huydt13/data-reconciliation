{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\quarantine\\\\components\\\\quarantine-request\\\\CreateQuarantineRequestModal.js\";\nimport React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { Button, Form, Modal, Tab } from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getFacilities } from 'quarantine/actions/facility';\nimport GeneralInformationSection from 'infection-chain/components/subject/information/form-sections/GeneralInformationSection';\nconst fields = ['requester', 'facilityRequest', 'homeRequest', 'additionalInformation'];\nconst StyledButton = styled(Button)`\n  margin-top: 16px !important;\n`;\nconst CreateQuarantineRequestModal = props => {\n  var _watch, _watch2, _watch3, _watch4;\n  const {\n    open,\n    onClose,\n    onSubmit\n  } = props;\n  const {\n    register,\n    watch,\n    setValue,\n    handleSubmit\n  } = useForm();\n  const [isPartTime, setIsPartTime] = useState(true);\n  const disabled = !((_watch = watch('requester')) === null || _watch === void 0 ? void 0 : _watch.fullName) || !((_watch2 = watch('requester')) === null || _watch2 === void 0 ? void 0 : _watch2.dateOfBirth) || !((_watch3 = watch('facilityRequest')) === null || _watch3 === void 0 ? void 0 : _watch3.facilityId) || isPartTime && !((_watch4 = watch('homeRequest')) === null || _watch4 === void 0 ? void 0 : _watch4.homeAddress);\n  const panes = useMemo(() => [{\n    menuItem: 'Cách ly 7/7 ngày',\n    render: () => /*#__PURE__*/React.createElement(Tab.Pane, {\n      attached: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      paddingButton: true,\n      isCreateNewSubject: true,\n      isPartTimeQuarantine: true,\n      control: GeneralInformationSection,\n      onChange: d => {\n        setIsPartTime(true);\n        const {\n          homeAddress,\n          facilityId,\n          additionalInformation\n        } = d;\n        setValue('requester', {\n          ...d,\n          type: undefined,\n          religion: undefined,\n          workAddresses: undefined,\n          addressesInVietnam: undefined,\n          facilityId: undefined,\n          homeAddress: undefined,\n          additionalInformation: undefined\n        });\n        setValue('homeRequest', {\n          homeAddress\n        });\n        setValue('facilityRequest', {\n          facilityId\n        });\n        setValue('additionalInformation', additionalInformation);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }))\n  }, {\n    menuItem: 'Cách ly 14 ngày',\n    render: () => /*#__PURE__*/React.createElement(Tab.Pane, {\n      attached: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      paddingButton: true,\n      isCreateNewSubject: true,\n      isFullTimeQuarantine: true,\n      control: GeneralInformationSection,\n      onChange: d => {\n        setIsPartTime(false);\n        const {\n          facilityId,\n          additionalInformation\n        } = d;\n        setValue('requester', {\n          ...d,\n          type: undefined,\n          religion: undefined,\n          workAddresses: undefined,\n          addressesInVietnam: undefined,\n          facilityId: undefined,\n          homeAddress: undefined\n        });\n        setValue('homeRequest', undefined);\n        setValue('facilityRequest', {\n          facilityId\n        });\n        setValue('additionalInformation', additionalInformation);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }\n    }))\n  }], [setValue]);\n  useEffect(() => {\n    fields.forEach(register);\n  }, [register]);\n  const {\n    createQuarantineRequestLoading\n  } = useSelector(s => s.quarantineRequest);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getFacilities({\n      pageIndex: 0,\n      pageSize: 10000\n    }));\n  }, [dispatch]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, \"\\u0110\\u0103ng k\\xFD c\\xE1ch ly\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `ui form ${createQuarantineRequestLoading ? 'loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    menu: {\n      pointing: true\n    },\n    panes: panes,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(StyledButton, {\n    primary: true,\n    content: \"\\u0110\\u0103ng k\\xFD\",\n    disabled: disabled,\n    onClick: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 11\n    }\n  }))));\n};\nCreateQuarantineRequestModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\nexport default CreateQuarantineRequestModal;","map":{"version":3,"names":["React","useEffect","useMemo","useState","styled","PropTypes","Button","Form","Modal","Tab","useForm","useDispatch","useSelector","getFacilities","GeneralInformationSection","fields","StyledButton","CreateQuarantineRequestModal","props","_watch","_watch2","_watch3","_watch4","open","onClose","onSubmit","register","watch","setValue","handleSubmit","isPartTime","setIsPartTime","disabled","fullName","dateOfBirth","facilityId","homeAddress","panes","menuItem","render","createElement","Pane","attached","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Field","paddingButton","isCreateNewSubject","isPartTimeQuarantine","control","onChange","d","additionalInformation","type","undefined","religion","workAddresses","addressesInVietnam","isFullTimeQuarantine","forEach","createQuarantineRequestLoading","s","quarantineRequest","dispatch","pageIndex","pageSize","Header","Content","className","menu","pointing","primary","content","onClick","propTypes","bool","isRequired","func"],"sources":["H:/BAKCO/pj/data reconciliation/src/quarantine/components/quarantine-request/CreateQuarantineRequestModal.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {\n  Button, Form, Modal, Tab,\n} from 'semantic-ui-react';\n\nimport { useForm } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getFacilities } from 'quarantine/actions/facility';\n\nimport GeneralInformationSection from 'infection-chain/components/subject/information/form-sections/GeneralInformationSection';\n\nconst fields = ['requester', 'facilityRequest', 'homeRequest', 'additionalInformation'];\n\nconst StyledButton = styled(Button)`\n  margin-top: 16px !important;\n`;\n\nconst CreateQuarantineRequestModal = (props) => {\n  const { open, onClose, onSubmit } = props;\n  const {\n    register, watch, setValue, handleSubmit,\n  } = useForm();\n  const [isPartTime, setIsPartTime] = useState(true);\n  const disabled = !watch('requester')?.fullName\n    || !watch('requester')?.dateOfBirth\n    || !watch('facilityRequest')?.facilityId\n    || (isPartTime && !watch('homeRequest')?.homeAddress);\n  const panes = useMemo(\n    () => [\n      {\n        menuItem: 'Cách ly 7/7 ngày',\n        render: () => (\n          <Tab.Pane attached={false}>\n            <Form.Field\n              paddingButton\n              isCreateNewSubject\n              isPartTimeQuarantine\n              control={GeneralInformationSection}\n              onChange={(d) => {\n                setIsPartTime(true);\n                const { homeAddress, facilityId, additionalInformation } = d;\n                setValue('requester', {\n                  ...d,\n                  type: undefined,\n                  religion: undefined,\n                  workAddresses: undefined,\n                  addressesInVietnam: undefined,\n                  facilityId: undefined,\n                  homeAddress: undefined,\n                  additionalInformation: undefined,\n                });\n                setValue('homeRequest', { homeAddress });\n                setValue('facilityRequest', { facilityId });\n                setValue('additionalInformation', additionalInformation);\n              }}\n            />\n          </Tab.Pane>\n        ),\n      },\n      {\n        menuItem: 'Cách ly 14 ngày',\n        render: () => (\n          <Tab.Pane attached={false}>\n            <Form.Field\n              paddingButton\n              isCreateNewSubject\n              isFullTimeQuarantine\n              control={GeneralInformationSection}\n              onChange={(d) => {\n                setIsPartTime(false);\n                const { facilityId, additionalInformation } = d;\n                setValue('requester', {\n                  ...d,\n                  type: undefined,\n                  religion: undefined,\n                  workAddresses: undefined,\n                  addressesInVietnam: undefined,\n                  facilityId: undefined,\n                  homeAddress: undefined,\n                });\n                setValue('homeRequest', undefined);\n                setValue('facilityRequest', { facilityId });\n                setValue('additionalInformation', additionalInformation);\n              }}\n            />\n          </Tab.Pane>\n        ),\n      },\n    ],\n    [setValue],\n  );\n  useEffect(() => {\n    fields.forEach(register);\n  }, [register]);\n  const { createQuarantineRequestLoading } = useSelector(\n    (s) => s.quarantineRequest,\n  );\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getFacilities({ pageIndex: 0, pageSize: 10000 }));\n  }, [dispatch]);\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Đăng ký cách ly</Modal.Header>\n      <Modal.Content>\n        <div\n          className={`ui form ${createQuarantineRequestLoading ? 'loading' : ''}`}\n        >\n          <Tab menu={{ pointing: true }} panes={panes} />\n          <StyledButton\n            primary\n            content=\"Đăng ký\"\n            disabled={disabled}\n            onClick={handleSubmit(onSubmit)}\n          />\n        </div>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nCreateQuarantineRequestModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default CreateQuarantineRequestModal;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,SAAS,MAAM,YAAY;AAClC,SACEC,MAAM,EAAEC,IAAI,EAAEC,KAAK,EAAEC,GAAG,QACnB,mBAAmB;AAE1B,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,aAAa,QAAQ,6BAA6B;AAE3D,OAAOC,yBAAyB,MAAM,wFAAwF;AAE9H,MAAMC,MAAM,GAAG,CAAC,WAAW,EAAE,iBAAiB,EAAE,aAAa,EAAE,uBAAuB,CAAC;AAEvF,MAAMC,YAAY,GAAGZ,MAAM,CAACE,MAAM,CAAE;AACpC;AACA,CAAC;AAED,MAAMW,4BAA4B,GAAIC,KAAK,IAAK;EAAA,IAAAC,MAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,OAAA;EAC9C,MAAM;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAS,CAAC,GAAGP,KAAK;EACzC,MAAM;IACJQ,QAAQ;IAAEC,KAAK;IAAEC,QAAQ;IAAEC;EAC7B,CAAC,GAAGnB,OAAO,EAAE;EACb,MAAM,CAACoB,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM6B,QAAQ,GAAG,GAAAb,MAAA,GAACQ,KAAK,CAAC,WAAW,CAAC,cAAAR,MAAA,uBAAlBA,MAAA,CAAoBc,QAAQ,KACzC,GAAAb,OAAA,GAACO,KAAK,CAAC,WAAW,CAAC,cAAAP,OAAA,uBAAlBA,OAAA,CAAoBc,WAAW,KAChC,GAAAb,OAAA,GAACM,KAAK,CAAC,iBAAiB,CAAC,cAAAN,OAAA,uBAAxBA,OAAA,CAA0Bc,UAAU,KACpCL,UAAU,IAAI,GAAAR,OAAA,GAACK,KAAK,CAAC,aAAa,CAAC,cAAAL,OAAA,uBAApBA,OAAA,CAAsBc,WAAW,CAAC;EACvD,MAAMC,KAAK,GAAGnC,OAAO,CACnB,MAAM,CACJ;IACEoC,QAAQ,EAAE,kBAAkB;IAC5BC,MAAM,EAAEA,CAAA,kBACNvC,KAAA,CAAAwC,aAAA,CAAC/B,GAAG,CAACgC,IAAI;MAACC,QAAQ,EAAE,KAAM;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxBhD,KAAA,CAAAwC,aAAA,CAACjC,IAAI,CAAC0C,KAAK;MACTC,aAAa;MACbC,kBAAkB;MAClBC,oBAAoB;MACpBC,OAAO,EAAEvC,yBAA0B;MACnCwC,QAAQ,EAAGC,CAAC,IAAK;QACfxB,aAAa,CAAC,IAAI,CAAC;QACnB,MAAM;UAAEK,WAAW;UAAED,UAAU;UAAEqB;QAAsB,CAAC,GAAGD,CAAC;QAC5D3B,QAAQ,CAAC,WAAW,EAAE;UACpB,GAAG2B,CAAC;UACJE,IAAI,EAAEC,SAAS;UACfC,QAAQ,EAAED,SAAS;UACnBE,aAAa,EAAEF,SAAS;UACxBG,kBAAkB,EAAEH,SAAS;UAC7BvB,UAAU,EAAEuB,SAAS;UACrBtB,WAAW,EAAEsB,SAAS;UACtBF,qBAAqB,EAAEE;QACzB,CAAC,CAAC;QACF9B,QAAQ,CAAC,aAAa,EAAE;UAAEQ;QAAY,CAAC,CAAC;QACxCR,QAAQ,CAAC,iBAAiB,EAAE;UAAEO;QAAW,CAAC,CAAC;QAC3CP,QAAQ,CAAC,uBAAuB,EAAE4B,qBAAqB,CAAC;MAC1D,CAAE;MAAAb,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EACF;EAGR,CAAC,EACD;IACEV,QAAQ,EAAE,iBAAiB;IAC3BC,MAAM,EAAEA,CAAA,kBACNvC,KAAA,CAAAwC,aAAA,CAAC/B,GAAG,CAACgC,IAAI;MAACC,QAAQ,EAAE,KAAM;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxBhD,KAAA,CAAAwC,aAAA,CAACjC,IAAI,CAAC0C,KAAK;MACTC,aAAa;MACbC,kBAAkB;MAClBW,oBAAoB;MACpBT,OAAO,EAAEvC,yBAA0B;MACnCwC,QAAQ,EAAGC,CAAC,IAAK;QACfxB,aAAa,CAAC,KAAK,CAAC;QACpB,MAAM;UAAEI,UAAU;UAAEqB;QAAsB,CAAC,GAAGD,CAAC;QAC/C3B,QAAQ,CAAC,WAAW,EAAE;UACpB,GAAG2B,CAAC;UACJE,IAAI,EAAEC,SAAS;UACfC,QAAQ,EAAED,SAAS;UACnBE,aAAa,EAAEF,SAAS;UACxBG,kBAAkB,EAAEH,SAAS;UAC7BvB,UAAU,EAAEuB,SAAS;UACrBtB,WAAW,EAAEsB;QACf,CAAC,CAAC;QACF9B,QAAQ,CAAC,aAAa,EAAE8B,SAAS,CAAC;QAClC9B,QAAQ,CAAC,iBAAiB,EAAE;UAAEO;QAAW,CAAC,CAAC;QAC3CP,QAAQ,CAAC,uBAAuB,EAAE4B,qBAAqB,CAAC;MAC1D,CAAE;MAAAb,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,EACF;EAGR,CAAC,CACF,EACD,CAACpB,QAAQ,CAAC,CACX;EACD3B,SAAS,CAAC,MAAM;IACdc,MAAM,CAACgD,OAAO,CAACrC,QAAQ,CAAC;EAC1B,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EACd,MAAM;IAAEsC;EAA+B,CAAC,GAAGpD,WAAW,CACnDqD,CAAC,IAAKA,CAAC,CAACC,iBAAiB,CAC3B;EACD,MAAMC,QAAQ,GAAGxD,WAAW,EAAE;EAC9BV,SAAS,CAAC,MAAM;IACdkE,QAAQ,CAACtD,aAAa,CAAC;MAAEuD,SAAS,EAAE,CAAC;MAAEC,QAAQ,EAAE;IAAM,CAAC,CAAC,CAAC;EAC5D,CAAC,EAAE,CAACF,QAAQ,CAAC,CAAC;EAEd,oBACEnE,KAAA,CAAAwC,aAAA,CAAChC,KAAK;IAACe,IAAI,EAAEA,IAAK;IAACC,OAAO,EAAEA,OAAQ;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClChD,KAAA,CAAAwC,aAAA,CAAChC,KAAK,CAAC8D,MAAM;IAAA3B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,iCAAe,CAAe,eAC5ChD,KAAA,CAAAwC,aAAA,CAAChC,KAAK,CAAC+D,OAAO;IAAA5B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACZhD,KAAA,CAAAwC,aAAA;IACEgC,SAAS,EAAG,WAAUR,8BAA8B,GAAG,SAAS,GAAG,EAAG,EAAE;IAAArB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAExEhD,KAAA,CAAAwC,aAAA,CAAC/B,GAAG;IAACgE,IAAI,EAAE;MAAEC,QAAQ,EAAE;IAAK,CAAE;IAACrC,KAAK,EAAEA,KAAM;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,eAC/ChD,KAAA,CAAAwC,aAAA,CAACxB,YAAY;IACX2D,OAAO;IACPC,OAAO,EAAC,sBAAS;IACjB5C,QAAQ,EAAEA,QAAS;IACnB6C,OAAO,EAAEhD,YAAY,CAACJ,QAAQ,CAAE;IAAAkB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAChC,CACE,CACQ,CACV;AAEZ,CAAC;AAED/B,4BAA4B,CAAC6D,SAAS,GAAG;EACvCvD,IAAI,EAAElB,SAAS,CAAC0E,IAAI,CAACC,UAAU;EAC/BxD,OAAO,EAAEnB,SAAS,CAAC4E,IAAI,CAACD,UAAU;EAClCvD,QAAQ,EAAEpB,SAAS,CAAC4E,IAAI,CAACD;AAC3B,CAAC;AAED,eAAe/D,4BAA4B"},"metadata":{},"sourceType":"module"}