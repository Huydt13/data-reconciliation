{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\quarantine\\\\components\\\\waiting\\\\CreateSubjectToQuarantineModal.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Form, Header } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { KeyboardDatePicker } from 'app/components/shared';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showConfirmModal } from 'app/actions/global';\nimport SubjectForm from 'infection-chain/components/subject/information/SubjectForm';\nconst CreateSubjectToQuarantineModal = props => {\n  const {\n    open,\n    onClose,\n    onSubmit\n  } = props;\n  const dispatch = useDispatch();\n  const {\n    createSubjectLoading,\n    processSubjectLoading\n  } = useSelector(state => state.subject);\n  const loading = createSubjectLoading || processSubjectLoading;\n  const [startTime, setStartTime] = useState(null);\n  const [endTime, setEndTime] = useState(null);\n  const [expectedTime, setExpectedTime] = useState(null);\n  useEffect(() => {\n    if (expectedTime && moment(expectedTime).isValid) {\n      setEndTime(expectedTime);\n    } else if (startTime && moment(startTime).isValid) {\n      setEndTime(moment(startTime).add(14, 'days').format());\n    }\n  }, [startTime, expectedTime]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: () => dispatch(showConfirmModal('Dữ liệu chưa được lưu, bạn có muốn đóng?', onClose)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    content: \"Th\\xEAm \\u0111\\u1ED1i t\\u01B0\\u1EE3ng v\\xE0o danh s\\xE1ch ch\\u1EDD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `ui form ${loading ? 'loading' : ''}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    as: \"h4\",\n    content: \"Th\\xF4ng tin c\\xE1ch ly\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    control: KeyboardDatePicker,\n    label: \"Ng\\xE0y b\\u1EAFt \\u0111\\u1EA7u\",\n    value: startTime || '',\n    onChange: d => {\n      setStartTime(moment(d, 'YYYY-MM-DD').format());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    required: true,\n    control: KeyboardDatePicker,\n    readOnly: true,\n    label: \"D\\u1EF1 ki\\u1EBFn ng\\xE0y k\\u1EBFt th\\xFAc\",\n    value: moment(endTime).isValid ? endTime : null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    control: KeyboardDatePicker,\n    label: \"Ng\\xE0y ch\\xEDnh th\\u1EE9c k\\u1EBFt th\\xFAc\",\n    value: expectedTime || '',\n    onChange: d => {\n      setExpectedTime(moment(d, 'YYYY-MM-DD').format());\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Header, {\n    as: \"h4\",\n    content: \"Th\\xF4ng tin \\u0111\\u1ED1i t\\u01B0\\u1EE3ng\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(SubjectForm, {\n    paddingButton: true,\n    onSubmit: d => {\n      onSubmit({\n        data: d,\n        startTime,\n        endTime\n      });\n    },\n    loading: createSubjectLoading || loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  })));\n};\nCreateSubjectToQuarantineModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func\n};\nCreateSubjectToQuarantineModal.defaultProps = {\n  onSubmit: () => {}\n};\nexport default CreateSubjectToQuarantineModal;","map":{"version":3,"names":["React","useState","useEffect","PropTypes","Modal","Form","Header","moment","KeyboardDatePicker","useDispatch","useSelector","showConfirmModal","SubjectForm","CreateSubjectToQuarantineModal","props","open","onClose","onSubmit","dispatch","createSubjectLoading","processSubjectLoading","state","subject","loading","startTime","setStartTime","endTime","setEndTime","expectedTime","setExpectedTime","isValid","add","format","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","content","Content","className","as","Group","widths","Field","required","control","label","value","onChange","d","readOnly","paddingButton","data","propTypes","bool","isRequired","func","defaultProps"],"sources":["H:/BAKCO/pj/data reconciliation/src/quarantine/components/waiting/CreateSubjectToQuarantineModal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Modal,\n  Form,\n  Header,\n} from 'semantic-ui-react';\nimport moment from 'moment';\nimport { KeyboardDatePicker } from 'app/components/shared';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showConfirmModal } from 'app/actions/global';\nimport SubjectForm from 'infection-chain/components/subject/information/SubjectForm';\n\nconst CreateSubjectToQuarantineModal = (props) => {\n  const { open, onClose, onSubmit } = props;\n  const dispatch = useDispatch();\n  const { createSubjectLoading, processSubjectLoading } = useSelector((state) => state.subject);\n  const loading = createSubjectLoading || processSubjectLoading;\n\n  const [startTime, setStartTime] = useState(null);\n  const [endTime, setEndTime] = useState(null);\n  const [expectedTime, setExpectedTime] = useState(null);\n\n  useEffect(() => {\n    if (expectedTime && moment(expectedTime).isValid) {\n      setEndTime(expectedTime);\n    } else if (startTime && moment(startTime).isValid) {\n      setEndTime(moment(startTime).add(14, 'days').format());\n    }\n  }, [startTime, expectedTime]);\n\n  return (\n    <>\n      <Modal\n        open={open}\n        onClose={() => dispatch(showConfirmModal('Dữ liệu chưa được lưu, bạn có muốn đóng?', onClose))}\n      >\n        <Modal.Header content=\"Thêm đối tượng vào danh sách chờ\" />\n        <Modal.Content>\n          <div className={`ui form ${loading ? 'loading' : ''}`}>\n            <Header as=\"h4\" content=\"Thông tin cách ly\" />\n            <Form.Group widths=\"equal\">\n              <Form.Field\n                required\n                control={KeyboardDatePicker}\n                label=\"Ngày bắt đầu\"\n                value={startTime || ''}\n                onChange={(d) => {\n                  setStartTime(moment(d, 'YYYY-MM-DD').format());\n                }}\n              />\n              <Form.Field\n                required\n                control={KeyboardDatePicker}\n                readOnly\n                label=\"Dự kiến ngày kết thúc\"\n                value={moment(endTime).isValid ? endTime : null}\n              />\n              <Form.Field\n                control={KeyboardDatePicker}\n                label=\"Ngày chính thức kết thúc\"\n                value={expectedTime || ''}\n                onChange={(d) => {\n                  setExpectedTime(moment(d, 'YYYY-MM-DD').format());\n                }}\n              />\n            </Form.Group>\n            <Header as=\"h4\" content=\"Thông tin đối tượng\" />\n          </div>\n        </Modal.Content>\n        <SubjectForm\n          paddingButton\n          onSubmit={(d) => {\n            onSubmit({ data: d, startTime, endTime });\n          }}\n          loading={createSubjectLoading || loading}\n        />\n      </Modal>\n    </>\n  );\n};\n\nCreateSubjectToQuarantineModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func,\n};\n\nCreateSubjectToQuarantineModal.defaultProps = {\n  onSubmit: () => {},\n};\n\nexport default CreateSubjectToQuarantineModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}