{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\chain\\\\components\\\\SubjectSection.js\";\n/* eslint-disable react/prop-types */\n/* eslint-disable no-nested-ternary */\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Controller, useFormContext } from 'react-hook-form';\nimport styled from 'styled-components';\nimport { v4 as uuidv4 } from 'uuid';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Accordion, Form, Icon, Dimmer, Loader } from 'semantic-ui-react';\nimport AddressDetails from 'infection-chain/components/subject/information/form-sections/AddressDetails';\nimport ImmunizationSection from 'chain/components/ImmunizationSection';\nimport { getProfilesWithouDispatch } from 'profile/actions/profile';\nimport { IMMUNIZATION_STATUSES } from 'profile/utils/constants';\nimport nations from 'app/assets/mock/nations.json';\nimport { KeyboardDatePicker } from 'app/components/shared';\nconst genderOptions = [{\n  text: 'Nam',\n  value: 1\n}, {\n  text: 'Nữ',\n  value: 0\n}, {\n  text: 'Khác',\n  value: 2\n}];\nconst religionOptions = [{\n  key: 'Không',\n  text: 'Không',\n  value: 'Không'\n}, {\n  key: 'Phật giáo',\n  text: 'Phật giáo',\n  value: 'Phật giáo'\n}, {\n  key: 'Công giáo',\n  text: 'Công giáo',\n  value: 'Công giáo'\n}, {\n  key: 'Cao Đài',\n  text: 'Cao Đài',\n  value: 'Cao Đài'\n}, {\n  key: 'Hòa Hảo',\n  text: 'Hòa Hảo',\n  value: 'Hòa Hảo'\n}, {\n  key: 'Tin Lành',\n  text: 'Tin Lành',\n  value: 'Tin Lành'\n}, {\n  key: 'Hồi giáo',\n  text: 'Hồi giáo',\n  value: 'Hồi giáo'\n}, {\n  key: 'Ấn Độ giáo',\n  text: 'Ấn Độ giáo',\n  value: 'Ấn Độ giáo'\n}];\nconst nationOptions = nations.map(n => ({\n  key: n.countryCode,\n  text: n.name,\n  value: n.countryCode,\n  flag: n.countryCode\n}));\nconst Wrapper = styled.div`\n  position: relative;\n`;\nconst YearLabel = styled.span`\n  cursor: ${_ref => {\n  let {\n    year\n  } = _ref;\n  return year === 0 ? 'pointer' : '';\n}};\n  font-weight: ${_ref2 => {\n  let {\n    year\n  } = _ref2;\n  return year === 1 ? 'bold' : '';\n}};\n`;\nconst DateLabel = styled.span`\n  cursor: ${_ref3 => {\n  let {\n    year\n  } = _ref3;\n  return year === 1 ? 'pointer' : '';\n}};\n  font-weight: ${_ref4 => {\n  let {\n    year\n  } = _ref4;\n  return year === 0 ? 'bold' : '';\n}};\n`;\nconst SubjectSection = props => {\n  var _errors$dateOfBirth, _errors$phoneNumber;\n  const {\n    showAdditional,\n    fillExistProfile,\n    initialSubject,\n    onChange: onChangeProp\n  } = props;\n  const [loading, setLoading] = useState(false);\n  const [readOnly, setReadOnly] = useState(false);\n  const [timeOut, setTimeOut] = useState(null);\n\n  // For get exist profile\n  const [fillData, setFillData] = useState(undefined);\n  const [fullName, setFullName] = useState(undefined);\n  const [phoneNumber, setPhoneNumber] = useState(undefined);\n  const {\n    watch,\n    control,\n    reset,\n    getValues,\n    setValue,\n    formState: {\n      errors\n    }\n  } = useFormContext();\n  const hasNoKey = !(watch('cccd') || watch('cmnd') || watch('passportNumber') || watch('healthInsuranceNumber'));\n  const cccdError = watch('cccd') && watch('cccd').length < 12;\n  const cmndError = watch('cmnd') && watch('cmnd').length < 9;\n  const passportError = watch('passportNumber') && watch('passportNumber').length < 6;\n  const insuranceError = watch('healthInsuranceNumber') && watch('healthInsuranceNumber').length < 15;\n  const ruleOptions = {\n    required: {\n      required: true\n    },\n    dateOfBirth: {\n      required: true,\n      min: moment().subtract(120, 'years').format('YYYY'),\n      max: moment().format('YYYY-MM-DD')\n    },\n    phoneNumber: {\n      required: true,\n      pattern: /((09|03|07|08|05)+([0-9]{8})\\b)/g\n    },\n    cccd: {\n      validate: () => !hasNoKey && !cccdError\n    },\n    cmnd: {\n      validate: () => !hasNoKey && !cmndError\n    },\n    passport: {\n      validate: () => !hasNoKey && !passportError\n    },\n    insurance: {\n      validate: () => !hasNoKey && !insuranceError\n    },\n    addressInVietnam: {\n      validate: () => {\n        var _getValues$, _getValues$2, _getValues$3, _getValues$4, _getValues$5, _getValues$6;\n        let error = '';\n        if (!((_getValues$ = getValues('addressesInVietnam')[0]) === null || _getValues$ === void 0 ? void 0 : _getValues$.provinceValue)) {\n          error += 'provinceValue/';\n        }\n        if (!((_getValues$2 = getValues('addressesInVietnam')[0]) === null || _getValues$2 === void 0 ? void 0 : _getValues$2.districtValue)) {\n          error += 'districtValue/';\n        }\n        if (!((_getValues$3 = getValues('addressesInVietnam')[0]) === null || _getValues$3 === void 0 ? void 0 : _getValues$3.wardValue)) {\n          error += 'wardValue/';\n        }\n        if (!((_getValues$4 = getValues('addressesInVietnam')[0]) === null || _getValues$4 === void 0 ? void 0 : _getValues$4.streetHouseNumber)) {\n          error += 'streetHouseNumber';\n        }\n        if (!((_getValues$5 = getValues('addressesInVietnam')[0]) === null || _getValues$5 === void 0 ? void 0 : _getValues$5.quarter)) {\n          error += 'quarter';\n        }\n        if (!((_getValues$6 = getValues('addressesInVietnam')[0]) === null || _getValues$6 === void 0 ? void 0 : _getValues$6.quarterGroup)) {\n          error += 'quarterGroup';\n        }\n        return error || true;\n      }\n    },\n    immunizations: {\n      validate: () => {\n        var _getValues$7, _getValues$8;\n        const error = {};\n        const immunizationStatus = (_getValues$7 = getValues('immunizations')[0]) === null || _getValues$7 === void 0 ? void 0 : _getValues$7.immunizationStatus;\n        const injectionDate = (_getValues$8 = getValues('immunizations')[0]) === null || _getValues$8 === void 0 ? void 0 : _getValues$8.injectionDate;\n        if (typeof immunizationStatus === 'undefined') {\n          error.immunizationStatus = 'Bắt buộc';\n        }\n        if (immunizationStatus !== IMMUNIZATION_STATUSES.NO_RECORD && immunizationStatus !== IMMUNIZATION_STATUSES.NO_VACCINE) {\n          // if (!getValues('immunizations')[0]?.vaccine) {\n          //   error += 'vaccine';\n          // }\n          if (injectionDate) {\n            if (fillData && (fillData === null || fillData === void 0 ? void 0 : fillData.immunizations) && fillData.immunizations.length > 0) {\n              const immunizationLatest = fillData.immunizations.reduce((o, i) => new Date(i.dateCreated) > new Date(o.dateCreated) ? i : o, fillData.immunizations[0]);\n              if (moment(injectionDate) < moment(immunizationLatest.injectionDate)) {\n                error.injectionDate = 'Ngày tiêm gần nhất phải lớn hơn hoặc bằng ngày ghi nhận trên hệ thống';\n              }\n            }\n          } else {\n            error.injectionDate = 'Bắt buộc';\n          }\n        }\n        return Object.keys(error).length === 0 || JSON.stringify(error);\n      }\n    }\n  };\n  const errorOptions = {\n    required: {\n      content: 'Bắt buộc'\n    },\n    dateOfBirth: {\n      content: ((_errors$dateOfBirth = errors.dateOfBirth) === null || _errors$dateOfBirth === void 0 ? void 0 : _errors$dateOfBirth.type) === 'required' ? 'Bắt buộc' : `Năm sinh từ ${moment().subtract(120, 'years').format('YYYY')} - ${moment().format('YYYY')}`\n    },\n    phoneNumber: {\n      content: ((_errors$phoneNumber = errors.phoneNumber) === null || _errors$phoneNumber === void 0 ? void 0 : _errors$phoneNumber.type) === 'required' ? 'Bắt buộc' : 'Chưa đúng định dạng hoặc không có thực'\n    },\n    cccd: !readOnly && cccdError && errors.cccd ? 'Tối thiểu 12 ký tự' : errors.cccd && hasNoKey ? 'Chưa có thông tin xác thực' : false,\n    cmnd: !readOnly && cmndError && errors.cmnd ? 'Tối thiểu 9 ký tự' : errors.cmnd && hasNoKey ? 'Chưa có thông tin xác thực' : false,\n    passport: !readOnly && passportError && errors.passport ? 'Tối thiểu 12 ký tự' : errors.passportNumber && hasNoKey ? 'Chưa có thông tin xác thực' : false,\n    insurance: !readOnly && insuranceError && errors.insurance ? 'Tối thiểu 9 ký tự' : errors.healthInsuranceNumber && hasNoKey ? 'Chưa có thông tin xác thực' : false\n  };\n  const resetWithoutFields = function () {\n    let fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    const presentFields = getValues();\n    Object.keys(presentFields).forEach(key => {\n      if (!fields.includes(key)) {\n        setValue(key, SubjectSection.defaultProps.initialSubject[key]);\n      }\n    });\n  };\n  const onChangeWithoutDelay = (callback, time) => {\n    if (timeOut) {\n      clearTimeout(timeOut);\n    }\n    setTimeOut(setTimeout(callback, time));\n  };\n  const triggerOnChange = useCallback(() => {\n    if (onChangeProp) {\n      const s = getValues();\n      onChangeProp({\n        ...s,\n        fullName: s.fullName.toUpperCase(),\n        dateOfBirth: s.dateOfBirth ? s.dateOfBirth.includes('-') ? s.dateOfBirth : `${s.dateOfBirth}-01-01` : ''\n      });\n    }\n  }, [getValues, onChangeProp]);\n  const getExistProfile = useCallback((name, phone) => {\n    setLoading(true);\n    getProfilesWithouDispatch({\n      name,\n      phoneNumber: phone,\n      isSensitiveCase: true\n    }).then(res => {\n      const {\n        data\n      } = res;\n      if (data && data.length > 0) {\n        var _data$, _data$2, _data$3, _data$4, _data$5, _data$6, _data$7, _data$8, _data$9;\n        const profile = {\n          ...data[0],\n          dateOfBirth: ((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.dateOfBirth) ? ((_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.hasYearOfBirthOnly) ? moment((_data$3 = data[0]) === null || _data$3 === void 0 ? void 0 : _data$3.dateOfBirth).format('YYYY') : moment(data[0].dateOfBirth).format('YYYY-MM-DD') : '',\n          addressesInVietnam: ((_data$4 = data[0]) === null || _data$4 === void 0 ? void 0 : _data$4.addressesInVietnam) ? (_data$5 = data[0]) === null || _data$5 === void 0 ? void 0 : _data$5.addressesInVietnam : [],\n          workAddresses: ((_data$6 = data[0]) === null || _data$6 === void 0 ? void 0 : _data$6.workAddresses) ? (_data$7 = data[0]) === null || _data$7 === void 0 ? void 0 : _data$7.workAddresses : [],\n          immunizations: ((_data$8 = data[0]) === null || _data$8 === void 0 ? void 0 : _data$8.immunizations) ? (_data$9 = data[0]) === null || _data$9 === void 0 ? void 0 : _data$9.immunizations : []\n        };\n        setFillData(profile);\n        reset({\n          ...profile,\n          immunizations: []\n        });\n      } else {\n        setFillData(undefined);\n        resetWithoutFields(['fullName', 'phoneNumber']);\n      }\n      setLoading(false);\n    });\n    // eslint-disable-next-line\n  }, [reset, setFillData]);\n  useEffect(() => {\n    if (fillExistProfile && fullName && phoneNumber && phoneNumber.length > 9 && phoneNumber.length < 12) {\n      getExistProfile(fullName, phoneNumber);\n    }\n  }, [getExistProfile, fillExistProfile, fullName, phoneNumber]);\n  useEffect(() => {\n    if (initialSubject) {\n      setReadOnly(Boolean(initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.id));\n      reset({\n        ...initialSubject,\n        dateOfBirth: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.dateOfBirth) ? (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.hasYearOfBirthOnly) ? moment(initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.dateOfBirth).format('YYYY') : new Date(initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.dateOfBirth) : '',\n        addressesInVietnam: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.addressesInVietnam) ? initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.addressesInVietnam : [],\n        workAddresses: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.workAddresses) ? initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.workAddresses : [],\n        immunizations: (initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.immunizations) ? initialSubject === null || initialSubject === void 0 ? void 0 : initialSubject.immunizations : []\n      });\n    } else {\n      reset({\n        ...SubjectSection.defaultProps.initialSubject,\n        sKey: `@${uuidv4()}`\n      });\n    }\n  }, [reset, initialSubject]);\n  const dOBLabel = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(YearLabel, {\n    year: watch('hasYearOfBirthOnly') ? 1 : 0,\n    onClick: () => setValue('hasYearOfBirthOnly', true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }\n  }, \"N\\u0103m sinh\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }\n  }, \"/\"), /*#__PURE__*/React.createElement(DateLabel, {\n    year: watch('hasYearOfBirthOnly') ? 1 : 0,\n    onClick: () => setValue('hasYearOfBirthOnly', false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }\n  }, \"Ng\\xE0y sinh\"));\n  const additionalPanels = [{\n    key: 'details',\n    title: 'Thông tin bổ sung',\n    content: {\n      content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form.Group, {\n        widths: \"equal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Controller, {\n        name: \"nationality\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref5 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref5;\n          return /*#__PURE__*/React.createElement(Form.Select, {\n            fluid: true,\n            deburr: true,\n            clearable: !readOnly,\n            search: true,\n            label: \"Qu\\u1ED1c t\\u1ECBch\",\n            value: value || '',\n            onChange: (_, _ref6) => {\n              let {\n                value: v\n              } = _ref6;\n              return onChange(v);\n            },\n            onBlur: () => {\n              onBlur();\n              triggerOnChange();\n            },\n            options: readOnly ? nationOptions.filter(g => g.value === value) : nationOptions,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Controller, {\n        name: \"religion\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref7 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref7;\n          return /*#__PURE__*/React.createElement(Form.Select, {\n            fluid: true,\n            deburr: true,\n            clearable: !readOnly,\n            search: true,\n            label: \"T\\xF4n gi\\xE1o\",\n            value: value || '',\n            onChange: (_, _ref8) => {\n              let {\n                value: v\n              } = _ref8;\n              return onChange(v);\n            },\n            onBlur: () => {\n              onBlur();\n              triggerOnChange();\n            },\n            options: readOnly ? religionOptions.filter(g => g.value === value) : religionOptions,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Controller, {\n        name: \"job\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref9 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref9;\n          return /*#__PURE__*/React.createElement(Form.Input, {\n            fluid: true,\n            label: \"Ngh\\u1EC1 nghi\\u1EC7p\",\n            value: value || '',\n            onChange: onChange,\n            onBlur: () => {\n              onBlur();\n              triggerOnChange();\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Controller, {\n        name: \"email\",\n        defaultValue: \"\",\n        control: control,\n        render: _ref10 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref10;\n          return /*#__PURE__*/React.createElement(Form.Input, {\n            fluid: true,\n            type: \"email\",\n            label: \"Email\",\n            value: value || '',\n            onChange: onChange,\n            onBlur: () => {\n              onBlur();\n              triggerOnChange();\n            },\n            readOnly: readOnly,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        widths: \"equal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Controller, {\n        name: \"workAddresses\",\n        defaultValue: [],\n        control: control,\n        render: _ref11 => {\n          let {\n            onChange,\n            onBlur,\n            value\n          } = _ref11;\n          return /*#__PURE__*/React.createElement(Form.Field, {\n            fluid: true,\n            control: AddressDetails,\n            label: \"\\u0110\\u1ECBa ch\\u1EC9 n\\u01A1i l\\xE0m vi\\u1EC7c/ h\\u1ECDc t\\u1EADp\",\n            initialData: value.length !== 0 ? value[0] : {\n              floor: '',\n              block: '',\n              streetHouseNumber: '',\n              provinceValue: '',\n              districtValue: '',\n              wardValue: ''\n            },\n            onChange: d => {\n              onChange([d]);\n              triggerOnChange();\n            },\n            onBlur: onBlur,\n            readOnly: readOnly,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 19\n            }\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 15\n        }\n      })))\n    }\n  }];\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Dimmer, {\n    inverted: true,\n    active: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"id\",\n    defaultValue: \"\",\n    control: control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"sKey\",\n    defaultValue: \"\",\n    control: control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"hasYearOfBirthOnly\",\n    defaultValue: \"true\",\n    control: control,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 491,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"fullName\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.required,\n    render: _ref12 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref12;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        required: true,\n        fluid: true,\n        label: \"H\\u1ECD v\\xE0 t\\xEAn\",\n        value: value || '',\n        onChange: (__, _ref13) => {\n          let {\n            value: v\n          } = _ref13;\n          onChange(v);\n          onChangeWithoutDelay(setFullName(v.toUpperCase()), 1000);\n        },\n        onBlur: () => {\n          onBlur();\n          onChange(value.toUpperCase());\n          triggerOnChange();\n        },\n        error: errors.fullName && errorOptions.required,\n        readOnly: readOnly,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"phoneNumber\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.phoneNumber,\n    render: _ref14 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref14;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        required: true,\n        type: \"number\",\n        label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n        value: value || '',\n        onChange: (__, _ref15) => {\n          let {\n            value: v\n          } = _ref15;\n          onChange(v);\n          onChangeWithoutDelay(setPhoneNumber(v), 500);\n        },\n        onBlur: () => {\n          onBlur();\n          triggerOnChange();\n        },\n        error: !readOnly && errors.phoneNumber && errorOptions.phoneNumber,\n        readOnly: readOnly,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"dateOfBirth\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.dateOfBirth,\n    render: _ref16 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref16;\n      if (watch('hasYearOfBirthOnly')) {\n        return /*#__PURE__*/React.createElement(Form.Input, {\n          fluid: true,\n          required: true,\n          type: \"number\",\n          label: dOBLabel,\n          value: value.toString().includes('-') ? value.substring(0, 4) : value,\n          onChange: onChange,\n          onBlur: () => {\n            onBlur();\n            triggerOnChange();\n          },\n          error: !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth,\n          readOnly: readOnly,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 19\n          }\n        });\n      }\n      return (\n        /*#__PURE__*/\n        // <Form.Input\n        //   fluid\n        //   required\n        //   type='date'\n        //   label={dOBLabel}\n        //   value={value}\n        //   onChange={onChange}\n        //   onBlur={() => {\n        //     onBlur();\n        //     triggerOnChange();\n        //   }}\n        //   error={\n        //     !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth\n        //   }\n        //   readOnly={readOnly}\n        // />\n        React.createElement(Form.Field, {\n          required: true,\n          label: dOBLabel,\n          control: KeyboardDatePicker,\n          onChange: onChange,\n          value: value || '',\n          onBlur: () => {\n            onBlur();\n            triggerOnChange();\n          },\n          disabledDays: [{\n            before: new Date(watch('fromTime')),\n            after: new Date()\n          }],\n          error: !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 17\n          }\n        })\n      );\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"gender\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.required,\n    render: _ref17 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref17;\n      return /*#__PURE__*/React.createElement(Form.Select, {\n        fluid: true,\n        required: true,\n        clearable: !readOnly,\n        label: \"Gi\\u1EDBi t\\xEDnh\",\n        value: value,\n        onChange: (__, _ref18) => {\n          let {\n            value: v\n          } = _ref18;\n          return onChange(v);\n        },\n        onBlur: () => {\n          onBlur();\n          triggerOnChange();\n        },\n        error: errors.gender && errorOptions.required,\n        options: readOnly ? genderOptions.filter(g => g.value === value) : genderOptions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 626,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 648,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"cccd\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.cccd,\n    render: _ref19 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref19;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        label: \"C\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n          triggerOnChange();\n        },\n        readOnly: readOnly,\n        error: errorOptions.cccd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 655,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 649,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"cmnd\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.cmnd,\n    render: _ref20 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref20;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        label: \"Ch\\u1EE9ng minh nh\\xE2n d\\xE2n\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n          triggerOnChange();\n        },\n        icon: !readOnly ? /*#__PURE__*/React.createElement(Icon, {\n          name: \"pencil alternate\",\n          link: true,\n          onClick: () => {\n            onChange(uuidv4());\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 21\n          }\n        }) : null,\n        readOnly: readOnly,\n        error: errorOptions.cmnd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 669,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"passportNumber\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.passport,\n    render: _ref21 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref21;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        label: \"H\\u1ED9 chi\\u1EBFu\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n          triggerOnChange();\n        },\n        readOnly: readOnly,\n        error: errorOptions.passport,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    name: \"healthInsuranceNumber\",\n    defaultValue: \"\",\n    control: control,\n    rules: ruleOptions.insurance,\n    render: _ref22 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref22;\n      return /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        label: \"B\\u1EA3o hi\\u1EC3m y t\\u1EBF\",\n        value: value || '',\n        onChange: onChange,\n        onBlur: () => {\n          onBlur();\n          triggerOnChange();\n        },\n        readOnly: readOnly,\n        error: errorOptions.insurance,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 726,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"addressesInVietnam\",\n    defaultValue: [],\n    control: control,\n    rules: ruleOptions.addressInVietnam,\n    render: _ref23 => {\n      var _errors$addressesInVi;\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref23;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        required: true,\n        control: AddressDetails,\n        label: \"\\u0110\\u1ECBa ch\\u1EC9 n\\u01A1i c\\u01B0 tr\\xFA\",\n        initialData: value.length !== 0 ? value[0] : {\n          floor: '',\n          block: '',\n          streetHouseNumber: '',\n          provinceValue: '',\n          districtValue: '',\n          wardValue: ''\n        },\n        onChange: d => {\n          onChange([d]);\n          triggerOnChange();\n        },\n        onBlur: onBlur,\n        readOnly: readOnly,\n        errorText: (_errors$addressesInVi = errors.addressesInVietnam) === null || _errors$addressesInVi === void 0 ? void 0 : _errors$addressesInVi.message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    name: \"immunizations\",\n    defaultValue: [],\n    control: control,\n    rules: ruleOptions.immunizations,\n    render: _ref24 => {\n      var _errors$immunizations;\n      let {\n        onChange,\n        value\n      } = _ref24;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        required: true,\n        control: ImmunizationSection,\n        fillData: (fillData === null || fillData === void 0 ? void 0 : fillData.immunizations) && Array.isArray(fillData.immunizations) && fillData.immunizations.length !== 0 ? fillData.immunizations.reduce((o, i) => new Date(i.dateCreated) > new Date(o.dateCreated) ? i : o, fillData.immunizations[0]) // get latest object\n        : {\n          immunizationStatus: undefined,\n          // vaccine: '',\n          injectionDate: null\n        },\n        initialData: value.length !== 0 ? value[0] : {\n          immunizationStatus: undefined,\n          // vaccine: '',\n          injectionDate: null\n        },\n        onChange: d => {\n          onChange([d]);\n        },\n        errorText: (_errors$immunizations = errors.immunizations) === null || _errors$immunizations === void 0 ? void 0 : _errors$immunizations.message,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 778,\n      columnNumber: 11\n    }\n  })), showAdditional && /*#__PURE__*/React.createElement(Accordion, {\n    as: Form.Field,\n    panels: additionalPanels,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 824,\n      columnNumber: 11\n    }\n  })));\n};\nSubjectSection.propTypes = {\n  showAdditional: PropTypes.bool,\n  fillExistProfile: PropTypes.bool,\n  initialSubject: PropTypes.shape({\n    addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\n    workAddresses: PropTypes.arrayOf(PropTypes.shape({}))\n  }),\n  onChange: PropTypes.func\n};\nSubjectSection.defaultProps = {\n  showAdditional: true,\n  fillExistProfile: false,\n  initialSubject: {\n    id: 0,\n    guid: '',\n    cccd: '',\n    cmnd: '',\n    healthInsuranceNumber: '',\n    passportNumber: '',\n    fullName: '',\n    gender: '',\n    nationality: '',\n    religion: '',\n    email: '',\n    phoneNumber: '',\n    dateOfBirth: '',\n    hasYearOfBirthOnly: true,\n    job: '',\n    initialMovingInformation: '',\n    addressesInVietnam: [{\n      id: 0,\n      guid: '',\n      name: '',\n      room: '',\n      floor: '',\n      block: '',\n      provinceValue: '79',\n      districtValue: '',\n      wardValue: '',\n      quarter: '',\n      quarterGroup: '',\n      streetHouseNumber: '',\n      locationType: ''\n    }],\n    workAddresses: [{\n      id: 0,\n      guid: '',\n      name: '',\n      room: '',\n      floor: '',\n      block: '',\n      provinceValue: '',\n      districtValue: '',\n      wardValue: '',\n      quarter: '',\n      quarterGroup: '',\n      streetHouseNumber: '',\n      locationType: ''\n    }],\n    immunizations: []\n  },\n  onChange: null\n};\nexport default SubjectSection;","map":{"version":3,"names":["React","useCallback","useEffect","useState","Controller","useFormContext","styled","v4","uuidv4","PropTypes","moment","Accordion","Form","Icon","Dimmer","Loader","AddressDetails","ImmunizationSection","getProfilesWithouDispatch","IMMUNIZATION_STATUSES","nations","KeyboardDatePicker","genderOptions","text","value","religionOptions","key","nationOptions","map","n","countryCode","name","flag","Wrapper","div","YearLabel","span","_ref","year","_ref2","DateLabel","_ref3","_ref4","SubjectSection","props","_errors$dateOfBirth","_errors$phoneNumber","showAdditional","fillExistProfile","initialSubject","onChange","onChangeProp","loading","setLoading","readOnly","setReadOnly","timeOut","setTimeOut","fillData","setFillData","undefined","fullName","setFullName","phoneNumber","setPhoneNumber","watch","control","reset","getValues","setValue","formState","errors","hasNoKey","cccdError","length","cmndError","passportError","insuranceError","ruleOptions","required","dateOfBirth","min","subtract","format","max","pattern","cccd","validate","cmnd","passport","insurance","addressInVietnam","_getValues$","_getValues$2","_getValues$3","_getValues$4","_getValues$5","_getValues$6","error","provinceValue","districtValue","wardValue","streetHouseNumber","quarter","quarterGroup","immunizations","_getValues$7","_getValues$8","immunizationStatus","injectionDate","NO_RECORD","NO_VACCINE","immunizationLatest","reduce","o","i","Date","dateCreated","Object","keys","JSON","stringify","errorOptions","content","type","passportNumber","healthInsuranceNumber","resetWithoutFields","fields","arguments","presentFields","forEach","includes","defaultProps","onChangeWithoutDelay","callback","time","clearTimeout","setTimeout","triggerOnChange","s","toUpperCase","getExistProfile","phone","isSensitiveCase","then","res","data","_data$","_data$2","_data$3","_data$4","_data$5","_data$6","_data$7","_data$8","_data$9","profile","hasYearOfBirthOnly","addressesInVietnam","workAddresses","Boolean","id","sKey","dOBLabel","createElement","Fragment","onClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","additionalPanels","title","Group","widths","defaultValue","render","_ref5","onBlur","Select","fluid","deburr","clearable","search","label","_","_ref6","v","options","filter","g","_ref7","_ref8","_ref9","Input","_ref10","_ref11","Field","initialData","floor","block","d","inverted","active","className","rules","_ref12","__","_ref13","_ref14","_ref15","_ref16","toString","substring","disabledDays","before","after","_ref17","_ref18","gender","_ref19","_ref20","icon","link","_ref21","_ref22","_ref23","_errors$addressesInVi","errorText","message","_ref24","_errors$immunizations","Array","isArray","as","panels","propTypes","bool","shape","arrayOf","func","guid","nationality","religion","email","job","initialMovingInformation","room","locationType"],"sources":["H:/BAKCO/pj/cds/src/chain/components/SubjectSection.js"],"sourcesContent":["/* eslint-disable react/prop-types */\r\n/* eslint-disable no-nested-ternary */\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { Controller, useFormContext } from 'react-hook-form';\r\nimport styled from 'styled-components';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment';\r\n\r\nimport { Accordion, Form, Icon, Dimmer, Loader } from 'semantic-ui-react';\r\nimport AddressDetails from 'infection-chain/components/subject/information/form-sections/AddressDetails';\r\nimport ImmunizationSection from 'chain/components/ImmunizationSection';\r\n\r\nimport { getProfilesWithouDispatch } from 'profile/actions/profile';\r\nimport { IMMUNIZATION_STATUSES } from 'profile/utils/constants';\r\n\r\nimport nations from 'app/assets/mock/nations.json';\r\nimport { KeyboardDatePicker } from 'app/components/shared';\r\n\r\nconst genderOptions = [\r\n  { text: 'Nam', value: 1 },\r\n  { text: 'Nữ', value: 0 },\r\n  { text: 'Khác', value: 2 },\r\n];\r\nconst religionOptions = [\r\n  { key: 'Không', text: 'Không', value: 'Không' },\r\n  { key: 'Phật giáo', text: 'Phật giáo', value: 'Phật giáo' },\r\n  { key: 'Công giáo', text: 'Công giáo', value: 'Công giáo' },\r\n  { key: 'Cao Đài', text: 'Cao Đài', value: 'Cao Đài' },\r\n  { key: 'Hòa Hảo', text: 'Hòa Hảo', value: 'Hòa Hảo' },\r\n  { key: 'Tin Lành', text: 'Tin Lành', value: 'Tin Lành' },\r\n  { key: 'Hồi giáo', text: 'Hồi giáo', value: 'Hồi giáo' },\r\n  { key: 'Ấn Độ giáo', text: 'Ấn Độ giáo', value: 'Ấn Độ giáo' },\r\n];\r\n\r\nconst nationOptions = nations.map((n) => ({\r\n  key: n.countryCode,\r\n  text: n.name,\r\n  value: n.countryCode,\r\n  flag: n.countryCode,\r\n}));\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst YearLabel = styled.span`\r\n  cursor: ${({ year }) => (year === 0 ? 'pointer' : '')};\r\n  font-weight: ${({ year }) => (year === 1 ? 'bold' : '')};\r\n`;\r\nconst DateLabel = styled.span`\r\n  cursor: ${({ year }) => (year === 1 ? 'pointer' : '')};\r\n  font-weight: ${({ year }) => (year === 0 ? 'bold' : '')};\r\n`;\r\n\r\nconst SubjectSection = (props) => {\r\n  const {\r\n    showAdditional,\r\n    fillExistProfile,\r\n    initialSubject,\r\n    onChange: onChangeProp,\r\n  } = props;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [readOnly, setReadOnly] = useState(false);\r\n  const [timeOut, setTimeOut] = useState(null);\r\n\r\n  // For get exist profile\r\n  const [fillData, setFillData] = useState(undefined);\r\n  const [fullName, setFullName] = useState(undefined);\r\n  const [phoneNumber, setPhoneNumber] = useState(undefined);\r\n\r\n  const {\r\n    watch,\r\n    control,\r\n    reset,\r\n    getValues,\r\n    setValue,\r\n    formState: { errors },\r\n  } = useFormContext();\r\n\r\n  const hasNoKey = !(\r\n    watch('cccd') ||\r\n    watch('cmnd') ||\r\n    watch('passportNumber') ||\r\n    watch('healthInsuranceNumber')\r\n  );\r\n  const cccdError = watch('cccd') && watch('cccd').length < 12;\r\n  const cmndError = watch('cmnd') && watch('cmnd').length < 9;\r\n  const passportError =\r\n    watch('passportNumber') && watch('passportNumber').length < 6;\r\n  const insuranceError =\r\n    watch('healthInsuranceNumber') &&\r\n    watch('healthInsuranceNumber').length < 15;\r\n\r\n  const ruleOptions = {\r\n    required: { required: true },\r\n    dateOfBirth: {\r\n      required: true,\r\n      min: moment().subtract(120, 'years').format('YYYY'),\r\n      max: moment().format('YYYY-MM-DD'),\r\n    },\r\n    phoneNumber: {\r\n      required: true,\r\n      pattern: /((09|03|07|08|05)+([0-9]{8})\\b)/g,\r\n    },\r\n    cccd: { validate: () => !hasNoKey && !cccdError },\r\n    cmnd: { validate: () => !hasNoKey && !cmndError },\r\n    passport: { validate: () => !hasNoKey && !passportError },\r\n    insurance: { validate: () => !hasNoKey && !insuranceError },\r\n    addressInVietnam: {\r\n      validate: () => {\r\n        let error = '';\r\n        if (!getValues('addressesInVietnam')[0]?.provinceValue) {\r\n          error += 'provinceValue/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.districtValue) {\r\n          error += 'districtValue/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.wardValue) {\r\n          error += 'wardValue/';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.streetHouseNumber) {\r\n          error += 'streetHouseNumber';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.quarter) {\r\n          error += 'quarter';\r\n        }\r\n        if (!getValues('addressesInVietnam')[0]?.quarterGroup) {\r\n          error += 'quarterGroup';\r\n        }\r\n        return error || true;\r\n      },\r\n    },\r\n    immunizations: {\r\n      validate: () => {\r\n        const error = {};\r\n        const immunizationStatus =\r\n          getValues('immunizations')[0]?.immunizationStatus;\r\n        const injectionDate = getValues('immunizations')[0]?.injectionDate;\r\n        if (typeof immunizationStatus === 'undefined') {\r\n          error.immunizationStatus = 'Bắt buộc';\r\n        }\r\n        if (\r\n          immunizationStatus !== IMMUNIZATION_STATUSES.NO_RECORD &&\r\n          immunizationStatus !== IMMUNIZATION_STATUSES.NO_VACCINE\r\n        ) {\r\n          // if (!getValues('immunizations')[0]?.vaccine) {\r\n          //   error += 'vaccine';\r\n          // }\r\n          if (injectionDate) {\r\n            if (\r\n              fillData &&\r\n              fillData?.immunizations &&\r\n              fillData.immunizations.length > 0\r\n            ) {\r\n              const immunizationLatest = fillData.immunizations.reduce(\r\n                (o, i) =>\r\n                  new Date(i.dateCreated) > new Date(o.dateCreated) ? i : o,\r\n                fillData.immunizations[0]\r\n              );\r\n              if (\r\n                moment(injectionDate) < moment(immunizationLatest.injectionDate)\r\n              ) {\r\n                error.injectionDate =\r\n                  'Ngày tiêm gần nhất phải lớn hơn hoặc bằng ngày ghi nhận trên hệ thống';\r\n              }\r\n            }\r\n          } else {\r\n            error.injectionDate = 'Bắt buộc';\r\n          }\r\n        }\r\n        return Object.keys(error).length === 0 || JSON.stringify(error);\r\n      },\r\n    },\r\n  };\r\n  const errorOptions = {\r\n    required: {\r\n      content: 'Bắt buộc',\r\n    },\r\n    dateOfBirth: {\r\n      content:\r\n        errors.dateOfBirth?.type === 'required'\r\n          ? 'Bắt buộc'\r\n          : `Năm sinh từ ${moment()\r\n              .subtract(120, 'years')\r\n              .format('YYYY')} - ${moment().format('YYYY')}`,\r\n    },\r\n    phoneNumber: {\r\n      content:\r\n        errors.phoneNumber?.type === 'required'\r\n          ? 'Bắt buộc'\r\n          : 'Chưa đúng định dạng hoặc không có thực',\r\n    },\r\n    cccd:\r\n      !readOnly && cccdError && errors.cccd\r\n        ? 'Tối thiểu 12 ký tự'\r\n        : errors.cccd && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n    cmnd:\r\n      !readOnly && cmndError && errors.cmnd\r\n        ? 'Tối thiểu 9 ký tự'\r\n        : errors.cmnd && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n    passport:\r\n      !readOnly && passportError && errors.passport\r\n        ? 'Tối thiểu 12 ký tự'\r\n        : errors.passportNumber && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n    insurance:\r\n      !readOnly && insuranceError && errors.insurance\r\n        ? 'Tối thiểu 9 ký tự'\r\n        : errors.healthInsuranceNumber && hasNoKey\r\n        ? 'Chưa có thông tin xác thực'\r\n        : false,\r\n  };\r\n\r\n  const resetWithoutFields = (fields = []) => {\r\n    const presentFields = getValues();\r\n    Object.keys(presentFields).forEach((key) => {\r\n      if (!fields.includes(key)) {\r\n        setValue(key, SubjectSection.defaultProps.initialSubject[key]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const onChangeWithoutDelay = (callback, time) => {\r\n    if (timeOut) {\r\n      clearTimeout(timeOut);\r\n    }\r\n    setTimeOut(setTimeout(callback, time));\r\n  };\r\n\r\n  const triggerOnChange = useCallback(() => {\r\n    if (onChangeProp) {\r\n      const s = getValues();\r\n      onChangeProp({\r\n        ...s,\r\n        fullName: s.fullName.toUpperCase(),\r\n        dateOfBirth: s.dateOfBirth\r\n          ? s.dateOfBirth.includes('-')\r\n            ? s.dateOfBirth\r\n            : `${s.dateOfBirth}-01-01`\r\n          : '',\r\n      });\r\n    }\r\n  }, [getValues, onChangeProp]);\r\n\r\n  const getExistProfile = useCallback(\r\n    (name, phone) => {\r\n      setLoading(true);\r\n      getProfilesWithouDispatch({\r\n        name,\r\n        phoneNumber: phone,\r\n        isSensitiveCase: true,\r\n      }).then((res) => {\r\n        const { data } = res;\r\n        if (data && data.length > 0) {\r\n          const profile = {\r\n            ...data[0],\r\n            dateOfBirth: data[0]?.dateOfBirth\r\n              ? data[0]?.hasYearOfBirthOnly\r\n                ? moment(data[0]?.dateOfBirth).format('YYYY')\r\n                : moment(data[0].dateOfBirth).format('YYYY-MM-DD')\r\n              : '',\r\n            addressesInVietnam: data[0]?.addressesInVietnam\r\n              ? data[0]?.addressesInVietnam\r\n              : [],\r\n            workAddresses: data[0]?.workAddresses ? data[0]?.workAddresses : [],\r\n            immunizations: data[0]?.immunizations ? data[0]?.immunizations : [],\r\n          };\r\n          setFillData(profile);\r\n          reset({\r\n            ...profile,\r\n            immunizations: [],\r\n          });\r\n        } else {\r\n          setFillData(undefined);\r\n          resetWithoutFields(['fullName', 'phoneNumber']);\r\n        }\r\n        setLoading(false);\r\n      });\r\n      // eslint-disable-next-line\r\n    },\r\n    [reset, setFillData]\r\n  );\r\n  useEffect(() => {\r\n    if (\r\n      fillExistProfile &&\r\n      fullName &&\r\n      phoneNumber &&\r\n      phoneNumber.length > 9 &&\r\n      phoneNumber.length < 12\r\n    ) {\r\n      getExistProfile(fullName, phoneNumber);\r\n    }\r\n  }, [getExistProfile, fillExistProfile, fullName, phoneNumber]);\r\n\r\n  useEffect(() => {\r\n    if (initialSubject) {\r\n      setReadOnly(Boolean(initialSubject?.id));\r\n      reset({\r\n        ...initialSubject,\r\n        dateOfBirth: initialSubject?.dateOfBirth\r\n          ? initialSubject?.hasYearOfBirthOnly\r\n            ? moment(initialSubject?.dateOfBirth).format('YYYY')\r\n            : new Date(initialSubject?.dateOfBirth)\r\n          : '',\r\n        addressesInVietnam: initialSubject?.addressesInVietnam\r\n          ? initialSubject?.addressesInVietnam\r\n          : [],\r\n        workAddresses: initialSubject?.workAddresses\r\n          ? initialSubject?.workAddresses\r\n          : [],\r\n        immunizations: initialSubject?.immunizations\r\n          ? initialSubject?.immunizations\r\n          : [],\r\n      });\r\n    } else {\r\n      reset({\r\n        ...SubjectSection.defaultProps.initialSubject,\r\n        sKey: `@${uuidv4()}`,\r\n      });\r\n    }\r\n  }, [reset, initialSubject]);\r\n\r\n  const dOBLabel = (\r\n    <>\r\n      <YearLabel\r\n        year={watch('hasYearOfBirthOnly') ? 1 : 0}\r\n        onClick={() => setValue('hasYearOfBirthOnly', true)}\r\n      >\r\n        Năm sinh\r\n      </YearLabel>\r\n      <span>/</span>\r\n      <DateLabel\r\n        year={watch('hasYearOfBirthOnly') ? 1 : 0}\r\n        onClick={() => setValue('hasYearOfBirthOnly', false)}\r\n      >\r\n        Ngày sinh\r\n      </DateLabel>\r\n    </>\r\n  );\r\n\r\n  const additionalPanels = [\r\n    {\r\n      key: 'details',\r\n      title: 'Thông tin bổ sung',\r\n      content: {\r\n        content: (\r\n          <>\r\n            <Form.Group widths='equal'>\r\n              <Controller\r\n                name='nationality'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Select\r\n                    fluid\r\n                    deburr\r\n                    clearable={!readOnly}\r\n                    search\r\n                    label='Quốc tịch'\r\n                    value={value || ''}\r\n                    onChange={(_, { value: v }) => onChange(v)}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                      triggerOnChange();\r\n                    }}\r\n                    options={\r\n                      readOnly\r\n                        ? nationOptions.filter((g) => g.value === value)\r\n                        : nationOptions\r\n                    }\r\n                  />\r\n                )}\r\n              />\r\n              <Controller\r\n                name='religion'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Select\r\n                    fluid\r\n                    deburr\r\n                    clearable={!readOnly}\r\n                    search\r\n                    label='Tôn giáo'\r\n                    value={value || ''}\r\n                    onChange={(_, { value: v }) => onChange(v)}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                      triggerOnChange();\r\n                    }}\r\n                    options={\r\n                      readOnly\r\n                        ? religionOptions.filter((g) => g.value === value)\r\n                        : religionOptions\r\n                    }\r\n                  />\r\n                )}\r\n              />\r\n              <Controller\r\n                name='job'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Input\r\n                    fluid\r\n                    label='Nghề nghiệp'\r\n                    value={value || ''}\r\n                    onChange={onChange}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                      triggerOnChange();\r\n                    }}\r\n                  />\r\n                )}\r\n              />\r\n\r\n              <Controller\r\n                name='email'\r\n                defaultValue=''\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Input\r\n                    fluid\r\n                    type='email'\r\n                    label='Email'\r\n                    value={value || ''}\r\n                    onChange={onChange}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                      triggerOnChange();\r\n                    }}\r\n                    readOnly={readOnly}\r\n                  />\r\n                )}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group widths='equal'>\r\n              <Controller\r\n                name='workAddresses'\r\n                defaultValue={[]}\r\n                control={control}\r\n                render={({ onChange, onBlur, value }) => (\r\n                  <Form.Field\r\n                    fluid\r\n                    control={AddressDetails}\r\n                    label='Địa chỉ nơi làm việc/ học tập'\r\n                    initialData={\r\n                      value.length !== 0\r\n                        ? value[0]\r\n                        : {\r\n                            floor: '',\r\n                            block: '',\r\n                            streetHouseNumber: '',\r\n                            provinceValue: '',\r\n                            districtValue: '',\r\n                            wardValue: '',\r\n                          }\r\n                    }\r\n                    onChange={(d) => {\r\n                      onChange([d]);\r\n                      triggerOnChange();\r\n                    }}\r\n                    onBlur={onBlur}\r\n                    readOnly={readOnly}\r\n                  />\r\n                )}\r\n              />\r\n            </Form.Group>\r\n          </>\r\n        ),\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Dimmer inverted active={loading}>\r\n        <Loader />\r\n      </Dimmer>\r\n      <div className='ui form'>\r\n        <Form.Group widths='equal'>\r\n          <Controller name='id' defaultValue='' control={control} />\r\n          <Controller name='sKey' defaultValue='' control={control} />\r\n          <Controller\r\n            name='hasYearOfBirthOnly'\r\n            defaultValue='true'\r\n            control={control}\r\n          />\r\n          <Controller\r\n            name='fullName'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.required}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                required\r\n                fluid\r\n                label='Họ và tên'\r\n                value={value || ''}\r\n                onChange={(__, { value: v }) => {\r\n                  onChange(v);\r\n                  onChangeWithoutDelay(setFullName(v.toUpperCase()), 1000);\r\n                }}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  onChange(value.toUpperCase());\r\n                  triggerOnChange();\r\n                }}\r\n                error={errors.fullName && errorOptions.required}\r\n                readOnly={readOnly}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='phoneNumber'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.phoneNumber}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                required\r\n                type='number'\r\n                label='Số điện thoại'\r\n                value={value || ''}\r\n                onChange={(__, { value: v }) => {\r\n                  onChange(v);\r\n                  onChangeWithoutDelay(setPhoneNumber(v), 500);\r\n                }}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  triggerOnChange();\r\n                }}\r\n                error={\r\n                  !readOnly && errors.phoneNumber && errorOptions.phoneNumber\r\n                }\r\n                readOnly={readOnly}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='dateOfBirth'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.dateOfBirth}\r\n            render={({ onChange, onBlur, value }) => {\r\n              if (watch('hasYearOfBirthOnly')) {\r\n                return (\r\n                  <Form.Input\r\n                    fluid\r\n                    required\r\n                    type='number'\r\n                    label={dOBLabel}\r\n                    value={\r\n                      value.toString().includes('-')\r\n                        ? value.substring(0, 4)\r\n                        : value\r\n                    }\r\n                    onChange={onChange}\r\n                    onBlur={() => {\r\n                      onBlur();\r\n                      triggerOnChange();\r\n                    }}\r\n                    error={\r\n                      !readOnly &&\r\n                      errors.dateOfBirth &&\r\n                      errorOptions.dateOfBirth\r\n                    }\r\n                    readOnly={readOnly}\r\n                  />\r\n                );\r\n              }\r\n              return (\r\n                // <Form.Input\r\n                //   fluid\r\n                //   required\r\n                //   type='date'\r\n                //   label={dOBLabel}\r\n                //   value={value}\r\n                //   onChange={onChange}\r\n                //   onBlur={() => {\r\n                //     onBlur();\r\n                //     triggerOnChange();\r\n                //   }}\r\n                //   error={\r\n                //     !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth\r\n                //   }\r\n                //   readOnly={readOnly}\r\n                // />\r\n                <Form.Field\r\n                  required\r\n                  label={dOBLabel}\r\n                  control={KeyboardDatePicker}\r\n                  onChange={onChange}\r\n                  value={value || ''}\r\n                  onBlur={() => {\r\n                    onBlur();\r\n                    triggerOnChange();\r\n                  }}\r\n                  disabledDays={[\r\n                    {\r\n                      before: new Date(watch('fromTime')),\r\n                      after: new Date(),\r\n                    },\r\n                  ]}\r\n                  error={\r\n                    !readOnly && errors.dateOfBirth && errorOptions.dateOfBirth\r\n                  }\r\n                />\r\n              );\r\n            }}\r\n          />\r\n          <Controller\r\n            name='gender'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.required}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Select\r\n                fluid\r\n                required\r\n                clearable={!readOnly}\r\n                label='Giới tính'\r\n                value={value}\r\n                onChange={(__, { value: v }) => onChange(v)}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  triggerOnChange();\r\n                }}\r\n                error={errors.gender && errorOptions.required}\r\n                options={\r\n                  readOnly\r\n                    ? genderOptions.filter((g) => g.value === value)\r\n                    : genderOptions\r\n                }\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group widths='equal'>\r\n          <Controller\r\n            name='cccd'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.cccd}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                label='Căn cước công dân'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  triggerOnChange();\r\n                }}\r\n                readOnly={readOnly}\r\n                error={errorOptions.cccd}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='cmnd'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.cmnd}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                label='Chứng minh nhân dân'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  triggerOnChange();\r\n                }}\r\n                icon={\r\n                  !readOnly ? (\r\n                    <Icon\r\n                      name='pencil alternate'\r\n                      link\r\n                      onClick={() => {\r\n                        onChange(uuidv4());\r\n                      }}\r\n                    />\r\n                  ) : null\r\n                }\r\n                readOnly={readOnly}\r\n                error={errorOptions.cmnd}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='passportNumber'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.passport}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                label='Hộ chiếu'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  triggerOnChange();\r\n                }}\r\n                readOnly={readOnly}\r\n                error={errorOptions.passport}\r\n              />\r\n            )}\r\n          />\r\n          <Controller\r\n            name='healthInsuranceNumber'\r\n            defaultValue=''\r\n            control={control}\r\n            rules={ruleOptions.insurance}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Input\r\n                fluid\r\n                label='Bảo hiểm y tế'\r\n                value={value || ''}\r\n                onChange={onChange}\r\n                onBlur={() => {\r\n                  onBlur();\r\n                  triggerOnChange();\r\n                }}\r\n                readOnly={readOnly}\r\n                error={errorOptions.insurance}\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group widths='equal'>\r\n          <Controller\r\n            name='addressesInVietnam'\r\n            defaultValue={[]}\r\n            control={control}\r\n            rules={ruleOptions.addressInVietnam}\r\n            render={({ onChange, onBlur, value }) => (\r\n              <Form.Field\r\n                fluid\r\n                required\r\n                control={AddressDetails}\r\n                label='Địa chỉ nơi cư trú'\r\n                initialData={\r\n                  value.length !== 0\r\n                    ? value[0]\r\n                    : {\r\n                        floor: '',\r\n                        block: '',\r\n                        streetHouseNumber: '',\r\n                        provinceValue: '',\r\n                        districtValue: '',\r\n                        wardValue: '',\r\n                      }\r\n                }\r\n                onChange={(d) => {\r\n                  onChange([d]);\r\n                  triggerOnChange();\r\n                }}\r\n                onBlur={onBlur}\r\n                readOnly={readOnly}\r\n                errorText={errors.addressesInVietnam?.message}\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group widths='equal'>\r\n          <Controller\r\n            name='immunizations'\r\n            defaultValue={[]}\r\n            control={control}\r\n            rules={ruleOptions.immunizations}\r\n            render={({ onChange, value }) => (\r\n              <Form.Field\r\n                fluid\r\n                required\r\n                control={ImmunizationSection}\r\n                fillData={\r\n                  fillData?.immunizations &&\r\n                  Array.isArray(fillData.immunizations) &&\r\n                  fillData.immunizations.length !== 0\r\n                    ? fillData.immunizations.reduce(\r\n                        (o, i) =>\r\n                          new Date(i.dateCreated) > new Date(o.dateCreated)\r\n                            ? i\r\n                            : o,\r\n                        fillData.immunizations[0]\r\n                      ) // get latest object\r\n                    : {\r\n                        immunizationStatus: undefined,\r\n                        // vaccine: '',\r\n                        injectionDate: null,\r\n                      }\r\n                }\r\n                initialData={\r\n                  value.length !== 0\r\n                    ? value[0]\r\n                    : {\r\n                        immunizationStatus: undefined,\r\n                        // vaccine: '',\r\n                        injectionDate: null,\r\n                      }\r\n                }\r\n                onChange={(d) => {\r\n                  onChange([d]);\r\n                }}\r\n                errorText={errors.immunizations?.message}\r\n              />\r\n            )}\r\n          />\r\n        </Form.Group>\r\n\r\n        {showAdditional && (\r\n          <Accordion as={Form.Field} panels={additionalPanels} />\r\n        )}\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nSubjectSection.propTypes = {\r\n  showAdditional: PropTypes.bool,\r\n  fillExistProfile: PropTypes.bool,\r\n  initialSubject: PropTypes.shape({\r\n    addressesInVietnam: PropTypes.arrayOf(PropTypes.shape({})),\r\n    workAddresses: PropTypes.arrayOf(PropTypes.shape({})),\r\n  }),\r\n  onChange: PropTypes.func,\r\n};\r\n\r\nSubjectSection.defaultProps = {\r\n  showAdditional: true,\r\n  fillExistProfile: false,\r\n  initialSubject: {\r\n    id: 0,\r\n    guid: '',\r\n    cccd: '',\r\n    cmnd: '',\r\n    healthInsuranceNumber: '',\r\n    passportNumber: '',\r\n    fullName: '',\r\n    gender: '',\r\n    nationality: '',\r\n    religion: '',\r\n    email: '',\r\n    phoneNumber: '',\r\n    dateOfBirth: '',\r\n    hasYearOfBirthOnly: true,\r\n    job: '',\r\n    initialMovingInformation: '',\r\n    addressesInVietnam: [\r\n      {\r\n        id: 0,\r\n        guid: '',\r\n        name: '',\r\n        room: '',\r\n        floor: '',\r\n        block: '',\r\n        provinceValue: '79',\r\n        districtValue: '',\r\n        wardValue: '',\r\n        quarter: '',\r\n        quarterGroup: '',\r\n        streetHouseNumber: '',\r\n        locationType: '',\r\n      },\r\n    ],\r\n    workAddresses: [\r\n      {\r\n        id: 0,\r\n        guid: '',\r\n        name: '',\r\n        room: '',\r\n        floor: '',\r\n        block: '',\r\n        provinceValue: '',\r\n        districtValue: '',\r\n        wardValue: '',\r\n        quarter: '',\r\n        quarterGroup: '',\r\n        streetHouseNumber: '',\r\n        locationType: '',\r\n      },\r\n    ],\r\n    immunizations: [],\r\n  },\r\n  onChange: null,\r\n};\r\n\r\nexport default SubjectSection;\r\n"],"mappings":";AAAA;AACA;AACA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC/D,SAASC,UAAU,EAAEC,cAAc,QAAQ,iBAAiB;AAC5D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAOC,MAAM,MAAM,QAAQ;AAE3B,SAASC,SAAS,EAAEC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,QAAQ,mBAAmB;AACzE,OAAOC,cAAc,MAAM,6EAA6E;AACxG,OAAOC,mBAAmB,MAAM,sCAAsC;AAEtE,SAASC,yBAAyB,QAAQ,yBAAyB;AACnE,SAASC,qBAAqB,QAAQ,yBAAyB;AAE/D,OAAOC,OAAO,MAAM,8BAA8B;AAClD,SAASC,kBAAkB,QAAQ,uBAAuB;AAE1D,MAAMC,aAAa,GAAG,CACpB;EAAEC,IAAI,EAAE,KAAK;EAAEC,KAAK,EAAE;AAAE,CAAC,EACzB;EAAED,IAAI,EAAE,IAAI;EAAEC,KAAK,EAAE;AAAE,CAAC,EACxB;EAAED,IAAI,EAAE,MAAM;EAAEC,KAAK,EAAE;AAAE,CAAC,CAC3B;AACD,MAAMC,eAAe,GAAG,CACtB;EAAEC,GAAG,EAAE,OAAO;EAAEH,IAAI,EAAE,OAAO;EAAEC,KAAK,EAAE;AAAQ,CAAC,EAC/C;EAAEE,GAAG,EAAE,WAAW;EAAEH,IAAI,EAAE,WAAW;EAAEC,KAAK,EAAE;AAAY,CAAC,EAC3D;EAAEE,GAAG,EAAE,WAAW;EAAEH,IAAI,EAAE,WAAW;EAAEC,KAAK,EAAE;AAAY,CAAC,EAC3D;EAAEE,GAAG,EAAE,SAAS;EAAEH,IAAI,EAAE,SAAS;EAAEC,KAAK,EAAE;AAAU,CAAC,EACrD;EAAEE,GAAG,EAAE,SAAS;EAAEH,IAAI,EAAE,SAAS;EAAEC,KAAK,EAAE;AAAU,CAAC,EACrD;EAAEE,GAAG,EAAE,UAAU;EAAEH,IAAI,EAAE,UAAU;EAAEC,KAAK,EAAE;AAAW,CAAC,EACxD;EAAEE,GAAG,EAAE,UAAU;EAAEH,IAAI,EAAE,UAAU;EAAEC,KAAK,EAAE;AAAW,CAAC,EACxD;EAAEE,GAAG,EAAE,YAAY;EAAEH,IAAI,EAAE,YAAY;EAAEC,KAAK,EAAE;AAAa,CAAC,CAC/D;AAED,MAAMG,aAAa,GAAGP,OAAO,CAACQ,GAAG,CAAEC,CAAC,KAAM;EACxCH,GAAG,EAAEG,CAAC,CAACC,WAAW;EAClBP,IAAI,EAAEM,CAAC,CAACE,IAAI;EACZP,KAAK,EAAEK,CAAC,CAACC,WAAW;EACpBE,IAAI,EAAEH,CAAC,CAACC;AACV,CAAC,CAAC,CAAC;AAEH,MAAMG,OAAO,GAAG3B,MAAM,CAAC4B,GAAI;AAC3B;AACA,CAAC;AAED,MAAMC,SAAS,GAAG7B,MAAM,CAAC8B,IAAK;AAC9B,YAAYC,IAAA;EAAA,IAAC;IAAEC;EAAK,CAAC,GAAAD,IAAA;EAAA,OAAMC,IAAI,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE;AAAA,CAAE;AACxD,iBAAiBC,KAAA;EAAA,IAAC;IAAED;EAAK,CAAC,GAAAC,KAAA;EAAA,OAAMD,IAAI,KAAK,CAAC,GAAG,MAAM,GAAG,EAAE;AAAA,CAAE;AAC1D,CAAC;AACD,MAAME,SAAS,GAAGlC,MAAM,CAAC8B,IAAK;AAC9B,YAAYK,KAAA;EAAA,IAAC;IAAEH;EAAK,CAAC,GAAAG,KAAA;EAAA,OAAMH,IAAI,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE;AAAA,CAAE;AACxD,iBAAiBI,KAAA;EAAA,IAAC;IAAEJ;EAAK,CAAC,GAAAI,KAAA;EAAA,OAAMJ,IAAI,KAAK,CAAC,GAAG,MAAM,GAAG,EAAE;AAAA,CAAE;AAC1D,CAAC;AAED,MAAMK,cAAc,GAAIC,KAAK,IAAK;EAAA,IAAAC,mBAAA,EAAAC,mBAAA;EAChC,MAAM;IACJC,cAAc;IACdC,gBAAgB;IAChBC,cAAc;IACdC,QAAQ,EAAEC;EACZ,CAAC,GAAGP,KAAK;EAET,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGlD,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACmD,QAAQ,EAAEC,WAAW,CAAC,GAAGpD,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACqD,OAAO,EAAEC,UAAU,CAAC,GAAGtD,QAAQ,CAAC,IAAI,CAAC;;EAE5C;EACA,MAAM,CAACuD,QAAQ,EAAEC,WAAW,CAAC,GAAGxD,QAAQ,CAACyD,SAAS,CAAC;EACnD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG3D,QAAQ,CAACyD,SAAS,CAAC;EACnD,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAG7D,QAAQ,CAACyD,SAAS,CAAC;EAEzD,MAAM;IACJK,KAAK;IACLC,OAAO;IACPC,KAAK;IACLC,SAAS;IACTC,QAAQ;IACRC,SAAS,EAAE;MAAEC;IAAO;EACtB,CAAC,GAAGlE,cAAc,EAAE;EAEpB,MAAMmE,QAAQ,GAAG,EACfP,KAAK,CAAC,MAAM,CAAC,IACbA,KAAK,CAAC,MAAM,CAAC,IACbA,KAAK,CAAC,gBAAgB,CAAC,IACvBA,KAAK,CAAC,uBAAuB,CAAC,CAC/B;EACD,MAAMQ,SAAS,GAAGR,KAAK,CAAC,MAAM,CAAC,IAAIA,KAAK,CAAC,MAAM,CAAC,CAACS,MAAM,GAAG,EAAE;EAC5D,MAAMC,SAAS,GAAGV,KAAK,CAAC,MAAM,CAAC,IAAIA,KAAK,CAAC,MAAM,CAAC,CAACS,MAAM,GAAG,CAAC;EAC3D,MAAME,aAAa,GACjBX,KAAK,CAAC,gBAAgB,CAAC,IAAIA,KAAK,CAAC,gBAAgB,CAAC,CAACS,MAAM,GAAG,CAAC;EAC/D,MAAMG,cAAc,GAClBZ,KAAK,CAAC,uBAAuB,CAAC,IAC9BA,KAAK,CAAC,uBAAuB,CAAC,CAACS,MAAM,GAAG,EAAE;EAE5C,MAAMI,WAAW,GAAG;IAClBC,QAAQ,EAAE;MAAEA,QAAQ,EAAE;IAAK,CAAC;IAC5BC,WAAW,EAAE;MACXD,QAAQ,EAAE,IAAI;MACdE,GAAG,EAAEvE,MAAM,EAAE,CAACwE,QAAQ,CAAC,GAAG,EAAE,OAAO,CAAC,CAACC,MAAM,CAAC,MAAM,CAAC;MACnDC,GAAG,EAAE1E,MAAM,EAAE,CAACyE,MAAM,CAAC,YAAY;IACnC,CAAC;IACDpB,WAAW,EAAE;MACXgB,QAAQ,EAAE,IAAI;MACdM,OAAO,EAAE;IACX,CAAC;IACDC,IAAI,EAAE;MAAEC,QAAQ,EAAEA,CAAA,KAAM,CAACf,QAAQ,IAAI,CAACC;IAAU,CAAC;IACjDe,IAAI,EAAE;MAAED,QAAQ,EAAEA,CAAA,KAAM,CAACf,QAAQ,IAAI,CAACG;IAAU,CAAC;IACjDc,QAAQ,EAAE;MAAEF,QAAQ,EAAEA,CAAA,KAAM,CAACf,QAAQ,IAAI,CAACI;IAAc,CAAC;IACzDc,SAAS,EAAE;MAAEH,QAAQ,EAAEA,CAAA,KAAM,CAACf,QAAQ,IAAI,CAACK;IAAe,CAAC;IAC3Dc,gBAAgB,EAAE;MAChBJ,QAAQ,EAAEA,CAAA,KAAM;QAAA,IAAAK,WAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,YAAA;QACd,IAAIC,KAAK,GAAG,EAAE;QACd,IAAI,GAAAN,WAAA,GAACxB,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,cAAAwB,WAAA,uBAAlCA,WAAA,CAAoCO,aAAa,GAAE;UACtDD,KAAK,IAAI,gBAAgB;QAC3B;QACA,IAAI,GAAAL,YAAA,GAACzB,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,cAAAyB,YAAA,uBAAlCA,YAAA,CAAoCO,aAAa,GAAE;UACtDF,KAAK,IAAI,gBAAgB;QAC3B;QACA,IAAI,GAAAJ,YAAA,GAAC1B,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,cAAA0B,YAAA,uBAAlCA,YAAA,CAAoCO,SAAS,GAAE;UAClDH,KAAK,IAAI,YAAY;QACvB;QACA,IAAI,GAAAH,YAAA,GAAC3B,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,cAAA2B,YAAA,uBAAlCA,YAAA,CAAoCO,iBAAiB,GAAE;UAC1DJ,KAAK,IAAI,mBAAmB;QAC9B;QACA,IAAI,GAAAF,YAAA,GAAC5B,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,cAAA4B,YAAA,uBAAlCA,YAAA,CAAoCO,OAAO,GAAE;UAChDL,KAAK,IAAI,SAAS;QACpB;QACA,IAAI,GAAAD,YAAA,GAAC7B,SAAS,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC,cAAA6B,YAAA,uBAAlCA,YAAA,CAAoCO,YAAY,GAAE;UACrDN,KAAK,IAAI,cAAc;QACzB;QACA,OAAOA,KAAK,IAAI,IAAI;MACtB;IACF,CAAC;IACDO,aAAa,EAAE;MACblB,QAAQ,EAAEA,CAAA,KAAM;QAAA,IAAAmB,YAAA,EAAAC,YAAA;QACd,MAAMT,KAAK,GAAG,CAAC,CAAC;QAChB,MAAMU,kBAAkB,IAAAF,YAAA,GACtBtC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,cAAAsC,YAAA,uBAA7BA,YAAA,CAA+BE,kBAAkB;QACnD,MAAMC,aAAa,IAAAF,YAAA,GAAGvC,SAAS,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,cAAAuC,YAAA,uBAA7BA,YAAA,CAA+BE,aAAa;QAClE,IAAI,OAAOD,kBAAkB,KAAK,WAAW,EAAE;UAC7CV,KAAK,CAACU,kBAAkB,GAAG,UAAU;QACvC;QACA,IACEA,kBAAkB,KAAKzF,qBAAqB,CAAC2F,SAAS,IACtDF,kBAAkB,KAAKzF,qBAAqB,CAAC4F,UAAU,EACvD;UACA;UACA;UACA;UACA,IAAIF,aAAa,EAAE;YACjB,IACEnD,QAAQ,KACRA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE+C,aAAa,KACvB/C,QAAQ,CAAC+C,aAAa,CAAC/B,MAAM,GAAG,CAAC,EACjC;cACA,MAAMsC,kBAAkB,GAAGtD,QAAQ,CAAC+C,aAAa,CAACQ,MAAM,CACtD,CAACC,CAAC,EAAEC,CAAC,KACH,IAAIC,IAAI,CAACD,CAAC,CAACE,WAAW,CAAC,GAAG,IAAID,IAAI,CAACF,CAAC,CAACG,WAAW,CAAC,GAAGF,CAAC,GAAGD,CAAC,EAC3DxD,QAAQ,CAAC+C,aAAa,CAAC,CAAC,CAAC,CAC1B;cACD,IACE/F,MAAM,CAACmG,aAAa,CAAC,GAAGnG,MAAM,CAACsG,kBAAkB,CAACH,aAAa,CAAC,EAChE;gBACAX,KAAK,CAACW,aAAa,GACjB,uEAAuE;cAC3E;YACF;UACF,CAAC,MAAM;YACLX,KAAK,CAACW,aAAa,GAAG,UAAU;UAClC;QACF;QACA,OAAOS,MAAM,CAACC,IAAI,CAACrB,KAAK,CAAC,CAACxB,MAAM,KAAK,CAAC,IAAI8C,IAAI,CAACC,SAAS,CAACvB,KAAK,CAAC;MACjE;IACF;EACF,CAAC;EACD,MAAMwB,YAAY,GAAG;IACnB3C,QAAQ,EAAE;MACR4C,OAAO,EAAE;IACX,CAAC;IACD3C,WAAW,EAAE;MACX2C,OAAO,EACL,EAAA9E,mBAAA,GAAA0B,MAAM,CAACS,WAAW,cAAAnC,mBAAA,uBAAlBA,mBAAA,CAAoB+E,IAAI,MAAK,UAAU,GACnC,UAAU,GACT,eAAclH,MAAM,EAAE,CACpBwE,QAAQ,CAAC,GAAG,EAAE,OAAO,CAAC,CACtBC,MAAM,CAAC,MAAM,CAAE,MAAKzE,MAAM,EAAE,CAACyE,MAAM,CAAC,MAAM,CAAE;IACvD,CAAC;IACDpB,WAAW,EAAE;MACX4D,OAAO,EACL,EAAA7E,mBAAA,GAAAyB,MAAM,CAACR,WAAW,cAAAjB,mBAAA,uBAAlBA,mBAAA,CAAoB8E,IAAI,MAAK,UAAU,GACnC,UAAU,GACV;IACR,CAAC;IACDtC,IAAI,EACF,CAAChC,QAAQ,IAAImB,SAAS,IAAIF,MAAM,CAACe,IAAI,GACjC,oBAAoB,GACpBf,MAAM,CAACe,IAAI,IAAId,QAAQ,GACvB,4BAA4B,GAC5B,KAAK;IACXgB,IAAI,EACF,CAAClC,QAAQ,IAAIqB,SAAS,IAAIJ,MAAM,CAACiB,IAAI,GACjC,mBAAmB,GACnBjB,MAAM,CAACiB,IAAI,IAAIhB,QAAQ,GACvB,4BAA4B,GAC5B,KAAK;IACXiB,QAAQ,EACN,CAACnC,QAAQ,IAAIsB,aAAa,IAAIL,MAAM,CAACkB,QAAQ,GACzC,oBAAoB,GACpBlB,MAAM,CAACsD,cAAc,IAAIrD,QAAQ,GACjC,4BAA4B,GAC5B,KAAK;IACXkB,SAAS,EACP,CAACpC,QAAQ,IAAIuB,cAAc,IAAIN,MAAM,CAACmB,SAAS,GAC3C,mBAAmB,GACnBnB,MAAM,CAACuD,qBAAqB,IAAItD,QAAQ,GACxC,4BAA4B,GAC5B;EACR,CAAC;EAED,MAAMuD,kBAAkB,GAAG,SAAAA,CAAA,EAAiB;IAAA,IAAhBC,MAAM,GAAAC,SAAA,CAAAvD,MAAA,QAAAuD,SAAA,QAAArE,SAAA,GAAAqE,SAAA,MAAG,EAAE;IACrC,MAAMC,aAAa,GAAG9D,SAAS,EAAE;IACjCkD,MAAM,CAACC,IAAI,CAACW,aAAa,CAAC,CAACC,OAAO,CAAEzG,GAAG,IAAK;MAC1C,IAAI,CAACsG,MAAM,CAACI,QAAQ,CAAC1G,GAAG,CAAC,EAAE;QACzB2C,QAAQ,CAAC3C,GAAG,EAAEiB,cAAc,CAAC0F,YAAY,CAACpF,cAAc,CAACvB,GAAG,CAAC,CAAC;MAChE;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAM4G,oBAAoB,GAAGA,CAACC,QAAQ,EAAEC,IAAI,KAAK;IAC/C,IAAIhF,OAAO,EAAE;MACXiF,YAAY,CAACjF,OAAO,CAAC;IACvB;IACAC,UAAU,CAACiF,UAAU,CAACH,QAAQ,EAAEC,IAAI,CAAC,CAAC;EACxC,CAAC;EAED,MAAMG,eAAe,GAAG1I,WAAW,CAAC,MAAM;IACxC,IAAIkD,YAAY,EAAE;MAChB,MAAMyF,CAAC,GAAGxE,SAAS,EAAE;MACrBjB,YAAY,CAAC;QACX,GAAGyF,CAAC;QACJ/E,QAAQ,EAAE+E,CAAC,CAAC/E,QAAQ,CAACgF,WAAW,EAAE;QAClC7D,WAAW,EAAE4D,CAAC,CAAC5D,WAAW,GACtB4D,CAAC,CAAC5D,WAAW,CAACoD,QAAQ,CAAC,GAAG,CAAC,GACzBQ,CAAC,CAAC5D,WAAW,GACZ,GAAE4D,CAAC,CAAC5D,WAAY,QAAO,GAC1B;MACN,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACZ,SAAS,EAAEjB,YAAY,CAAC,CAAC;EAE7B,MAAM2F,eAAe,GAAG7I,WAAW,CACjC,CAAC8B,IAAI,EAAEgH,KAAK,KAAK;IACf1F,UAAU,CAAC,IAAI,CAAC;IAChBnC,yBAAyB,CAAC;MACxBa,IAAI;MACJgC,WAAW,EAAEgF,KAAK;MAClBC,eAAe,EAAE;IACnB,CAAC,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;MACf,MAAM;QAAEC;MAAK,CAAC,GAAGD,GAAG;MACpB,IAAIC,IAAI,IAAIA,IAAI,CAACzE,MAAM,GAAG,CAAC,EAAE;QAAA,IAAA0E,MAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,OAAA,EAAAC,OAAA;QAC3B,MAAMC,OAAO,GAAG;UACd,GAAGV,IAAI,CAAC,CAAC,CAAC;UACVnE,WAAW,EAAE,EAAAoE,MAAA,GAAAD,IAAI,CAAC,CAAC,CAAC,cAAAC,MAAA,uBAAPA,MAAA,CAASpE,WAAW,IAC7B,EAAAqE,OAAA,GAAAF,IAAI,CAAC,CAAC,CAAC,cAAAE,OAAA,uBAAPA,OAAA,CAASS,kBAAkB,IACzBpJ,MAAM,EAAA4I,OAAA,GAACH,IAAI,CAAC,CAAC,CAAC,cAAAG,OAAA,uBAAPA,OAAA,CAAStE,WAAW,CAAC,CAACG,MAAM,CAAC,MAAM,CAAC,GAC3CzE,MAAM,CAACyI,IAAI,CAAC,CAAC,CAAC,CAACnE,WAAW,CAAC,CAACG,MAAM,CAAC,YAAY,CAAC,GAClD,EAAE;UACN4E,kBAAkB,EAAE,EAAAR,OAAA,GAAAJ,IAAI,CAAC,CAAC,CAAC,cAAAI,OAAA,uBAAPA,OAAA,CAASQ,kBAAkB,KAAAP,OAAA,GAC3CL,IAAI,CAAC,CAAC,CAAC,cAAAK,OAAA,uBAAPA,OAAA,CAASO,kBAAkB,GAC3B,EAAE;UACNC,aAAa,EAAE,EAAAP,OAAA,GAAAN,IAAI,CAAC,CAAC,CAAC,cAAAM,OAAA,uBAAPA,OAAA,CAASO,aAAa,KAAAN,OAAA,GAAGP,IAAI,CAAC,CAAC,CAAC,cAAAO,OAAA,uBAAPA,OAAA,CAASM,aAAa,GAAG,EAAE;UACnEvD,aAAa,EAAE,EAAAkD,OAAA,GAAAR,IAAI,CAAC,CAAC,CAAC,cAAAQ,OAAA,uBAAPA,OAAA,CAASlD,aAAa,KAAAmD,OAAA,GAAGT,IAAI,CAAC,CAAC,CAAC,cAAAS,OAAA,uBAAPA,OAAA,CAASnD,aAAa,GAAG;QACnE,CAAC;QACD9C,WAAW,CAACkG,OAAO,CAAC;QACpB1F,KAAK,CAAC;UACJ,GAAG0F,OAAO;UACVpD,aAAa,EAAE;QACjB,CAAC,CAAC;MACJ,CAAC,MAAM;QACL9C,WAAW,CAACC,SAAS,CAAC;QACtBmE,kBAAkB,CAAC,CAAC,UAAU,EAAE,aAAa,CAAC,CAAC;MACjD;MACA1E,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;IACF;EACF,CAAC,EACD,CAACc,KAAK,EAAER,WAAW,CAAC,CACrB;EACDzD,SAAS,CAAC,MAAM;IACd,IACE8C,gBAAgB,IAChBa,QAAQ,IACRE,WAAW,IACXA,WAAW,CAACW,MAAM,GAAG,CAAC,IACtBX,WAAW,CAACW,MAAM,GAAG,EAAE,EACvB;MACAoE,eAAe,CAACjF,QAAQ,EAAEE,WAAW,CAAC;IACxC;EACF,CAAC,EAAE,CAAC+E,eAAe,EAAE9F,gBAAgB,EAAEa,QAAQ,EAAEE,WAAW,CAAC,CAAC;EAE9D7D,SAAS,CAAC,MAAM;IACd,IAAI+C,cAAc,EAAE;MAClBM,WAAW,CAAC0G,OAAO,CAAChH,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEiH,EAAE,CAAC,CAAC;MACxC/F,KAAK,CAAC;QACJ,GAAGlB,cAAc;QACjB+B,WAAW,EAAE,CAAA/B,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE+B,WAAW,IACpC,CAAA/B,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE6G,kBAAkB,IAChCpJ,MAAM,CAACuC,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE+B,WAAW,CAAC,CAACG,MAAM,CAAC,MAAM,CAAC,GAClD,IAAIiC,IAAI,CAACnE,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE+B,WAAW,CAAC,GACvC,EAAE;QACN+E,kBAAkB,EAAE,CAAA9G,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE8G,kBAAkB,IAClD9G,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE8G,kBAAkB,GAClC,EAAE;QACNC,aAAa,EAAE,CAAA/G,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE+G,aAAa,IACxC/G,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE+G,aAAa,GAC7B,EAAE;QACNvD,aAAa,EAAE,CAAAxD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEwD,aAAa,IACxCxD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEwD,aAAa,GAC7B;MACN,CAAC,CAAC;IACJ,CAAC,MAAM;MACLtC,KAAK,CAAC;QACJ,GAAGxB,cAAc,CAAC0F,YAAY,CAACpF,cAAc;QAC7CkH,IAAI,EAAG,IAAG3J,MAAM,EAAG;MACrB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAC2D,KAAK,EAAElB,cAAc,CAAC,CAAC;EAE3B,MAAMmH,QAAQ,gBACZpK,KAAA,CAAAqK,aAAA,CAAArK,KAAA,CAAAsK,QAAA,qBACEtK,KAAA,CAAAqK,aAAA,CAAClI,SAAS;IACRG,IAAI,EAAE2B,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,GAAG,CAAE;IAC1CsG,OAAO,EAAEA,CAAA,KAAMlG,QAAQ,CAAC,oBAAoB,EAAE,IAAI,CAAE;IAAAmG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrD,eAED,CAAY,eACZ7K,KAAA,CAAAqK,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAM,GAAC,CAAO,eACd7K,KAAA,CAAAqK,aAAA,CAAC7H,SAAS;IACRF,IAAI,EAAE2B,KAAK,CAAC,oBAAoB,CAAC,GAAG,CAAC,GAAG,CAAE;IAC1CsG,OAAO,EAAEA,CAAA,KAAMlG,QAAQ,CAAC,oBAAoB,EAAE,KAAK,CAAE;IAAAmG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtD,cAED,CAAY,CAEf;EAED,MAAMC,gBAAgB,GAAG,CACvB;IACEpJ,GAAG,EAAE,SAAS;IACdqJ,KAAK,EAAE,mBAAmB;IAC1BpD,OAAO,EAAE;MACPA,OAAO,eACL3H,KAAA,CAAAqK,aAAA,CAAArK,KAAA,CAAAsK,QAAA,qBACEtK,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACoK,KAAK;QAACC,MAAM,EAAC,OAAO;QAAAT,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACxB7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;QACT2B,IAAI,EAAC,aAAa;QAClBmJ,YAAY,EAAC,EAAE;QACfhH,OAAO,EAAEA,OAAQ;QACjBiH,MAAM,EAAEC,KAAA;UAAA,IAAC;YAAElI,QAAQ;YAAEmI,MAAM;YAAE7J;UAAM,CAAC,GAAA4J,KAAA;UAAA,oBAClCpL,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAAC0K,MAAM;YACVC,KAAK;YACLC,MAAM;YACNC,SAAS,EAAE,CAACnI,QAAS;YACrBoI,MAAM;YACNC,KAAK,EAAC,qBAAW;YACjBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;YACnB0B,QAAQ,EAAEA,CAAC0I,CAAC,EAAAC,KAAA;cAAA,IAAE;gBAAErK,KAAK,EAAEsK;cAAE,CAAC,GAAAD,KAAA;cAAA,OAAK3I,QAAQ,CAAC4I,CAAC,CAAC;YAAA,CAAC;YAC3CT,MAAM,EAAEA,CAAA,KAAM;cACZA,MAAM,EAAE;cACR1C,eAAe,EAAE;YACnB,CAAE;YACFoD,OAAO,EACLzI,QAAQ,GACJ3B,aAAa,CAACqK,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACzK,KAAK,KAAKA,KAAK,CAAC,GAC9CG,aACL;YAAA6I,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,EACD;QAAA,CACF;QAAAL,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;QACT2B,IAAI,EAAC,UAAU;QACfmJ,YAAY,EAAC,EAAE;QACfhH,OAAO,EAAEA,OAAQ;QACjBiH,MAAM,EAAEe,KAAA;UAAA,IAAC;YAAEhJ,QAAQ;YAAEmI,MAAM;YAAE7J;UAAM,CAAC,GAAA0K,KAAA;UAAA,oBAClClM,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAAC0K,MAAM;YACVC,KAAK;YACLC,MAAM;YACNC,SAAS,EAAE,CAACnI,QAAS;YACrBoI,MAAM;YACNC,KAAK,EAAC,gBAAU;YAChBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;YACnB0B,QAAQ,EAAEA,CAAC0I,CAAC,EAAAO,KAAA;cAAA,IAAE;gBAAE3K,KAAK,EAAEsK;cAAE,CAAC,GAAAK,KAAA;cAAA,OAAKjJ,QAAQ,CAAC4I,CAAC,CAAC;YAAA,CAAC;YAC3CT,MAAM,EAAEA,CAAA,KAAM;cACZA,MAAM,EAAE;cACR1C,eAAe,EAAE;YACnB,CAAE;YACFoD,OAAO,EACLzI,QAAQ,GACJ7B,eAAe,CAACuK,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACzK,KAAK,KAAKA,KAAK,CAAC,GAChDC,eACL;YAAA+I,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,EACD;QAAA,CACF;QAAAL,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;QACT2B,IAAI,EAAC,KAAK;QACVmJ,YAAY,EAAC,EAAE;QACfhH,OAAO,EAAEA,OAAQ;QACjBiH,MAAM,EAAEiB,KAAA;UAAA,IAAC;YAAElJ,QAAQ;YAAEmI,MAAM;YAAE7J;UAAM,CAAC,GAAA4K,KAAA;UAAA,oBAClCpM,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;YACTd,KAAK;YACLI,KAAK,EAAC,uBAAa;YACnBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;YACnB0B,QAAQ,EAAEA,QAAS;YACnBmI,MAAM,EAAEA,CAAA,KAAM;cACZA,MAAM,EAAE;cACR1C,eAAe,EAAE;YACnB,CAAE;YAAA6B,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,EACF;QAAA,CACF;QAAAL,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACF,eAEF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;QACT2B,IAAI,EAAC,OAAO;QACZmJ,YAAY,EAAC,EAAE;QACfhH,OAAO,EAAEA,OAAQ;QACjBiH,MAAM,EAAEmB,MAAA;UAAA,IAAC;YAAEpJ,QAAQ;YAAEmI,MAAM;YAAE7J;UAAM,CAAC,GAAA8K,MAAA;UAAA,oBAClCtM,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;YACTd,KAAK;YACL3D,IAAI,EAAC,OAAO;YACZ+D,KAAK,EAAC,OAAO;YACbnK,KAAK,EAAEA,KAAK,IAAI,EAAG;YACnB0B,QAAQ,EAAEA,QAAS;YACnBmI,MAAM,EAAEA,CAAA,KAAM;cACZA,MAAM,EAAE;cACR1C,eAAe,EAAE;YACnB,CAAE;YACFrF,QAAQ,EAAEA,QAAS;YAAAkH,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,EACnB;QAAA,CACF;QAAAL,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACF,CACS,eACb7K,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACoK,KAAK;QAACC,MAAM,EAAC,OAAO;QAAAT,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACxB7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;QACT2B,IAAI,EAAC,eAAe;QACpBmJ,YAAY,EAAE,EAAG;QACjBhH,OAAO,EAAEA,OAAQ;QACjBiH,MAAM,EAAEoB,MAAA;UAAA,IAAC;YAAErJ,QAAQ;YAAEmI,MAAM;YAAE7J;UAAM,CAAC,GAAA+K,MAAA;UAAA,oBAClCvM,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAAC4L,KAAK;YACTjB,KAAK;YACLrH,OAAO,EAAElD,cAAe;YACxB2K,KAAK,EAAC,qEAA+B;YACrCc,WAAW,EACTjL,KAAK,CAACkD,MAAM,KAAK,CAAC,GACdlD,KAAK,CAAC,CAAC,CAAC,GACR;cACEkL,KAAK,EAAE,EAAE;cACTC,KAAK,EAAE,EAAE;cACTrG,iBAAiB,EAAE,EAAE;cACrBH,aAAa,EAAE,EAAE;cACjBC,aAAa,EAAE,EAAE;cACjBC,SAAS,EAAE;YACb,CACL;YACDnD,QAAQ,EAAG0J,CAAC,IAAK;cACf1J,QAAQ,CAAC,CAAC0J,CAAC,CAAC,CAAC;cACbjE,eAAe,EAAE;YACnB,CAAE;YACF0C,MAAM,EAAEA,MAAO;YACf/H,QAAQ,EAAEA,QAAS;YAAAkH,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,EACnB;QAAA,CACF;QAAAL,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACF,CACS;IAGnB;EACF,CAAC,CACF;EAED,oBACE7K,KAAA,CAAAqK,aAAA,CAACpI,OAAO;IAAAuI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACN7K,KAAA,CAAAqK,aAAA,CAACvJ,MAAM;IAAC+L,QAAQ;IAACC,MAAM,EAAE1J,OAAQ;IAAAoH,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/B7K,KAAA,CAAAqK,aAAA,CAACtJ,MAAM;IAAAyJ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,CACH,eACT7K,KAAA,CAAAqK,aAAA;IAAK0C,SAAS,EAAC,SAAS;IAAAvC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtB7K,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACoK,KAAK;IAACC,MAAM,EAAC,OAAO;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxB7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IAAC2B,IAAI,EAAC,IAAI;IAACmJ,YAAY,EAAC,EAAE;IAAChH,OAAO,EAAEA,OAAQ;IAAAsG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,eAC1D7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IAAC2B,IAAI,EAAC,MAAM;IAACmJ,YAAY,EAAC,EAAE;IAAChH,OAAO,EAAEA,OAAQ;IAAAsG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,eAC5D7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,oBAAoB;IACzBmJ,YAAY,EAAC,MAAM;IACnBhH,OAAO,EAAEA,OAAQ;IAAAsG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACjB,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,UAAU;IACfmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACC,QAAS;IAC5BoG,MAAM,EAAE8B,MAAA;MAAA,IAAC;QAAE/J,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAAyL,MAAA;MAAA,oBAClCjN,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;QACTtH,QAAQ;QACRwG,KAAK;QACLI,KAAK,EAAC,sBAAW;QACjBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;QACnB0B,QAAQ,EAAEA,CAACgK,EAAE,EAAAC,MAAA,KAAmB;UAAA,IAAjB;YAAE3L,KAAK,EAAEsK;UAAE,CAAC,GAAAqB,MAAA;UACzBjK,QAAQ,CAAC4I,CAAC,CAAC;UACXxD,oBAAoB,CAACxE,WAAW,CAACgI,CAAC,CAACjD,WAAW,EAAE,CAAC,EAAE,IAAI,CAAC;QAC1D,CAAE;QACFwC,MAAM,EAAEA,CAAA,KAAM;UACZA,MAAM,EAAE;UACRnI,QAAQ,CAAC1B,KAAK,CAACqH,WAAW,EAAE,CAAC;UAC7BF,eAAe,EAAE;QACnB,CAAE;QACFzC,KAAK,EAAE3B,MAAM,CAACV,QAAQ,IAAI6D,YAAY,CAAC3C,QAAS;QAChDzB,QAAQ,EAAEA,QAAS;QAAAkH,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACnB;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,aAAa;IAClBmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACf,WAAY;IAC/BoH,MAAM,EAAEiC,MAAA;MAAA,IAAC;QAAElK,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAA4L,MAAA;MAAA,oBAClCpN,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;QACTd,KAAK;QACLxG,QAAQ;QACR6C,IAAI,EAAC,QAAQ;QACb+D,KAAK,EAAC,mCAAe;QACrBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;QACnB0B,QAAQ,EAAEA,CAACgK,EAAE,EAAAG,MAAA,KAAmB;UAAA,IAAjB;YAAE7L,KAAK,EAAEsK;UAAE,CAAC,GAAAuB,MAAA;UACzBnK,QAAQ,CAAC4I,CAAC,CAAC;UACXxD,oBAAoB,CAACtE,cAAc,CAAC8H,CAAC,CAAC,EAAE,GAAG,CAAC;QAC9C,CAAE;QACFT,MAAM,EAAEA,CAAA,KAAM;UACZA,MAAM,EAAE;UACR1C,eAAe,EAAE;QACnB,CAAE;QACFzC,KAAK,EACH,CAAC5C,QAAQ,IAAIiB,MAAM,CAACR,WAAW,IAAI2D,YAAY,CAAC3D,WACjD;QACDT,QAAQ,EAAEA,QAAS;QAAAkH,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACnB;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,aAAa;IAClBmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACE,WAAY;IAC/BmG,MAAM,EAAEmC,MAAA,IAAiC;MAAA,IAAhC;QAAEpK,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAA8L,MAAA;MAClC,IAAIrJ,KAAK,CAAC,oBAAoB,CAAC,EAAE;QAC/B,oBACEjE,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;UACTd,KAAK;UACLxG,QAAQ;UACR6C,IAAI,EAAC,QAAQ;UACb+D,KAAK,EAAEvB,QAAS;UAChB5I,KAAK,EACHA,KAAK,CAAC+L,QAAQ,EAAE,CAACnF,QAAQ,CAAC,GAAG,CAAC,GAC1B5G,KAAK,CAACgM,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,GACrBhM,KACL;UACD0B,QAAQ,EAAEA,QAAS;UACnBmI,MAAM,EAAEA,CAAA,KAAM;YACZA,MAAM,EAAE;YACR1C,eAAe,EAAE;UACnB,CAAE;UACFzC,KAAK,EACH,CAAC5C,QAAQ,IACTiB,MAAM,CAACS,WAAW,IAClB0C,YAAY,CAAC1C,WACd;UACD1B,QAAQ,EAAEA,QAAS;UAAAkH,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,EACnB;MAEN;MACA;QAAA;QACE;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA7K,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAAC4L,KAAK;UACTzH,QAAQ;UACR4G,KAAK,EAAEvB,QAAS;UAChBlG,OAAO,EAAE7C,kBAAmB;UAC5B6B,QAAQ,EAAEA,QAAS;UACnB1B,KAAK,EAAEA,KAAK,IAAI,EAAG;UACnB6J,MAAM,EAAEA,CAAA,KAAM;YACZA,MAAM,EAAE;YACR1C,eAAe,EAAE;UACnB,CAAE;UACF8E,YAAY,EAAE,CACZ;YACEC,MAAM,EAAE,IAAItG,IAAI,CAACnD,KAAK,CAAC,UAAU,CAAC,CAAC;YACnC0J,KAAK,EAAE,IAAIvG,IAAI;UACjB,CAAC,CACD;UACFlB,KAAK,EACH,CAAC5C,QAAQ,IAAIiB,MAAM,CAACS,WAAW,IAAI0C,YAAY,CAAC1C,WACjD;UAAAwF,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA;MACD;IAEN,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,QAAQ;IACbmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACC,QAAS;IAC5BoG,MAAM,EAAEyC,MAAA;MAAA,IAAC;QAAE1K,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAAoM,MAAA;MAAA,oBAClC5N,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAAC0K,MAAM;QACVC,KAAK;QACLxG,QAAQ;QACR0G,SAAS,EAAE,CAACnI,QAAS;QACrBqI,KAAK,EAAC,mBAAW;QACjBnK,KAAK,EAAEA,KAAM;QACb0B,QAAQ,EAAEA,CAACgK,EAAE,EAAAW,MAAA;UAAA,IAAE;YAAErM,KAAK,EAAEsK;UAAE,CAAC,GAAA+B,MAAA;UAAA,OAAK3K,QAAQ,CAAC4I,CAAC,CAAC;QAAA,CAAC;QAC5CT,MAAM,EAAEA,CAAA,KAAM;UACZA,MAAM,EAAE;UACR1C,eAAe,EAAE;QACnB,CAAE;QACFzC,KAAK,EAAE3B,MAAM,CAACuJ,MAAM,IAAIpG,YAAY,CAAC3C,QAAS;QAC9CgH,OAAO,EACLzI,QAAQ,GACJhC,aAAa,CAAC0K,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACzK,KAAK,KAAKA,KAAK,CAAC,GAC9CF,aACL;QAAAkJ,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACD;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,CACS,eAEb7K,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACoK,KAAK;IAACC,MAAM,EAAC,OAAO;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxB7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,MAAM;IACXmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACQ,IAAK;IACxB6F,MAAM,EAAE4C,MAAA;MAAA,IAAC;QAAE7K,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAAuM,MAAA;MAAA,oBAClC/N,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;QACTd,KAAK;QACLI,KAAK,EAAC,wCAAmB;QACzBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;QACnB0B,QAAQ,EAAEA,QAAS;QACnBmI,MAAM,EAAEA,CAAA,KAAM;UACZA,MAAM,EAAE;UACR1C,eAAe,EAAE;QACnB,CAAE;QACFrF,QAAQ,EAAEA,QAAS;QACnB4C,KAAK,EAAEwB,YAAY,CAACpC,IAAK;QAAAkF,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACzB;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,MAAM;IACXmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACU,IAAK;IACxB2F,MAAM,EAAE6C,MAAA;MAAA,IAAC;QAAE9K,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAAwM,MAAA;MAAA,oBAClChO,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;QACTd,KAAK;QACLI,KAAK,EAAC,gCAAqB;QAC3BnK,KAAK,EAAEA,KAAK,IAAI,EAAG;QACnB0B,QAAQ,EAAEA,QAAS;QACnBmI,MAAM,EAAEA,CAAA,KAAM;UACZA,MAAM,EAAE;UACR1C,eAAe,EAAE;QACnB,CAAE;QACFsF,IAAI,EACF,CAAC3K,QAAQ,gBACPtD,KAAA,CAAAqK,aAAA,CAACxJ,IAAI;UACHkB,IAAI,EAAC,kBAAkB;UACvBmM,IAAI;UACJ3D,OAAO,EAAEA,CAAA,KAAM;YACbrH,QAAQ,CAAC1C,MAAM,EAAE,CAAC;UACpB,CAAE;UAAAgK,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,EACF,GACA,IACL;QACDvH,QAAQ,EAAEA,QAAS;QACnB4C,KAAK,EAAEwB,YAAY,CAAClC,IAAK;QAAAgF,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACzB;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,gBAAgB;IACrBmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACW,QAAS;IAC5B0F,MAAM,EAAEgD,MAAA;MAAA,IAAC;QAAEjL,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAA2M,MAAA;MAAA,oBAClCnO,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;QACTd,KAAK;QACLI,KAAK,EAAC,oBAAU;QAChBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;QACnB0B,QAAQ,EAAEA,QAAS;QACnBmI,MAAM,EAAEA,CAAA,KAAM;UACZA,MAAM,EAAE;UACR1C,eAAe,EAAE;QACnB,CAAE;QACFrF,QAAQ,EAAEA,QAAS;QACnB4C,KAAK,EAAEwB,YAAY,CAACjC,QAAS;QAAA+E,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAC7B;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,eACF7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,uBAAuB;IAC5BmJ,YAAY,EAAC,EAAE;IACfhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACY,SAAU;IAC7ByF,MAAM,EAAEiD,MAAA;MAAA,IAAC;QAAElL,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAA4M,MAAA;MAAA,oBAClCpO,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACyL,KAAK;QACTd,KAAK;QACLI,KAAK,EAAC,8BAAe;QACrBnK,KAAK,EAAEA,KAAK,IAAI,EAAG;QACnB0B,QAAQ,EAAEA,QAAS;QACnBmI,MAAM,EAAEA,CAAA,KAAM;UACZA,MAAM,EAAE;UACR1C,eAAe,EAAE;QACnB,CAAE;QACFrF,QAAQ,EAAEA,QAAS;QACnB4C,KAAK,EAAEwB,YAAY,CAAChC,SAAU;QAAA8E,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAC9B;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,CACS,eAEb7K,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACoK,KAAK;IAACC,MAAM,EAAC,OAAO;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxB7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,oBAAoB;IACzBmJ,YAAY,EAAE,EAAG;IACjBhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAACa,gBAAiB;IACpCwF,MAAM,EAAEkD,MAAA;MAAA,IAAAC,qBAAA;MAAA,IAAC;QAAEpL,QAAQ;QAAEmI,MAAM;QAAE7J;MAAM,CAAC,GAAA6M,MAAA;MAAA,oBAClCrO,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAAC4L,KAAK;QACTjB,KAAK;QACLxG,QAAQ;QACRb,OAAO,EAAElD,cAAe;QACxB2K,KAAK,EAAC,gDAAoB;QAC1Bc,WAAW,EACTjL,KAAK,CAACkD,MAAM,KAAK,CAAC,GACdlD,KAAK,CAAC,CAAC,CAAC,GACR;UACEkL,KAAK,EAAE,EAAE;UACTC,KAAK,EAAE,EAAE;UACTrG,iBAAiB,EAAE,EAAE;UACrBH,aAAa,EAAE,EAAE;UACjBC,aAAa,EAAE,EAAE;UACjBC,SAAS,EAAE;QACb,CACL;QACDnD,QAAQ,EAAG0J,CAAC,IAAK;UACf1J,QAAQ,CAAC,CAAC0J,CAAC,CAAC,CAAC;UACbjE,eAAe,EAAE;QACnB,CAAE;QACF0C,MAAM,EAAEA,MAAO;QACf/H,QAAQ,EAAEA,QAAS;QACnBiL,SAAS,GAAAD,qBAAA,GAAE/J,MAAM,CAACwF,kBAAkB,cAAAuE,qBAAA,uBAAzBA,qBAAA,CAA2BE,OAAQ;QAAAhE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EAC9C;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,CACS,eACb7K,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAACoK,KAAK;IAACC,MAAM,EAAC,OAAO;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxB7K,KAAA,CAAAqK,aAAA,CAACjK,UAAU;IACT2B,IAAI,EAAC,eAAe;IACpBmJ,YAAY,EAAE,EAAG;IACjBhH,OAAO,EAAEA,OAAQ;IACjB8I,KAAK,EAAElI,WAAW,CAAC2B,aAAc;IACjC0E,MAAM,EAAEsD,MAAA;MAAA,IAAAC,qBAAA;MAAA,IAAC;QAAExL,QAAQ;QAAE1B;MAAM,CAAC,GAAAiN,MAAA;MAAA,oBAC1BzO,KAAA,CAAAqK,aAAA,CAACzJ,IAAI,CAAC4L,KAAK;QACTjB,KAAK;QACLxG,QAAQ;QACRb,OAAO,EAAEjD,mBAAoB;QAC7ByC,QAAQ,EACN,CAAAA,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAE+C,aAAa,KACvBkI,KAAK,CAACC,OAAO,CAAClL,QAAQ,CAAC+C,aAAa,CAAC,IACrC/C,QAAQ,CAAC+C,aAAa,CAAC/B,MAAM,KAAK,CAAC,GAC/BhB,QAAQ,CAAC+C,aAAa,CAACQ,MAAM,CAC3B,CAACC,CAAC,EAAEC,CAAC,KACH,IAAIC,IAAI,CAACD,CAAC,CAACE,WAAW,CAAC,GAAG,IAAID,IAAI,CAACF,CAAC,CAACG,WAAW,CAAC,GAC7CF,CAAC,GACDD,CAAC,EACPxD,QAAQ,CAAC+C,aAAa,CAAC,CAAC,CAAC,CAC1B,CAAC;QAAA,EACF;UACEG,kBAAkB,EAAEhD,SAAS;UAC7B;UACAiD,aAAa,EAAE;QACjB,CACL;QACD4F,WAAW,EACTjL,KAAK,CAACkD,MAAM,KAAK,CAAC,GACdlD,KAAK,CAAC,CAAC,CAAC,GACR;UACEoF,kBAAkB,EAAEhD,SAAS;UAC7B;UACAiD,aAAa,EAAE;QACjB,CACL;QACD3D,QAAQ,EAAG0J,CAAC,IAAK;UACf1J,QAAQ,CAAC,CAAC0J,CAAC,CAAC,CAAC;QACf,CAAE;QACF2B,SAAS,GAAAG,qBAAA,GAAEnK,MAAM,CAACkC,aAAa,cAAAiI,qBAAA,uBAApBA,qBAAA,CAAsBF,OAAQ;QAAAhE,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,EACzC;IAAA,CACF;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACF,CACS,EAEZ9H,cAAc,iBACb/C,KAAA,CAAAqK,aAAA,CAAC1J,SAAS;IAACkO,EAAE,EAAEjO,IAAI,CAAC4L,KAAM;IAACsC,MAAM,EAAEhE,gBAAiB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EACrD,CACG,CACE;AAEd,CAAC;AAEDlI,cAAc,CAACoM,SAAS,GAAG;EACzBhM,cAAc,EAAEtC,SAAS,CAACuO,IAAI;EAC9BhM,gBAAgB,EAAEvC,SAAS,CAACuO,IAAI;EAChC/L,cAAc,EAAExC,SAAS,CAACwO,KAAK,CAAC;IAC9BlF,kBAAkB,EAAEtJ,SAAS,CAACyO,OAAO,CAACzO,SAAS,CAACwO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1DjF,aAAa,EAAEvJ,SAAS,CAACyO,OAAO,CAACzO,SAAS,CAACwO,KAAK,CAAC,CAAC,CAAC,CAAC;EACtD,CAAC,CAAC;EACF/L,QAAQ,EAAEzC,SAAS,CAAC0O;AACtB,CAAC;AAEDxM,cAAc,CAAC0F,YAAY,GAAG;EAC5BtF,cAAc,EAAE,IAAI;EACpBC,gBAAgB,EAAE,KAAK;EACvBC,cAAc,EAAE;IACdiH,EAAE,EAAE,CAAC;IACLkF,IAAI,EAAE,EAAE;IACR9J,IAAI,EAAE,EAAE;IACRE,IAAI,EAAE,EAAE;IACRsC,qBAAqB,EAAE,EAAE;IACzBD,cAAc,EAAE,EAAE;IAClBhE,QAAQ,EAAE,EAAE;IACZiK,MAAM,EAAE,EAAE;IACVuB,WAAW,EAAE,EAAE;IACfC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,EAAE;IACTxL,WAAW,EAAE,EAAE;IACfiB,WAAW,EAAE,EAAE;IACf8E,kBAAkB,EAAE,IAAI;IACxB0F,GAAG,EAAE,EAAE;IACPC,wBAAwB,EAAE,EAAE;IAC5B1F,kBAAkB,EAAE,CAClB;MACEG,EAAE,EAAE,CAAC;MACLkF,IAAI,EAAE,EAAE;MACRrN,IAAI,EAAE,EAAE;MACR2N,IAAI,EAAE,EAAE;MACRhD,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTxG,aAAa,EAAE,IAAI;MACnBC,aAAa,EAAE,EAAE;MACjBC,SAAS,EAAE,EAAE;MACbE,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,EAAE;MAChBF,iBAAiB,EAAE,EAAE;MACrBqJ,YAAY,EAAE;IAChB,CAAC,CACF;IACD3F,aAAa,EAAE,CACb;MACEE,EAAE,EAAE,CAAC;MACLkF,IAAI,EAAE,EAAE;MACRrN,IAAI,EAAE,EAAE;MACR2N,IAAI,EAAE,EAAE;MACRhD,KAAK,EAAE,EAAE;MACTC,KAAK,EAAE,EAAE;MACTxG,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,EAAE;MACjBC,SAAS,EAAE,EAAE;MACbE,OAAO,EAAE,EAAE;MACXC,YAAY,EAAE,EAAE;MAChBF,iBAAiB,EAAE,EAAE;MACrBqJ,YAAY,EAAE;IAChB,CAAC,CACF;IACDlJ,aAAa,EAAE;EACjB,CAAC;EACDvD,QAAQ,EAAE;AACZ,CAAC;AAED,eAAeP,cAAc"},"metadata":{},"sourceType":"module"}