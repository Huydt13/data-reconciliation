{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\cds\\\\src\\\\infection-chain\\\\components\\\\subject\\\\quarantine\\\\CompleteQuarantineModal.js\";\nimport React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Button, Form, Modal } from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\nimport { KeyboardDatePicker } from 'app/components/shared';\nimport AddressDetails from '../information/form-sections/AddressDetails';\nconst fields = ['startTime', 'endTime', 'quarantineHomeAddress'];\nconst ButtonWrapper = styled.div`\n  width: 100%;\n  text-align: right;\n  & button {\n    margin: 16px 0 0 10px !important;\n  }\n  & .text {\n    font-weight: bold;\n  }\n`;\nconst CompleteQuarantineModal = props => {\n  const {\n    open,\n    onClose,\n    onSubmit\n  } = props;\n  const {\n    completeQuarantineLoading\n  } = useSelector(s => s.quarantine);\n  const {\n    watch,\n    register,\n    clearErrors,\n    setValue,\n    setError,\n    errors,\n    getValues\n  } = useForm();\n  useEffect(() => {\n    fields.forEach(name => {\n      register({\n        name\n      });\n    });\n    // eslint-disable-next-line\n  }, [register]);\n  const disabledCompleted = useMemo(() => Boolean(!watch('startTime') || !watch('endTime') || !watch('quarantineHomeAddress')), [watch]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"K\\u1EBFt th\\xFAc c\\xE1ch ly\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    loading: completeQuarantineLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"Ng\\xE0y ch\\u1EC9 \\u0111\\u1ECBnh t\\u1EA1i nh\\xE0\",\n    control: KeyboardDatePicker,\n    value: watch('startTime') || '',\n    onChange: date => {\n      clearErrors('startTime');\n      setValue('startTime', date);\n    },\n    onError: e => setError('startTime', e),\n    error: Boolean(errors.startTime),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"Ng\\xE0y k\\u1EBFt th\\xFAc c\\xE1ch ly t\\u1EA1i nh\\xE0\",\n    control: KeyboardDatePicker,\n    value: watch('endTime') || '',\n    onChange: date => {\n      clearErrors('endTime');\n      setValue('endTime', date);\n    },\n    onError: e => setError('endTime', e),\n    error: Boolean(errors.endTime),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"\\u0110\\u1ECBa ch\\u1EC9 n\\u01A1i ti\\u1EBFp t\\u1EE5c c\\xE1ch ly\",\n    control: AddressDetails,\n    onChange: d => setValue('quarantineHomeAddress', d),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"yellow\",\n    content: \"Ti\\u1EBFp t\\u1EE5c c\\xE1ch ly t\\u1EA1i nh\\xE0\",\n    disabled: disabledCompleted,\n    onClick: () => {\n      const values = getValues();\n      onSubmit({\n        ...values,\n        type: 1\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"green\",\n    content: \"K\\u1EBFt th\\xFAc c\\xE1ch ly\",\n    onClick: () => {\n      const values = getValues();\n      onSubmit({\n        ...values,\n        type: 0\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  })))));\n};\nCompleteQuarantineModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired\n};\nexport default CompleteQuarantineModal;","map":{"version":3,"names":["React","useEffect","useMemo","PropTypes","styled","Button","Form","Modal","useForm","useSelector","KeyboardDatePicker","AddressDetails","fields","ButtonWrapper","div","CompleteQuarantineModal","props","open","onClose","onSubmit","completeQuarantineLoading","s","quarantine","watch","register","clearErrors","setValue","setError","errors","getValues","forEach","name","disabledCompleted","Boolean","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","loading","Group","widths","Field","label","control","value","onChange","date","onError","e","error","startTime","endTime","d","color","content","disabled","onClick","values","type","propTypes","bool","isRequired","func"],"sources":["H:/BAKCO/pj/cds/src/infection-chain/components/subject/quarantine/CompleteQuarantineModal.js"],"sourcesContent":["import React, { useEffect, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport { Button, Form, Modal } from 'semantic-ui-react';\nimport { useForm } from 'react-hook-form';\nimport { useSelector } from 'react-redux';\n\nimport { KeyboardDatePicker } from 'app/components/shared';\nimport AddressDetails from '../information/form-sections/AddressDetails';\n\nconst fields = ['startTime', 'endTime', 'quarantineHomeAddress'];\n\nconst ButtonWrapper = styled.div`\n  width: 100%;\n  text-align: right;\n  & button {\n    margin: 16px 0 0 10px !important;\n  }\n  & .text {\n    font-weight: bold;\n  }\n`;\n\nconst CompleteQuarantineModal = (props) => {\n  const { open, onClose, onSubmit } = props;\n  const { completeQuarantineLoading } = useSelector((s) => s.quarantine);\n  const {\n    watch,\n    register,\n    clearErrors,\n    setValue,\n    setError,\n    errors,\n    getValues,\n  } = useForm();\n  useEffect(() => {\n    fields.forEach((name) => {\n      register({ name });\n    });\n    // eslint-disable-next-line\n  }, [register]);\n\n  const disabledCompleted = useMemo(\n    () =>\n      Boolean(\n        !watch('startTime') ||\n          !watch('endTime') ||\n          !watch('quarantineHomeAddress'),\n      ),\n    [watch],\n  );\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Kết thúc cách ly</Modal.Header>\n      <Modal.Content>\n        <Form loading={completeQuarantineLoading}>\n          <Form.Group widths=\"equal\">\n            <Form.Field\n              label=\"Ngày chỉ định tại nhà\"\n              control={KeyboardDatePicker}\n              value={watch('startTime') || ''}\n              onChange={(date) => {\n                clearErrors('startTime');\n                setValue('startTime', date);\n              }}\n              onError={(e) => setError('startTime', e)}\n              error={Boolean(errors.startTime)}\n            />\n            <Form.Field\n              label=\"Ngày kết thúc cách ly tại nhà\"\n              control={KeyboardDatePicker}\n              value={watch('endTime') || ''}\n              onChange={(date) => {\n                clearErrors('endTime');\n                setValue('endTime', date);\n              }}\n              onError={(e) => setError('endTime', e)}\n              error={Boolean(errors.endTime)}\n            />\n          </Form.Group>\n          <Form.Group widths=\"equal\">\n            <Form.Field\n              label=\"Địa chỉ nơi tiếp tục cách ly\"\n              control={AddressDetails}\n              onChange={(d) => setValue('quarantineHomeAddress', d)}\n            />\n          </Form.Group>\n          <ButtonWrapper>\n            <Button\n              color=\"yellow\"\n              content=\"Tiếp tục cách ly tại nhà\"\n              disabled={disabledCompleted}\n              onClick={() => {\n                const values = getValues();\n                onSubmit({\n                  ...values,\n                  type: 1,\n                });\n              }}\n            />\n            <Button\n              color=\"green\"\n              content=\"Kết thúc cách ly\"\n              onClick={() => {\n                const values = getValues();\n                onSubmit({\n                  ...values,\n                  type: 0,\n                });\n              }}\n            />\n          </ButtonWrapper>\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nCompleteQuarantineModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default CompleteQuarantineModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}