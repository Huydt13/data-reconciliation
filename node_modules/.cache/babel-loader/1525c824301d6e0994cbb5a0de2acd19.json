{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\quarantine\\\\components\\\\completed\\\\CompletedSubjectTable.js\";\n/* eslint-disable no-nested-ternary */\nimport React, { useEffect, useState } from 'react';\nimport { Label } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { FiFileText } from 'react-icons/fi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCompletedSubjects } from 'quarantine/actions/quarantine';\nimport { DataTable } from 'app/components/shared';\nimport { getSubjectType } from 'infection-chain/utils/helpers';\nimport CompletedSubjectFilter from './CompletedSubjectFilter';\nconst columns = [{\n  Header: '#',\n  accessor: 'index'\n}, {\n  Header: 'Loại',\n  formatter: row => {\n    const {\n      label,\n      color\n    } = getSubjectType(row.type);\n    return /*#__PURE__*/React.createElement(Label, {\n      basic: true,\n      color: color,\n      content: label,\n      className: \"type-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 14\n      }\n    });\n  }\n}, {\n  Header: 'Tên',\n  formatter: r => r.information.fullName\n}, {\n  Header: 'Ngày sinh',\n  formatter: row => {\n    var _row$information, _row$information2, _row$information3, _row$information4;\n    return (row === null || row === void 0 ? void 0 : (_row$information = row.information) === null || _row$information === void 0 ? void 0 : _row$information.dateOfBirth) ? !(row === null || row === void 0 ? void 0 : (_row$information2 = row.information) === null || _row$information2 === void 0 ? void 0 : _row$information2.hasYearOfBirthOnly) ? moment(row === null || row === void 0 ? void 0 : (_row$information3 = row.information) === null || _row$information3 === void 0 ? void 0 : _row$information3.dateOfBirth).format('DD-MM-YYYY') : moment(row === null || row === void 0 ? void 0 : (_row$information4 = row.information) === null || _row$information4 === void 0 ? void 0 : _row$information4.dateOfBirth).format('YYYY') : 'Chưa xác định';\n  }\n}, {\n  Header: 'Bí danh CDC',\n  accessor: 'code'\n}, {\n  Header: 'Bí danh HCM',\n  formatter: r => r.information.privateAlias\n}, {\n  Header: 'Bí danh BYT',\n  formatter: r => r.information.alias\n}];\nconst CompletedSubjectTable = () => {\n  const [filter, setFilter] = useState({});\n  const [pageSize, setPageSize] = useState(10);\n  const [pageIndex, setPageIndex] = useState(0);\n  const dispatch = useDispatch();\n  const handleRefresh = () => {\n    dispatch(getCompletedSubjects({\n      ...filter,\n      pageIndex,\n      pageSize\n    }));\n  };\n  useEffect(() => {\n    handleRefresh();\n    // eslint-disable-next-line\n  }, [filter, pageSize, pageIndex]);\n  const {\n    getCompletedSubjectsLoading,\n    completedSubjectData: {\n      data,\n      pageCount\n    }\n  } = useSelector(state => state.quarantine);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CompletedSubjectFilter, {\n    onChange: setFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DataTable, {\n    title: \"\\u0110\\u1ED1i t\\u01B0\\u1EE3ng \\u0111\\xE3 k\\u1EBFt th\\xFAc c\\xE1ch ly\",\n    columns: columns,\n    data: (data || []).map((r, i) => ({\n      ...r,\n      index: i + 1\n    })),\n    loading: getCompletedSubjectsLoading,\n    pageCount: pageCount,\n    onPaginationChange: p => {\n      setPageSize(p.pageSize);\n      setPageIndex(p.pageIndex);\n    },\n    actions: [{\n      icon: /*#__PURE__*/React.createElement(FiFileText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 19\n        }\n      }),\n      title: 'Hồ sơ',\n      color: 'blue',\n      onClick: r => window.open(`/profile/${r.profileId}`, '_blank'),\n      disabled: r => !r.profileId\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }));\n};\nexport default CompletedSubjectTable;","map":{"version":3,"names":["React","useEffect","useState","Label","moment","FiFileText","useDispatch","useSelector","getCompletedSubjects","DataTable","getSubjectType","CompletedSubjectFilter","columns","Header","accessor","formatter","row","label","color","type","createElement","basic","content","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","r","information","fullName","_row$information","_row$information2","_row$information3","_row$information4","dateOfBirth","hasYearOfBirthOnly","format","privateAlias","alias","CompletedSubjectTable","filter","setFilter","pageSize","setPageSize","pageIndex","setPageIndex","dispatch","handleRefresh","getCompletedSubjectsLoading","completedSubjectData","data","pageCount","state","quarantine","onChange","title","map","i","index","loading","onPaginationChange","p","actions","icon","onClick","window","open","profileId","disabled"],"sources":["H:/BAKCO/pj/data reconciliation/src/quarantine/components/completed/CompletedSubjectTable.js"],"sourcesContent":["/* eslint-disable no-nested-ternary */\nimport React, { useEffect, useState } from 'react';\nimport { Label } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { FiFileText } from 'react-icons/fi';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  getCompletedSubjects,\n} from 'quarantine/actions/quarantine';\n\nimport { DataTable } from 'app/components/shared';\nimport { getSubjectType } from 'infection-chain/utils/helpers';\n\nimport CompletedSubjectFilter from './CompletedSubjectFilter';\n\nconst columns = [\n  { Header: '#', accessor: 'index' },\n  {\n    Header: 'Loại',\n    formatter: (row) => {\n      const { label, color } = getSubjectType(row.type);\n      return <Label basic color={color} content={label} className=\"type-label\" />;\n    },\n  },\n  { Header: 'Tên', formatter: (r) => r.information.fullName },\n  {\n    Header: 'Ngày sinh',\n    formatter: (row) => (row?.information?.dateOfBirth ? (!row?.information?.hasYearOfBirthOnly\n      ? moment(row?.information?.dateOfBirth).format('DD-MM-YYYY')\n      : moment(row?.information?.dateOfBirth).format('YYYY')) : 'Chưa xác định'),\n  },\n  { Header: 'Bí danh CDC', accessor: 'code' },\n  { Header: 'Bí danh HCM', formatter: (r) => r.information.privateAlias },\n  { Header: 'Bí danh BYT', formatter: (r) => r.information.alias },\n];\n\nconst CompletedSubjectTable = () => {\n  const [filter, setFilter] = useState({});\n  const [pageSize, setPageSize] = useState(10);\n  const [pageIndex, setPageIndex] = useState(0);\n\n  const dispatch = useDispatch();\n\n  const handleRefresh = () => {\n    dispatch(getCompletedSubjects({\n      ...filter,\n      pageIndex,\n      pageSize,\n    }));\n  };\n\n  useEffect(() => {\n    handleRefresh();\n  // eslint-disable-next-line\n  }, [\n    filter,\n    pageSize,\n    pageIndex,\n  ]);\n\n  const {\n    getCompletedSubjectsLoading,\n    completedSubjectData: { data, pageCount },\n  } = useSelector((state) => state.quarantine);\n\n  return (\n    <div>\n      <CompletedSubjectFilter onChange={setFilter} />\n      <DataTable\n        title=\"Đối tượng đã kết thúc cách ly\"\n        columns={columns}\n        data={(data || []).map((r, i) => ({ ...r, index: i + 1 }))}\n        loading={getCompletedSubjectsLoading}\n        pageCount={pageCount}\n        onPaginationChange={(p) => {\n          setPageSize(p.pageSize);\n          setPageIndex(p.pageIndex);\n        }}\n        actions={[\n          {\n            icon: <FiFileText />,\n            title: 'Hồ sơ',\n            color: 'blue',\n            onClick: (r) => window.open(`/profile/${r.profileId}`, '_blank'),\n            disabled: (r) => !r.profileId,\n          },\n        ]}\n      />\n    </div>\n  );\n};\n\nexport default CompletedSubjectTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}