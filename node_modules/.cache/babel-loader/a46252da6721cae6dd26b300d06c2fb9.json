{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\dashboard\\\\components\\\\ExaminationDetailChart.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Bar, BarChart, CartesianGrid, Legend, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getExaminationDetailStatistic } from 'dashboard/actions/dashboard';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { Card, Dimmer, Form, Loader, Responsive } from 'semantic-ui-react';\nimport { KeyboardDatePicker } from 'app/components/shared';\nconst StyledCard = styled(Card)`\n  width: auto !important;\n  padding-bottom: 20px !important;\n`;\nconst ExaminationDetailChart = () => {\n  const {\n    getExaminationDetailStatisticLoading,\n    examinationDetailStatistic: data\n  } = useSelector(s => s.dashboard);\n  const [from, setFrom] = useState(moment().subtract(7, 'days'));\n  const [to, setTo] = useState(moment());\n  const dispatch = useDispatch();\n  const handleRefresh = () => {\n    dispatch(getExaminationDetailStatistic(moment(from).format('YYYY-MM-DD'), moment(to).format('YYYY-MM-DD')));\n  };\n  useEffect(() => {\n    handleRefresh();\n    // eslint-disable-next-line\n  }, [from, to]);\n  const getWidth = () => typeof window === 'undefined' ? Responsive.onlyTablet.minWidth : window.innerWidth;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: getWidth() < 768 ? '20px' : ''\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(StyledCard, {\n    className: \"examination-detail-chart\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Header, {\n    textAlign: \"center\",\n    content: \"Th\\u1ED1ng k\\xEA theo m\\u1EABu x\\xE9t nghi\\u1EC7m\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ui form\",\n    style: {\n      padding: '0 25px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"T\\u1EEB ng\\xE0y\",\n    control: KeyboardDatePicker,\n    value: from,\n    disabledDays: [{\n      after: new Date()\n    }],\n    onChange: setFrom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Form.Field, {\n    label: \"\\u0110\\u1EBFn ng\\xE0y\",\n    control: KeyboardDatePicker,\n    value: to,\n    disabledDays: [{\n      after: new Date(),\n      before: new Date(from)\n    }],\n    onChange: setTo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }))), getExaminationDetailStatisticLoading && /*#__PURE__*/React.createElement(Dimmer, {\n    inverted: true,\n    active: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    aspect: 4.0 / 3.0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(BarChart, {\n    data: data.map(d => ({\n      ...d,\n      'Số lượng mẫu bệnh phẩm đã nhận': d.received,\n      'Số lượng mẫu đang chờ xét nghiệm': d.waiting,\n      date: moment(d.date).format('DD-MM-YYYY')\n    })),\n    margin: {\n      top: 40,\n      right: 20,\n      left: -20,\n      bottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    style: {\n      marginTop: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    stackId: \"a\",\n    dataKey: \"S\\u1ED1 l\\u01B0\\u1EE3ng m\\u1EABu b\\u1EC7nh ph\\u1EA9m \\u0111\\xE3 nh\\u1EADn\",\n    fill: \"#ffa600\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Bar, {\n    stackId: \"a\",\n    dataKey: \"S\\u1ED1 l\\u01B0\\u1EE3ng m\\u1EABu \\u0111ang ch\\u1EDD x\\xE9t nghi\\u1EC7m\",\n    fill: \"#003f5c\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  })))));\n};\nexport default ExaminationDetailChart;","map":{"version":3,"names":["React","useState","useEffect","Bar","BarChart","CartesianGrid","Legend","ResponsiveContainer","Tooltip","XAxis","YAxis","useDispatch","useSelector","getExaminationDetailStatistic","moment","styled","Card","Dimmer","Form","Loader","Responsive","KeyboardDatePicker","StyledCard","ExaminationDetailChart","getExaminationDetailStatisticLoading","examinationDetailStatistic","data","s","dashboard","from","setFrom","subtract","to","setTo","dispatch","handleRefresh","format","getWidth","window","onlyTablet","minWidth","innerWidth","createElement","style","marginTop","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","Header","textAlign","content","padding","Group","widths","marginBottom","Field","label","control","value","disabledDays","after","Date","onChange","before","inverted","active","width","aspect","map","d","received","waiting","date","margin","top","right","left","bottom","strokeDasharray","dataKey","stackId","fill"],"sources":["H:/BAKCO/pj/data reconciliation/src/dashboard/components/ExaminationDetailChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Bar,\n  BarChart,\n  CartesianGrid,\n  Legend,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from 'recharts';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getExaminationDetailStatistic } from 'dashboard/actions/dashboard';\n\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { Card, Dimmer, Form, Loader, Responsive } from 'semantic-ui-react';\nimport { KeyboardDatePicker } from 'app/components/shared';\n\nconst StyledCard = styled(Card)`\n  width: auto !important;\n  padding-bottom: 20px !important;\n`;\n\nconst ExaminationDetailChart = () => {\n  const {\n    getExaminationDetailStatisticLoading,\n    examinationDetailStatistic: data,\n  } = useSelector((s) => s.dashboard);\n\n  const [from, setFrom] = useState(moment().subtract(7, 'days'));\n  const [to, setTo] = useState(moment());\n  const dispatch = useDispatch();\n  const handleRefresh = () => {\n    dispatch(\n      getExaminationDetailStatistic(\n        moment(from).format('YYYY-MM-DD'),\n        moment(to).format('YYYY-MM-DD'),\n      ),\n    );\n  };\n\n  useEffect(() => {\n    handleRefresh();\n    // eslint-disable-next-line\n  }, [from, to]);\n\n  const getWidth = () =>\n    typeof window === 'undefined'\n      ? Responsive.onlyTablet.minWidth\n      : window.innerWidth;\n  return (\n    <div style={{ marginTop: getWidth() < 768 ? '20px' : '' }}>\n      <StyledCard className=\"examination-detail-chart\">\n        <Card.Header\n          textAlign=\"center\"\n          content=\"Thống kê theo mẫu xét nghiệm\"\n        />\n        <div className=\"ui form\" style={{ padding: '0 25px' }}>\n          <Form.Group widths=\"equal\" style={{ marginBottom: '10px' }}>\n            <Form.Field\n              label=\"Từ ngày\"\n              control={KeyboardDatePicker}\n              value={from}\n              disabledDays={[{ after: new Date() }]}\n              onChange={setFrom}\n            />\n            <Form.Field\n              label=\"Đến ngày\"\n              control={KeyboardDatePicker}\n              value={to}\n              disabledDays={[\n                {\n                  after: new Date(),\n                  before: new Date(from),\n                },\n              ]}\n              onChange={setTo}\n            />\n          </Form.Group>\n        </div>\n        {getExaminationDetailStatisticLoading && (\n          <Dimmer inverted active>\n            <Loader />\n          </Dimmer>\n        )}\n        <ResponsiveContainer width=\"100%\" aspect={4.0 / 3.0}>\n          <BarChart\n            data={data.map((d) => ({\n              ...d,\n              'Số lượng mẫu bệnh phẩm đã nhận': d.received,\n              'Số lượng mẫu đang chờ xét nghiệm': d.waiting,\n              date: moment(d.date).format('DD-MM-YYYY'),\n            }))}\n            margin={{\n              top: 40,\n              right: 20,\n              left: -20,\n              bottom: 0,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"date\" />\n            <YAxis />\n            <Legend style={{ marginTop: 30 }} />\n            <Tooltip />\n            <Bar\n              stackId=\"a\"\n              dataKey=\"Số lượng mẫu bệnh phẩm đã nhận\"\n              fill=\"#ffa600\"\n            />\n            <Bar\n              stackId=\"a\"\n              dataKey=\"Số lượng mẫu đang chờ xét nghiệm\"\n              fill=\"#003f5c\"\n            />\n          </BarChart>\n        </ResponsiveContainer>\n      </StyledCard>\n    </div>\n  );\n};\n\nexport default ExaminationDetailChart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}