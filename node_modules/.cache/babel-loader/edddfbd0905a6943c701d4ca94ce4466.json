{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\treatment\\\\components\\\\shared\\\\TransitTreatmentModal.js\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal, Button } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { transitTreatment } from 'treatment/actions/quarantine-list';\nimport { KeyboardDateTimePicker } from 'app/components/shared';\nimport { getHospitals } from 'treatment/actions/hospital';\nconst TransitTreatmentModal = _ref => {\n  let {\n    open,\n    onClose,\n    data,\n    getData\n  } = _ref;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (open) {\n      dispatch(getHospitals({\n        pageSize: 1000,\n        pageIndex: 0\n      }));\n    }\n  }, [dispatch, open, data]);\n  const {\n    control,\n    handleSubmit\n  } = useForm();\n  const {\n    data: hospitalOptions\n  } = useSelector(s => s.treatment.hospital.hospitalData);\n  const getHospitalsLoading = useSelector(s => s.treatment.hospital.getHospitalsLoading);\n  const loading = useSelector(s => s.treatment.quarantineList.transitTreatmentLoading);\n  const onSubmit = async d => {\n    await dispatch(transitTreatment({\n      ...d,\n      profileId: data.profile.id,\n      facilityId: data.facility.id\n    }));\n    onClose();\n    getData();\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Chuy\\u1EC3n tuy\\u1EBFn tr\\xEAn\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"hospitalName\",\n    rules: {\n      required: true\n    },\n    render: _ref2 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref2;\n      return /*#__PURE__*/React.createElement(Form.Select, {\n        fluid: true,\n        search: true,\n        deburr: true,\n        clearable: true,\n        required: true,\n        loading: getHospitalsLoading,\n        label: \"B\\u1EC7nh vi\\u1EC7n tuy\\u1EBFn tr\\xEAn\",\n        value: value,\n        options: hospitalOptions.map(h => ({\n          text: h.description,\n          value: h.description\n        })),\n        onChange: (_, _ref3) => {\n          let {\n            value: v\n          } = _ref3;\n          return onChange(v);\n        },\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"transitDate\",\n    rules: {\n      required: true\n    },\n    render: _ref4 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref4;\n      return /*#__PURE__*/React.createElement(Form.Field, {\n        fluid: true,\n        required: true,\n        isHavingTime: true,\n        control: KeyboardDateTimePicker,\n        disabledDays: [{\n          after: new Date()\n        }],\n        label: \"Th\\u1EDDi gian chuy\\u1EC3n tuy\\u1EBFn\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"transitNote\",\n    render: _ref5 => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref5;\n      return /*#__PURE__*/React.createElement(Form.TextArea, {\n        label: \"Ghi ch\\xFA\",\n        value: value,\n        onChange: onChange,\n        onBlur: onBlur,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(Modal.Actions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    positive: true,\n    labelPosition: \"right\",\n    icon: \"checkmark\",\n    content: \"X\\xE1c nh\\u1EADn\",\n    loading: loading,\n    disabled: loading,\n    onClick: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  })));\n};\nTransitTreatmentModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  getData: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    profile: PropTypes.shape({\n      id: PropTypes.number\n    }),\n    facility: PropTypes.shape({\n      id: PropTypes.string\n    }),\n    facilityId: PropTypes.string\n  }).isRequired\n};\nexport default TransitTreatmentModal;","map":{"version":3,"names":["React","useEffect","PropTypes","Form","Modal","Button","useForm","Controller","useDispatch","useSelector","transitTreatment","KeyboardDateTimePicker","getHospitals","TransitTreatmentModal","_ref","open","onClose","data","getData","dispatch","pageSize","pageIndex","control","handleSubmit","hospitalOptions","s","treatment","hospital","hospitalData","getHospitalsLoading","loading","quarantineList","transitTreatmentLoading","onSubmit","d","profileId","profile","id","facilityId","facility","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","widths","defaultValue","name","rules","required","render","_ref2","onChange","onBlur","value","Select","fluid","search","deburr","clearable","label","options","map","h","text","description","_","_ref3","v","_ref4","Field","isHavingTime","disabledDays","after","Date","_ref5","TextArea","Actions","positive","labelPosition","icon","content","disabled","onClick","propTypes","bool","isRequired","func","shape","number","string"],"sources":["H:/BAKCO/pj/data reconciliation/src/treatment/components/shared/TransitTreatmentModal.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Form, Modal, Button } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { transitTreatment } from 'treatment/actions/quarantine-list';\nimport { KeyboardDateTimePicker } from 'app/components/shared';\nimport { getHospitals } from 'treatment/actions/hospital';\n\nconst TransitTreatmentModal = ({ open, onClose, data, getData }) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (open) {\n      dispatch(getHospitals({ pageSize: 1000, pageIndex: 0 }));\n    }\n  }, [dispatch, open, data]);\n\n  const { control, handleSubmit } = useForm();\n\n  const { data: hospitalOptions } = useSelector(\n    (s) => s.treatment.hospital.hospitalData,\n  );\n  const getHospitalsLoading = useSelector(\n    (s) => s.treatment.hospital.getHospitalsLoading,\n  );\n\n  const loading = useSelector(\n    (s) => s.treatment.quarantineList.transitTreatmentLoading,\n  );\n  const onSubmit = async (d) => {\n    await dispatch(\n      transitTreatment({\n        ...d,\n        profileId: data.profile.id,\n        facilityId: data.facility.id,\n      }),\n    );\n    onClose();\n    getData();\n  };\n\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Chuyển tuyến trên</Modal.Header>\n      <Modal.Content>\n        <Form widths=\"equal\">\n          <Controller\n            control={control}\n            defaultValue=\"\"\n            name=\"hospitalName\"\n            rules={{ required: true }}\n            render={({ onChange, onBlur, value }) => (\n              <Form.Select\n                fluid\n                search\n                deburr\n                clearable\n                required\n                loading={getHospitalsLoading}\n                label=\"Bệnh viện tuyến trên\"\n                value={value}\n                options={hospitalOptions.map((h) => ({\n                  text: h.description,\n                  value: h.description,\n                }))}\n                onChange={(_, { value: v }) => onChange(v)}\n                onBlur={onBlur}\n              />\n            )}\n          />\n          <Controller\n            control={control}\n            defaultValue=\"\"\n            name=\"transitDate\"\n            rules={{ required: true }}\n            render={({ onChange, onBlur, value }) => (\n              <Form.Field\n                fluid\n                required\n                isHavingTime\n                control={KeyboardDateTimePicker}\n                disabledDays={[{ after: new Date() }]}\n                label=\"Thời gian chuyển tuyến\"\n                value={value}\n                onChange={onChange}\n                onBlur={onBlur}\n              />\n            )}\n          />\n          <Controller\n            control={control}\n            defaultValue=\"\"\n            name=\"transitNote\"\n            render={({ onChange, onBlur, value }) => (\n              <Form.TextArea\n                label=\"Ghi chú\"\n                value={value}\n                onChange={onChange}\n                onBlur={onBlur}\n              />\n            )}\n          />\n        </Form>\n      </Modal.Content>\n      <Modal.Actions>\n        <Button\n          positive\n          labelPosition=\"right\"\n          icon=\"checkmark\"\n          content=\"Xác nhận\"\n          loading={loading}\n          disabled={loading}\n          onClick={handleSubmit(onSubmit)}\n        />\n      </Modal.Actions>\n    </Modal>\n  );\n};\n\nTransitTreatmentModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  getData: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    profile: PropTypes.shape({\n      id: PropTypes.number,\n    }),\n    facility: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n    facilityId: PropTypes.string,\n  }).isRequired,\n};\n\nexport default TransitTreatmentModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}