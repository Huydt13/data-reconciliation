{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\contact\\\\components\\\\locations\\\\estate\\\\EstateTable.js\";\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { FiEdit3, FiPlus } from 'react-icons/fi';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { searchLocation } from 'contact/actions/contact';\n// import { showConfirmModal } from 'app/actions/global';\nimport { selectEstate } from 'contact/actions/location';\nimport { checkFilter, formatObjectToAddress } from 'app/utils/helpers';\nimport { DataTable } from 'app/components/shared';\nimport EstateModal from './EstateModal';\nimport ContactLocationFilter from '../../contact-location/ContactLocationFilter';\nconst columns = [{\n  Header: 'Tên địa điểm',\n  accessor: 'name'\n}, {\n  Header: 'Loại hình',\n  formatter: _ref => {\n    var _address$locationType;\n    let {\n      address\n    } = _ref;\n    return (_address$locationType = address === null || address === void 0 ? void 0 : address.locationType) !== null && _address$locationType !== void 0 ? _address$locationType : '';\n  }\n}, {\n  Header: 'Địa chỉ',\n  formatter: formatObjectToAddress\n}, {\n  Header: 'Người liên hệ',\n  accessor: 'contactName'\n}, {\n  Header: 'SĐT liên hệ',\n  accessor: 'contactPhoneNumber'\n}];\nconst EstateTable = () => {\n  const dispatch = useDispatch();\n  const {\n    data,\n    totalPages\n  } = useSelector(s => s.contact.searchContactLocationList);\n  const loading = useSelector(s => s.contact.getSearchContactLocationLoading);\n  const [pageIndex, setPageIndex] = useState(0);\n  const [pageSize, setPageSize] = useState(10);\n  const [filter, setFilter] = useState({});\n  const [openEstateModal, setOpenEstateModal] = useState(false);\n  const [selecting, setSelecting] = useState({});\n  const getData = useCallback(() => {\n    dispatch(searchLocation({\n      ...filter,\n      pageSize,\n      pageIndex\n    }));\n  }, [dispatch, filter, pageSize, pageIndex]);\n  useEffect(getData, [getData]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ContactLocationFilter, {\n    onChange: d => checkFilter(filter, d) && setFilter(d),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DataTable, {\n    columns: columns,\n    loading: loading,\n    data: data || [],\n    pageCount: totalPages,\n    onPaginationChange: _ref2 => {\n      let {\n        pageSize: ps,\n        pageIndex: pi\n      } = _ref2;\n      setPageSize(ps);\n      setPageIndex(pi);\n    },\n    onRowClick: r => dispatch(selectEstate(r)),\n    actions: [{\n      icon: /*#__PURE__*/React.createElement(FiPlus, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 19\n        }\n      }),\n      color: 'green',\n      title: 'Tạo',\n      onClick: () => setOpenEstateModal(true),\n      globalAction: true\n    }, {\n      icon: /*#__PURE__*/React.createElement(FiEdit3, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 19\n        }\n      }),\n      color: 'violet',\n      title: 'Cập nhật',\n      onClick: r => {\n        setSelecting(r);\n        setOpenEstateModal(true);\n      }\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(EstateModal, {\n    open: openEstateModal,\n    data: selecting,\n    onRefresh: getData,\n    onClose: () => {\n      setSelecting({});\n      setOpenEstateModal(false);\n    },\n    onSelect: d => {\n      dispatch(selectEstate(d));\n      setOpenEstateModal(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }));\n};\nexport default EstateTable;","map":{"version":3,"names":["React","useCallback","useEffect","useState","FiEdit3","FiPlus","useDispatch","useSelector","searchLocation","selectEstate","checkFilter","formatObjectToAddress","DataTable","EstateModal","ContactLocationFilter","columns","Header","accessor","formatter","_ref","_address$locationType","address","locationType","EstateTable","dispatch","data","totalPages","s","contact","searchContactLocationList","loading","getSearchContactLocationLoading","pageIndex","setPageIndex","pageSize","setPageSize","filter","setFilter","openEstateModal","setOpenEstateModal","selecting","setSelecting","getData","createElement","Fragment","onChange","d","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","pageCount","onPaginationChange","_ref2","ps","pi","onRowClick","r","actions","icon","color","title","onClick","globalAction","open","onRefresh","onClose","onSelect"],"sources":["H:/BAKCO/pj/data reconciliation/src/contact/components/locations/estate/EstateTable.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\n\nimport { FiEdit3, FiPlus } from 'react-icons/fi';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { searchLocation } from 'contact/actions/contact';\n// import { showConfirmModal } from 'app/actions/global';\nimport { selectEstate } from 'contact/actions/location';\n\nimport { checkFilter, formatObjectToAddress } from 'app/utils/helpers';\n\nimport { DataTable } from 'app/components/shared';\n\nimport EstateModal from './EstateModal';\nimport ContactLocationFilter from '../../contact-location/ContactLocationFilter';\n\nconst columns = [\n  { Header: 'Tên địa điểm', accessor: 'name' },\n  {\n    Header: 'Loại hình',\n    formatter: ({ address }) => address?.locationType ?? '',\n  },\n  { Header: 'Địa chỉ', formatter: formatObjectToAddress },\n  { Header: 'Người liên hệ', accessor: 'contactName' },\n  { Header: 'SĐT liên hệ', accessor: 'contactPhoneNumber' },\n];\nconst EstateTable = () => {\n  const dispatch = useDispatch();\n\n  const { data, totalPages } = useSelector(\n    (s) => s.contact.searchContactLocationList,\n  );\n  const loading = useSelector((s) => s.contact.getSearchContactLocationLoading);\n\n  const [pageIndex, setPageIndex] = useState(0);\n  const [pageSize, setPageSize] = useState(10);\n  const [filter, setFilter] = useState({});\n  const [openEstateModal, setOpenEstateModal] = useState(false);\n  const [selecting, setSelecting] = useState({});\n\n  const getData = useCallback(() => {\n    dispatch(searchLocation({ ...filter, pageSize, pageIndex }));\n  }, [dispatch, filter, pageSize, pageIndex]);\n  useEffect(getData, [getData]);\n  return (\n    <>\n      <ContactLocationFilter\n        onChange={(d) => checkFilter(filter, d) && setFilter(d)}\n      />\n      <DataTable\n        columns={columns}\n        loading={loading}\n        data={data || []}\n        pageCount={totalPages}\n        onPaginationChange={({ pageSize: ps, pageIndex: pi }) => {\n          setPageSize(ps);\n          setPageIndex(pi);\n        }}\n        onRowClick={(r) => dispatch(selectEstate(r))}\n        actions={[\n          {\n            icon: <FiPlus />,\n            color: 'green',\n            title: 'Tạo',\n            onClick: () => setOpenEstateModal(true),\n            globalAction: true,\n          },\n          {\n            icon: <FiEdit3 />,\n            color: 'violet',\n            title: 'Cập nhật',\n            onClick: (r) => {\n              setSelecting(r);\n              setOpenEstateModal(true);\n            },\n          },\n        ]}\n      />\n      <EstateModal\n        open={openEstateModal}\n        data={selecting}\n        onRefresh={getData}\n        onClose={() => {\n          setSelecting({});\n          setOpenEstateModal(false);\n        }}\n        onSelect={(d) => {\n          dispatch(selectEstate(d));\n          setOpenEstateModal(false);\n        }}\n      />\n    </>\n  );\n};\n\nexport default EstateTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}