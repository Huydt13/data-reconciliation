{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\medical-test\\\\components\\\\examinations\\\\GroupProfileModal.js\";\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal } from 'semantic-ui-react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getChildProfile } from 'profile/actions/profile';\nimport { formatToYear, renderGender, renderProfileKey } from 'app/utils/helpers';\nimport { DataTable } from 'app/components/shared';\nconst columns = [{\n  Header: '#',\n  accessor: 'index'\n}, {\n  Header: 'Họ và tên',\n  formatter: row => row.fullName.toUpperCase(),\n  cutlength: 50\n}, {\n  Header: 'Năm sinh',\n  formatter: _ref => {\n    let {\n      dateOfBirth\n    } = _ref;\n    return formatToYear(dateOfBirth);\n  }\n}, {\n  Header: 'Giới tính',\n  formatter: renderGender\n}, {\n  Header: 'Số điện thoại',\n  formatter: _ref2 => {\n    let {\n      phoneNumber\n    } = _ref2;\n    return phoneNumber;\n  }\n}, {\n  Header: 'Địa chỉ nhà',\n  formatter: renderProfileKey\n}];\nconst GroupProfileModal = _ref3 => {\n  let {\n    open,\n    onClose,\n    data\n  } = _ref3;\n  const dispatch = useDispatch();\n  const childProfileList = useSelector(s => s.profile.childProfileList);\n  const loading = useSelector(s => s.profile.getChildProfileLoading);\n  useEffect(() => {\n    if (open && data) {\n      dispatch(getChildProfile(data.person.profileId));\n    }\n    // eslint-disable-next-line\n  }, [dispatch, data]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Danh s\\xE1ch h\\u1ED3 s\\u01A1 trong m\\u1EABu g\\u1ED9p\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DataTable, {\n    columns: columns,\n    data: childProfileList.map((r, i) => ({\n      ...r,\n      index: i + 1\n    })),\n    loading: loading,\n    onRowClick: r => window.open(`/profile/${r.id}`, '_blank'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  })));\n};\nGroupProfileModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    person: PropTypes.shape({\n      profileId: PropTypes.number\n    })\n  })\n};\nGroupProfileModal.defaultProps = {\n  data: undefined\n};\nexport default GroupProfileModal;","map":{"version":3,"names":["React","useEffect","PropTypes","Modal","useDispatch","useSelector","getChildProfile","formatToYear","renderGender","renderProfileKey","DataTable","columns","Header","accessor","formatter","row","fullName","toUpperCase","cutlength","_ref","dateOfBirth","_ref2","phoneNumber","GroupProfileModal","_ref3","open","onClose","data","dispatch","childProfileList","s","profile","loading","getChildProfileLoading","person","profileId","createElement","size","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Content","map","r","i","index","onRowClick","window","id","propTypes","bool","isRequired","func","shape","number","defaultProps","undefined"],"sources":["H:/BAKCO/pj/data reconciliation/src/medical-test/components/examinations/GroupProfileModal.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Modal } from 'semantic-ui-react';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getChildProfile } from 'profile/actions/profile';\n\nimport {\n  formatToYear,\n  renderGender,\n  renderProfileKey,\n} from 'app/utils/helpers';\n\nimport { DataTable } from 'app/components/shared';\n\nconst columns = [\n  {\n    Header: '#',\n    accessor: 'index',\n  },\n  {\n    Header: 'Họ và tên',\n    formatter: (row) => row.fullName.toUpperCase(),\n    cutlength: 50,\n  },\n  {\n    Header: 'Năm sinh',\n    formatter: ({ dateOfBirth }) => formatToYear(dateOfBirth),\n  },\n  {\n    Header: 'Giới tính',\n    formatter: renderGender,\n  },\n  {\n    Header: 'Số điện thoại',\n    formatter: ({ phoneNumber }) => phoneNumber,\n  },\n  {\n    Header: 'Địa chỉ nhà',\n    formatter: renderProfileKey,\n  },\n];\n\nconst GroupProfileModal = ({ open, onClose, data }) => {\n  const dispatch = useDispatch();\n  const childProfileList = useSelector((s) => s.profile.childProfileList);\n  const loading = useSelector((s) => s.profile.getChildProfileLoading);\n  useEffect(() => {\n    if (open && data) {\n      dispatch(getChildProfile(data.person.profileId));\n    }\n    // eslint-disable-next-line\n  }, [dispatch, data]);\n\n  return (\n    <Modal open={open} onClose={onClose} size=\"large\">\n      <Modal.Header>Danh sách hồ sơ trong mẫu gộp</Modal.Header>\n      <Modal.Content>\n        <DataTable\n          columns={columns}\n          data={childProfileList.map((r, i) => ({ ...r, index: i + 1 }))}\n          loading={loading}\n          onRowClick={(r) => window.open(`/profile/${r.id}`, '_blank')}\n        />\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nGroupProfileModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    person: PropTypes.shape({\n      profileId: PropTypes.number,\n    }),\n  }),\n};\n\nGroupProfileModal.defaultProps = {\n  data: undefined,\n};\n\nexport default GroupProfileModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}