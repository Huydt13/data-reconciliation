{"ast":null,"code":"var _jsxFileName = \"H:\\\\BAKCO\\\\pj\\\\data reconciliation\\\\src\\\\quarantine-facilities\\\\components\\\\quarantine-in-facility\\\\FacilityTransferModal.js\";\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { transferFacility } from 'quarantine-facilities/actions/quarantine';\nconst TreatmentTransferModal = props => {\n  const {\n    open,\n    onClose,\n    onSubmit,\n    data\n  } = props;\n  const {\n    watch,\n    control,\n    getValues\n  } = useForm();\n  const dispatch = useDispatch();\n  const {\n    facilityInfo,\n    selectedFacility,\n    getFacilitiesLoading,\n    facilityData: {\n      data: facilityList\n    }\n  } = useSelector(s => s.quarantineFacility);\n  const {\n    transferFacilityLoading\n  } = useSelector(s => s.quarantine);\n  const handleTransfer = async () => {\n    await dispatch(transferFacility(data.quarantineForm.id, getValues()));\n    onClose();\n    onSubmit();\n  };\n  const disabled = useMemo(() => Boolean(!watch('newFacilityId')), [watch]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: onClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, \"Chuy\\u1EC3n khu c\\xE1ch ly\"), /*#__PURE__*/React.createElement(Modal.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleTransfer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    widths: \"equal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Controller, {\n    control: control,\n    defaultValue: \"\",\n    name: \"newFacilityId\",\n    render: _ref => {\n      let {\n        onChange,\n        onBlur,\n        value\n      } = _ref;\n      return /*#__PURE__*/React.createElement(Form.Select, {\n        fluid: true,\n        search: true,\n        deburr: true,\n        required: true,\n        clearable: true,\n        loading: getFacilitiesLoading,\n        label: \"Khu c\\xE1ch ly m\\u1EDBi\",\n        value: value,\n        onChange: (e, _ref2) => {\n          let {\n            value: v\n          } = _ref2;\n          return onChange(v);\n        },\n        onBlur: onBlur,\n        options: facilityList.filter(f => !f.isTreatmentZone).filter(f => {\n          var _selectedFacility$id, _facilityInfo$;\n          return f.id !== ((_selectedFacility$id = selectedFacility === null || selectedFacility === void 0 ? void 0 : selectedFacility.id) !== null && _selectedFacility$id !== void 0 ? _selectedFacility$id : (_facilityInfo$ = facilityInfo[0]) === null || _facilityInfo$ === void 0 ? void 0 : _facilityInfo$.id);\n        }).map(f => ({\n          value: f.id,\n          text: f.name\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Form.Button, {\n    primary: true,\n    loading: transferFacilityLoading,\n    disabled: disabled || transferFacilityLoading,\n    content: \"X\\xE1c nh\\u1EADn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }))));\n};\nTreatmentTransferModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    quarantineForm: PropTypes.shape({\n      id: PropTypes.string\n    })\n  }).isRequired\n};\nexport default TreatmentTransferModal;","map":{"version":3,"names":["React","useMemo","PropTypes","Form","Modal","useForm","Controller","useDispatch","useSelector","transferFacility","TreatmentTransferModal","props","open","onClose","onSubmit","data","watch","control","getValues","dispatch","facilityInfo","selectedFacility","getFacilitiesLoading","facilityData","facilityList","s","quarantineFacility","transferFacilityLoading","quarantine","handleTransfer","quarantineForm","id","disabled","Boolean","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","Content","Group","widths","defaultValue","name","render","_ref","onChange","onBlur","value","Select","fluid","search","deburr","required","clearable","loading","label","e","_ref2","v","options","filter","f","isTreatmentZone","_selectedFacility$id","_facilityInfo$","map","text","Button","primary","content","propTypes","bool","isRequired","func","shape","string"],"sources":["H:/BAKCO/pj/data reconciliation/src/quarantine-facilities/components/quarantine-in-facility/FacilityTransferModal.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Modal } from 'semantic-ui-react';\nimport { useForm, Controller } from 'react-hook-form';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { transferFacility } from 'quarantine-facilities/actions/quarantine';\n\nconst TreatmentTransferModal = (props) => {\n  const { open, onClose, onSubmit, data } = props;\n  const { watch, control, getValues } = useForm();\n\n  const dispatch = useDispatch();\n  const {\n    facilityInfo,\n    selectedFacility,\n    getFacilitiesLoading,\n    facilityData: { data: facilityList },\n  } = useSelector((s) => s.quarantineFacility);\n  const { transferFacilityLoading } = useSelector((s) => s.quarantine);\n  const handleTransfer = async () => {\n    await dispatch(transferFacility(data.quarantineForm.id, getValues()));\n    onClose();\n    onSubmit();\n  };\n  const disabled = useMemo(() => Boolean(!watch('newFacilityId')), [watch]);\n  return (\n    <Modal open={open} onClose={onClose}>\n      <Modal.Header>Chuyển khu cách ly</Modal.Header>\n      <Modal.Content>\n        <Form onSubmit={handleTransfer}>\n          <Form.Group widths=\"equal\">\n            <Controller\n              control={control}\n              defaultValue=\"\"\n              name=\"newFacilityId\"\n              render={({ onChange, onBlur, value }) => (\n                <Form.Select\n                  fluid\n                  search\n                  deburr\n                  required\n                  clearable\n                  loading={getFacilitiesLoading}\n                  label=\"Khu cách ly mới\"\n                  value={value}\n                  onChange={(e, { value: v }) => onChange(v)}\n                  onBlur={onBlur}\n                  options={facilityList\n                    .filter((f) => !f.isTreatmentZone)\n                    .filter(\n                      (f) =>\n                        f.id !== (selectedFacility?.id ?? facilityInfo[0]?.id),\n                    )\n                    .map((f) => ({\n                      value: f.id,\n                      text: f.name,\n                    }))}\n                />\n              )}\n            />\n          </Form.Group>\n          <Form.Button\n            primary\n            loading={transferFacilityLoading}\n            disabled={disabled || transferFacilityLoading}\n            content=\"Xác nhận\"\n          />\n        </Form>\n      </Modal.Content>\n    </Modal>\n  );\n};\n\nTreatmentTransferModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  data: PropTypes.shape({\n    quarantineForm: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default TreatmentTransferModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}